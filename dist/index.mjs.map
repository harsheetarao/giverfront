{"version":3,"sources":["/Users/christianhammer/Documents/GitHub/ComponentLibrary/dist/index.mjs","../src/components/button.tsx","../src/lib/utils.ts","../src/components/Card.tsx","../src/components/CustomButton.tsx","../src/components/FormDropdown.tsx","../src/components/FormInput.tsx","../src/components/ImageUpload.tsx","../src/components/ListingWorkflow.tsx","../src/components/Tag.tsx","../src/components/InventoryProcessing.tsx","../src/components/MapModal.tsx","../src/components/Modal.tsx","../src/components/MessageBubble.tsx","../src/components/MessageThread.tsx","../src/components/ReceivingWorkflow.tsx","../src/components/SwipeCard.tsx","../src/components/PickupRequestForm.tsx","../src/components/Progress.tsx","../src/components/TermsOfService.tsx","../src/firebaseConfig.ts","../src/components/Privacy.tsx","../src/components/PickupRequestManager.tsx","../src/components/ProductCard.tsx","../src/components/ShoppingCart.tsx","../src/components/SwipeCardDeck.tsx","../src/components/Toggle.tsx","../src/components/PartnerPickupRequestForm.tsx","../src/components/BulkPartnerPickupRequestForm.tsx","../src/components/LogisticsCalendar.tsx","../src/components/PickupList.tsx","../src/components/ProcessingQueue.tsx","../src/components/DriverPickupWorkflow.tsx","../src/components/DropoffRequestManager.tsx","../src/components/InventoryProcessingManager.tsx","../src/components/SearchInput.tsx","../src/components/Header.tsx","../src/components/sheet.tsx","../src/components/Footer.tsx","../src/components/page.tsx"],"names":["React","Slot","cva","clsx","twMerge","cn","inputs","buttonVariants","variants","variant","default","destructive","outline","secondary","ghost","link","size","sm","lg","icon","defaultVariants","Button","React2","forwardRef","ref","className","asChild","props","Comp","createElement","displayName","Card","imageUrl","alt","children","onClick","role","tabIndex","src","primary","cta","CustomButton","label","useState","useRef","useEffect","Check","X","AlertCircle","ChevronDown","stateStyles","normal","border","text","completed","iconBg","error","required","blankRequired","disabled","FormDropdown","hint","state","options","value","onChange","isOpen","setIsOpen","dropdownRef","currentState","styles","selectedOption","find","opt","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","type","map","option","key","FormInput","placeholder","e","useCallback","useId","Upload","ImageUpload","onUpload","maxFiles","uniqueId","inputId","isDragging","setIsDragging","handleFiles","files","fileArray","Array","from","slice","photoUrls","file","URL","createObjectURL","length","handleDrop","preventDefault","dataTransfer","handleDragOver","handleDragLeave","handleFileUpload","onDrop","onDragOver","onDragLeave","id","multiple","accept","htmlFor","variantStyles","deleteButton","Tag","onDelete","Save","Send","ListingWorkflow","items","onUpdateDetails","onUpdateStatus","onSaveDraft","formData","selectedItem","setSelectedItem","processingPhotos","setProcessingPhotos","title","description","condition","dimensions","width","height","materials","attributes","estimatedValue","category","tags","features","defects","storageLocation","price","costToAcquire","setFormData","newAttribute","setNewAttribute","handleSubmit","isFormValid","details","resetForm","handleSaveDraft","handleAddAttribute","trim","prev","item","pickupPhoto","productId","Date","receivedDate","toLocaleDateString","pickupDescription","customerName","status","onKeyDown","attr","index","filter","_","i","toString","parseFloat","min","step","InventoryProcessing","request","onAddProcessingPhotos","onConfirmReceipt","setProductId","setDescription","handleReceiving","handleProcessing","Modal","onClose","Navigation","MapPin","MapModal","address","encodedAddress","encodeURIComponent","mapUrl","process","env","NEXT_PUBLIC_GOOGLE_MAPS_API_KEY","directionsUrl","openInGoogleMaps","window","open","style","loading","allowFullScreen","MessageBubble","stateClasses","tertiary","MessageCircle","MessageThread","messages","onSendMessage","onMessageRead","isExpanded","setIsExpanded","newMessage","setNewMessage","unreadCount","msg","isRead","lastMessage","lastMessageTime","Intl","RelativeTimeFormat","format","Math","ceil","timestamp","getTime","now","handleExpand","forEach","message","sender","content","toLocaleString","onSubmit","motion","useMotionValue","useTransform","SwipeCard","onSwipe","isVisible","exitX","setExitX","x","rotate","opacity","dragEndHandler","info","abs","offset","direction","handleAccept","handleReject","div","drag","dragConstraints","left","right","onDragEnd","animate","transition","duration","whileTap","cursor","draggable","ReceivingWorkflow","onReceiveItem","onRejectItem","processingItem","setProcessingItem","pendingItems","customerEmail","customerPhone","pickupDate","pickupAddress","photos","Fragment","name","charAt","toUpperCase","Progress","steps","currentStep","onStepClick","completedSteps","StepIcon","isCompleted","isCurrent","canClick","includes","Info","Calendar","Camera","UserCircle2","CheckCircle2","usePlacesAutocomplete","TermsOfService","React17","addDoc","collection","initializeApp","getFirestore","firebaseConfig","apiKey","authDomain","projectId","storageBucket","appId","measurementId","app","db","Privacy","React18","STORAGE_KEY","loadFromLocalStorage","data","saved","localStorage","getItem","JSON","parse","validItems","uploadedItems","startsWith","availableTimes","contactInfo","fullName","contact","console","clearLocalStorage","removeItem","PlacesAutocomplete","onSelect","requestOptions","componentRestrictions","country","debounce","defaultValue","cache","ready","suggestions","setValue","clearSuggestions","val","suggestion","place_id","handlePhotoUpload","setUploadedItems","skipContactStep","instanceId","newItems","random","substr","photoUrl","quantity","selectedFiles","prevItems","Promise","all","photo","response","blob","fetch","File","matchingNewItem","newItem","indexOf","some","isValidEmail","email","test","isValidPhone","phone","getMinDate","today","setHours","getHours","toISOString","split","formatPhoneNumber","digits","replace","generateTimeOptions","hour","push","padStart","PickupRequestForm","renderDetailsStep","availableDates","skipConfirmationStep","selectedDate","selectedTime","onDateSelect","onTimeSelect","renderCustomStep","validateStep","isSubmitting","onStepChange","onCompletedStepsChange","performance","isRefresh","navigation","getEntriesByType","parseInt","setCurrentStep","setAvailableTimes","setAddress","setContactInfo","showTerms","setShowTerms","ownership","terms","liability","marketing","confirmations","setConfirmations","feedback","setFeedback","isTermsVisible","setIsTermsVisible","setLoading","formMessage","setFormMessage","isPrivacyVisible","setIsPrivacyVisible","setCompletedSteps","requestId","setRequestId","isStepCompleted","setItem","stringify","handleBeforeUnload","returnValue","savedData","handleItemDescription","itemId","handleQuantityChange","handleTimeSelection","time","t","isSuccessStep","handleItemRemove","handleFeedbackSubmit","feedbackText","feedbackData","docRef","createdAt","pickupRequestId","log","renderStepContent","customContent","max","list","timeSlot","weekday","month","day","toLocaleTimeString","minute","checked","href","location","origin","rel","navigator","clipboard","writeText","rows","handleNewRequest","canProceed","Object","values","every","handleNext","newCompletedSteps","fileUploadPromises","processedItems","result","fileUrls","FormData","append","NEXT_PUBLIC_BACKEND_URL","method","body","ok","Error","json","defaultSteps","formSteps","PickupRequestManager","pickupRequests","onAcceptRequest","onRejectRequest","currentRequestIndex","setCurrentRequestIndex","setItems","isMessagesExpanded","setIsMessagesExpanded","handleSwipe","totalRequests","dateInfo","idx","date","requestCount","messageId","ShoppingCart","ProductCard","salePrice","onAddToCart","toFixed","initialItems","onRemoveItem","onCheckout","subtotal","reduce","sum","tax","total","SwipeCardDeck","cards","onSwipeLeft","onSwipeRight","onEmpty","currentCards","setCurrentCards","history","setHistory","card","c","undoLastSwipe","lastAction","isTop","active","Toggle","handleKeyDown","React24","button","scale","span","stiffness","damping","PartnerPickupRequestForm","setSelectedDate","setSelectedTime","user","skipAddressStep","itemsWithQuantities","FolderUp","BulkPartnerPickupRequestForm","uploadMethod","setUploadMethod","spreadsheet","setSpreadsheet","bulkPhotos","setBulkPhotos","dropOffDate","setDropOffDate","dropOffTime","setDropOffTime","handleSpreadsheetUpload","handleBulkPhotoUpload","Clock","Truck","Package","LogisticsCalendar","calendarData","dayDetails","d","showDetails","setShowDetails","selectedTimeSlot","timeSlots","handleTimeSelect","sort","a","b","localeCompare","slot","availableDrivers","pickupCount","dropoffCount","totalPickups","totalDropoffs","pickups","pickup","dropoffs","dropoff","PickupList","onSelectPickup","ArrowRight","ProcessingQueue","onSelectItem","ChevronRight","DriverPickupWorkflow","requests","onUpdateItemStatus","onAddPhoto","onReschedule","onCompletePickup","selectedRequest","setSelectedRequest","isMapModalOpen","setIsMapModalOpen","filteredRequests","dateA","dateB","verificationPhotos","FileSpreadsheet","Plus","Minus","DropoffRequestManager","dropoffRequests","onApproveRequest","onUpdateQuantity","sortField","setSortField","sortDirection","setSortDirection","currentRequest","sortedItems","partnerName","partnerEmail","partnerPhone","scheduledDate","InventoryProcessingManager","selectedItemId","setSelectedItemId","handleSelectItem","handleBack","processingItems","Search","Filter","SearchInput","onSearch","onFilter","NextImage","Menu","SheetPrimitive","Sheet","Root","SheetTrigger","Trigger","SheetPortal","Portal","SheetOverlay","React33","Overlay","sheetVariants","side","top","bottom","SheetContent","Content","Close","SheetHeader","SheetFooter","SheetTitle","Title","SheetDescription","Description","Header","menuItems","logo","priority","Footer","copyrightText","additionalContent","Page","ShoppingCart2"],"mappings":"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","sourcesContent":["// src/components/button.tsx\nimport * as React2 from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva } from \"class-variance-authority\";\n\n// src/lib/utils.ts\nimport { clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\nfunction cn(...inputs) {\n  return twMerge(clsx(inputs));\n}\n\n// src/components/button.tsx\nvar buttonVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\"\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\"\n      }\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\"\n    }\n  }\n);\nvar Button = React2.forwardRef(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return /* @__PURE__ */ React2.createElement(\n      Comp,\n      {\n        className: cn(buttonVariants({ variant, size, className })),\n        ref,\n        ...props\n      }\n    );\n  }\n);\nButton.displayName = \"Button\";\n\n// src/components/Card.tsx\nimport React3 from \"react\";\nvar Card = ({ imageUrl, alt, children, className = \"\", onClick }) => {\n  return /* @__PURE__ */ React3.createElement(\n    \"div\",\n    {\n      className: \"card-custom\",\n      onClick,\n      role: onClick ? \"button\" : void 0,\n      tabIndex: onClick ? 0 : void 0\n    },\n    /* @__PURE__ */ React3.createElement(\"div\", { className: \"card-custom-image\" }, /* @__PURE__ */ React3.createElement(\n      \"img\",\n      {\n        src: imageUrl,\n        alt,\n        className: \"w-full h-full object-cover\"\n      }\n    )),\n    /* @__PURE__ */ React3.createElement(\"div\", { className: \"w-full\" }, children)\n  );\n};\n\n// src/components/CustomButton.tsx\nimport React4 from \"react\";\nimport { cva as cva2 } from \"class-variance-authority\";\nvar buttonVariants2 = cva2(\n  \"flex items-center justify-center text-base font-poppins rounded-md transition-colors duration-200 ease-in-out px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed\",\n  {\n    variants: {\n      variant: {\n        primary: `\n          bg-[#6AB098] text-white\n          hover:bg-[#5A9F87]\n          active:bg-[#7AC1A9]\n        `,\n        cta: `\n          bg-[#FFD200] text-black\n          hover:bg-[#E6BD00]\n          active:bg-[#FFD933]\n        `,\n        secondary: `\n          bg-[#A9D2C4] text-black\n          hover:bg-[#98C1B3]\n          active:bg-[#BAE3D5]\n        `\n      },\n      size: {\n        default: \"h-10\",\n        sm: \"h-8 text-sm px-3\",\n        lg: \"h-12 text-lg px-6\"\n      }\n    },\n    defaultVariants: {\n      variant: \"primary\",\n      size: \"default\"\n    }\n  }\n);\nvar CustomButton = ({\n  children,\n  icon,\n  label,\n  variant,\n  size,\n  className,\n  ...props\n}) => {\n  return /* @__PURE__ */ React4.createElement(\n    \"button\",\n    {\n      className: cn(buttonVariants2({ variant, size, className })),\n      ...props\n    },\n    icon,\n    label || children\n  );\n};\n\n// src/components/FormDropdown.tsx\nimport React5, { useState, useRef, useEffect } from \"react\";\nimport { Check, X, AlertCircle, ChevronDown } from \"lucide-react\";\nvar stateStyles = {\n  normal: {\n    border: \"border-[#5A7C6F]\",\n    text: \"text-[#5A7C6F]\",\n    icon: null\n  },\n  completed: {\n    border: \"border-[#5A7C6F]\",\n    text: \"text-[#5A7C6F]\",\n    icon: /* @__PURE__ */ React5.createElement(Check, { className: \"h-3 w-3 text-white\" }),\n    iconBg: \"bg-[#5A7C6F]\"\n  },\n  error: {\n    border: \"border-red-500\",\n    text: \"text-red-500\",\n    icon: /* @__PURE__ */ React5.createElement(X, { className: \"h-3 w-3 text-white\" }),\n    iconBg: \"bg-red-500\"\n  },\n  required: {\n    border: \"border-[#109BD4]\",\n    text: \"text-[#5A7C6F]\",\n    icon: null\n  },\n  blankRequired: {\n    border: \"border-[#ED933F]\",\n    text: \"text-[#5A7C6F]\",\n    icon: /* @__PURE__ */ React5.createElement(AlertCircle, { className: \"h-3 w-3 text-white\" }),\n    iconBg: \"bg-[#ED933F]\"\n  },\n  disabled: {\n    border: \"border-gray-300\",\n    text: \"text-gray-400\",\n    icon: null\n  }\n};\nvar FormDropdown = React5.forwardRef(\n  ({ label, hint, state = \"normal\", options, className, disabled, value, onChange, ...props }, ref) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const dropdownRef = useRef(null);\n    const currentState = disabled ? \"disabled\" : state;\n    const styles = stateStyles[currentState];\n    const selectedOption = options.find((opt) => opt.value === value);\n    useEffect(() => {\n      const handleClickOutside = (event) => {\n        if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n          setIsOpen(false);\n        }\n      };\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, []);\n    return /* @__PURE__ */ React5.createElement(\"div\", { className: \"space-y-1.5\", ref: dropdownRef }, /* @__PURE__ */ React5.createElement(\n      \"label\",\n      {\n        className: cn(\n          \"block text-sm font-medium uppercase\",\n          styles.text\n        )\n      },\n      label\n    ), /* @__PURE__ */ React5.createElement(\"div\", { className: \"relative\" }, /* @__PURE__ */ React5.createElement(\n      \"button\",\n      {\n        type: \"button\",\n        disabled,\n        onClick: () => setIsOpen(!isOpen),\n        className: cn(\n          \"w-full px-3 py-2 text-left\",\n          \"pr-16\",\n          \"rounded-[4px]\",\n          \"border-2\",\n          \"font-poppins text-base\",\n          \"focus:outline-none focus:ring-2 focus:ring-[#4B7163] focus:ring-offset-1\",\n          styles.border,\n          disabled && \"bg-gray-50 cursor-not-allowed\",\n          className\n        )\n      },\n      selectedOption?.label || \"Select an option\",\n      /* @__PURE__ */ React5.createElement(\n        ChevronDown,\n        {\n          className: cn(\n            \"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5\",\n            \"text-[#5A7C6F]/60\",\n            isOpen && \"transform rotate-180\"\n          )\n        }\n      )\n    ), isOpen && /* @__PURE__ */ React5.createElement(\"div\", { className: \"absolute z-10 w-full mt-1 py-1 bg-white border-2 border-[#5A7C6F] rounded-lg shadow-lg\" }, options.map((option) => /* @__PURE__ */ React5.createElement(\n      \"button\",\n      {\n        key: option.value,\n        type: \"button\",\n        onClick: () => {\n          onChange?.(option.value);\n          setIsOpen(false);\n        },\n        className: cn(\n          \"w-full px-3 py-2 text-left\",\n          \"hover:bg-[#F8FAF9]\",\n          \"transition-colors\",\n          option.value === value ? \"bg-[#4B7163] text-white\" : \"text-[#5A7C6F]\"\n        )\n      },\n      option.label\n    ))), styles.icon && /* @__PURE__ */ React5.createElement(\"div\", { className: cn(\n      \"absolute right-8 top-1/2 -translate-y-1/2\",\n      \"rounded-full w-4 h-4\",\n      \"flex items-center justify-center\",\n      styles.iconBg\n    ) }, styles.icon)), hint && /* @__PURE__ */ React5.createElement(\"p\", { className: cn(\"text-sm\", styles.text) }, hint));\n  }\n);\nFormDropdown.displayName = \"FormDropdown\";\n\n// src/components/FormInput.tsx\nimport React6 from \"react\";\nimport { Check as Check2, X as X2, AlertCircle as AlertCircle2 } from \"lucide-react\";\nvar stateStyles2 = {\n  normal: {\n    border: \"border-[#5A7C6F]\",\n    text: \"text-[#5A7C6F]\",\n    icon: null\n  },\n  completed: {\n    border: \"border-[#5A7C6F]\",\n    text: \"text-[#5A7C6F]\",\n    icon: /* @__PURE__ */ React6.createElement(Check2, { className: \"h-3 w-3 text-white\" }),\n    iconBg: \"bg-[#5A7C6F]\"\n  },\n  error: {\n    border: \"border-red-500\",\n    text: \"text-red-500\",\n    icon: /* @__PURE__ */ React6.createElement(X2, { className: \"h-3 w-3 text-white\" }),\n    iconBg: \"bg-red-500\"\n  },\n  required: {\n    border: \"border-[#109BD4]\",\n    text: \"text-[#5A7C6F]\",\n    icon: null\n  },\n  blankRequired: {\n    border: \"border-[#ED933F]\",\n    text: \"text-[#5A7C6F]\",\n    icon: /* @__PURE__ */ React6.createElement(AlertCircle2, { className: \"h-3 w-3 text-white\" }),\n    iconBg: \"bg-[#ED933F]\"\n  },\n  disabled: {\n    border: \"border-gray-300\",\n    text: \"text-gray-400\",\n    icon: null\n  }\n};\nvar FormInput = React6.forwardRef(\n  ({ label, hint, state = \"normal\", className, disabled, value, onChange, placeholder, ...props }, ref) => {\n    const currentState = disabled ? \"disabled\" : state;\n    const styles = stateStyles2[currentState];\n    return /* @__PURE__ */ React6.createElement(\"div\", { className: \"space-y-1.5\" }, /* @__PURE__ */ React6.createElement(\n      \"label\",\n      {\n        className: cn(\n          \"block text-sm font-medium uppercase\",\n          styles.text\n        )\n      },\n      label\n    ), /* @__PURE__ */ React6.createElement(\"div\", { className: \"relative\" }, /* @__PURE__ */ React6.createElement(\n      \"input\",\n      {\n        ref,\n        disabled,\n        className: cn(\n          \"w-full px-3 py-2\",\n          \"rounded-[4px]\",\n          \"border-2\",\n          \"font-poppins text-base\",\n          \"placeholder:text-[#5A7C6F]/60\",\n          \"focus:outline-none focus:ring-2 focus:ring-offset-1\",\n          styles.border,\n          disabled && \"bg-gray-50 cursor-not-allowed\",\n          className\n        ),\n        value,\n        onChange: (e) => onChange(e.target.value),\n        placeholder,\n        ...props\n      }\n    ), styles.icon && /* @__PURE__ */ React6.createElement(\n      \"div\",\n      {\n        className: cn(\n          \"absolute right-3 top-1/2 -translate-y-1/2\",\n          \"rounded-full w-4 h-4\",\n          \"flex items-center justify-center\",\n          styles.iconBg\n        )\n      },\n      styles.icon\n    )), hint && /* @__PURE__ */ React6.createElement(\"p\", { className: cn(\n      \"text-sm\",\n      styles.text\n    ) }, hint));\n  }\n);\nFormInput.displayName = \"FormInput\";\n\n// src/components/ImageUpload.tsx\nimport React7, { useCallback, useState as useState2, useId } from \"react\";\nimport { Upload } from \"lucide-react\";\nvar ImageUpload = ({\n  onUpload,\n  maxFiles = 5,\n  className\n}) => {\n  const uniqueId = useId();\n  const inputId = `photo-upload-${uniqueId}`;\n  const [isDragging, setIsDragging] = useState2(false);\n  const handleFiles = useCallback((files) => {\n    const fileArray = Array.from(files).slice(0, maxFiles);\n    const photoUrls = fileArray.map((file) => URL.createObjectURL(file));\n    if (photoUrls.length > 0) {\n      onUpload(photoUrls);\n    }\n  }, [maxFiles, onUpload]);\n  const handleDrop = useCallback((e) => {\n    e.preventDefault();\n    setIsDragging(false);\n    if (e.dataTransfer.files) {\n      handleFiles(e.dataTransfer.files);\n    }\n  }, [handleFiles]);\n  const handleDragOver = useCallback((e) => {\n    e.preventDefault();\n    setIsDragging(true);\n  }, []);\n  const handleDragLeave = useCallback((e) => {\n    e.preventDefault();\n    setIsDragging(false);\n  }, []);\n  const handleFileUpload = (event) => {\n    const files = event.target.files;\n    if (files && files.length > 0) {\n      handleFiles(files);\n      event.target.value = \"\";\n    }\n  };\n  return /* @__PURE__ */ React7.createElement(\"div\", { className: cn(\"space-y-6\", className) }, /* @__PURE__ */ React7.createElement(\n    \"div\",\n    {\n      className: cn(\n        \"border-2 border-dashed rounded-xl p-8 text-center transition-colors\",\n        isDragging ? \"border-[#4B7163] bg-[#F8FAF9]\" : \"border-[#5A7C6F]\",\n        \"hover:border-[#4B7163] hover:bg-[#F8FAF9]\"\n      ),\n      onDrop: handleDrop,\n      onDragOver: handleDragOver,\n      onDragLeave: handleDragLeave\n    },\n    /* @__PURE__ */ React7.createElement(\n      \"input\",\n      {\n        type: \"file\",\n        id: inputId,\n        multiple: true,\n        accept: \"image/*\",\n        className: \"hidden\",\n        onChange: handleFileUpload\n      }\n    ),\n    /* @__PURE__ */ React7.createElement(\n      \"label\",\n      {\n        htmlFor: inputId,\n        className: \"cursor-pointer space-y-4 block\"\n      },\n      /* @__PURE__ */ React7.createElement(Upload, { className: \"h-12 w-12 mx-auto text-[#5A7C6F]\" }),\n      /* @__PURE__ */ React7.createElement(\"div\", { className: \"font-sourceSans\" }, /* @__PURE__ */ React7.createElement(\"p\", { className: \"text-lg font-semibold text-[#4B7163]\" }, \"Drop photos here or click to upload\"), /* @__PURE__ */ React7.createElement(\"p\", { className: \"text-sm text-[#5A7C6F]\" }, \"Upload clear photos (max \", maxFiles, \" files)\"), /* @__PURE__ */ React7.createElement(\"p\", { className: \"text-sm text-[#5A7C6F] mt-2\" }, \"Drag and drop multiple files at once\"))\n    )\n  ));\n};\n\n// src/components/ListingWorkflow.tsx\nimport React9, { useState as useState3 } from \"react\";\n\n// src/components/Tag.tsx\nimport React8 from \"react\";\nimport { X as X3 } from \"lucide-react\";\nvar variantStyles = {\n  primary: {\n    border: \"border-[#6AB098]\",\n    text: \"text-[#6AB098]\",\n    deleteButton: \"bg-[#6AB098] hover:bg-[#5A9F87]\"\n  },\n  cta: {\n    border: \"border-[#FFD200]\",\n    text: \"text-[#FFD200]\",\n    deleteButton: \"bg-[#FFD200] hover:bg-[#E6BD00]\"\n  },\n  secondary: {\n    border: \"border-[#A9D2C4]\",\n    text: \"text-[#A9D2C4]\",\n    deleteButton: \"bg-[#A9D2C4] hover:bg-[#98C1B3]\"\n  }\n};\nvar Tag = ({\n  text,\n  variant = \"primary\",\n  onDelete,\n  className\n}) => {\n  const styles = variantStyles[variant];\n  return /* @__PURE__ */ React8.createElement(\n    \"div\",\n    {\n      className: cn(\n        \"inline-flex items-center\",\n        \"h-7 pl-1 pr-3\",\n        \"rounded-full\",\n        \"font-poppins font-semibold text-sm\",\n        \"bg-[#F8FAF9]\",\n        \"border-2\",\n        \"transition-all duration-200\",\n        styles.border,\n        styles.text,\n        className\n      )\n    },\n    onDelete && /* @__PURE__ */ React8.createElement(\"div\", { className: \"flex items-center\" }, /* @__PURE__ */ React8.createElement(\n      \"button\",\n      {\n        type: \"button\",\n        onClick: onDelete,\n        className: cn(\n          \"flex items-center justify-center\",\n          \"w-5 h-5 rounded-full mr-1\",\n          \"transition-colors duration-200\",\n          styles.deleteButton,\n          \"focus:outline-none focus:ring-2 focus:ring-offset-1\"\n        ),\n        \"aria-label\": `Remove ${text}`\n      },\n      /* @__PURE__ */ React8.createElement(X3, { className: \"h-3 w-3 text-white\" })\n    )),\n    /* @__PURE__ */ React8.createElement(\"span\", { className: \"truncate\" }, text)\n  );\n};\n\n// src/components/ListingWorkflow.tsx\nimport { Save, Send } from \"lucide-react\";\nvar ListingWorkflow = ({\n  items,\n  onUpdateDetails,\n  onUpdateStatus,\n  onSaveDraft,\n  className\n}) => {\n  const [selectedItem, setSelectedItem] = useState3(null);\n  const [processingPhotos, setProcessingPhotos] = useState3([]);\n  const [formData, setFormData] = useState3({\n    title: \"\",\n    description: \"\",\n    condition: \"\",\n    dimensions: { length: 0, width: 0, height: 0 },\n    materials: [],\n    attributes: [],\n    estimatedValue: 0,\n    category: \"\",\n    tags: [],\n    features: \"\",\n    defects: \"\",\n    storageLocation: \"\",\n    price: 0,\n    costToAcquire: 0\n  });\n  const [newAttribute, setNewAttribute] = useState3(\"\");\n  const handleSubmit = () => {\n    if (!selectedItem || !isFormValid()) return;\n    const details = {\n      ...formData,\n      processingPhotos\n    };\n    onUpdateDetails(selectedItem.id, details);\n    onUpdateStatus(selectedItem.id, \"ready_for_sale\");\n    resetForm();\n  };\n  const handleSaveDraft = () => {\n    if (!selectedItem) return;\n    onSaveDraft(selectedItem.id, { ...formData, processingPhotos });\n  };\n  const isFormValid = () => {\n    return formData.title && formData.description && formData.condition && formData.category && formData.storageLocation && formData.price && formData.costToAcquire && processingPhotos.length > 0;\n  };\n  const resetForm = () => {\n    setSelectedItem(null);\n    setProcessingPhotos([]);\n    setFormData({});\n  };\n  const handleAddAttribute = () => {\n    if (newAttribute.trim()) {\n      setFormData((prev) => ({\n        ...prev,\n        attributes: [...prev.attributes || [], newAttribute.trim()]\n      }));\n      setNewAttribute(\"\");\n    }\n  };\n  if (!selectedItem) {\n    return /* @__PURE__ */ React9.createElement(\"div\", { className: cn(\"bg-white rounded-2xl border-2 border-[#4B7163] p-6\", className) }, /* @__PURE__ */ React9.createElement(\"h2\", { className: \"font-rockwell text-2xl text-[#4B7163] mb-6\" }, \"Items Pending Listing (\", items.length, \")\"), /* @__PURE__ */ React9.createElement(\"div\", { className: \"space-y-4\" }, items.map((item) => /* @__PURE__ */ React9.createElement(\n      \"div\",\n      {\n        key: item.id,\n        onClick: () => setSelectedItem(item),\n        className: \"flex gap-4 p-4 border rounded-lg cursor-pointer hover:bg-gray-50\"\n      },\n      /* @__PURE__ */ React9.createElement(\n        \"img\",\n        {\n          src: item.pickupPhoto,\n          alt: `Item ${item.productId}`,\n          className: \"w-24 h-24 rounded-lg object-cover\"\n        }\n      ),\n      /* @__PURE__ */ React9.createElement(\"div\", { className: \"flex-grow\" }, /* @__PURE__ */ React9.createElement(\"div\", { className: \"flex justify-between items-start\" }, /* @__PURE__ */ React9.createElement(\"h3\", { className: \"font-rockwell text-lg text-[#4B7163]\" }, \"Product ID: \", item.productId), /* @__PURE__ */ React9.createElement(\"span\", { className: \"text-sm text-gray-500\" }, \"Received: \", new Date(item.receivedDate).toLocaleDateString())), /* @__PURE__ */ React9.createElement(\"p\", { className: \"text-sm text-gray-600 mt-1\" }, item.pickupDescription), /* @__PURE__ */ React9.createElement(\"p\", { className: \"text-sm text-gray-500 mt-2\" }, \"From: \", item.customerName))\n    ))));\n  }\n  return /* @__PURE__ */ React9.createElement(\"div\", { className: cn(\"space-y-6\", className) }, /* @__PURE__ */ React9.createElement(\n    CustomButton,\n    {\n      onClick: () => setSelectedItem(null),\n      variant: \"secondary\",\n      className: \"flex items-center gap-2\"\n    },\n    \"\\u2190 Back to List\"\n  ), /* @__PURE__ */ React9.createElement(Card, { imageUrl: selectedItem.pickupPhoto, alt: \"Original pickup photo\" }, /* @__PURE__ */ React9.createElement(\"div\", { className: \"space-y-6\" }, /* @__PURE__ */ React9.createElement(\"div\", { className: \"flex justify-between items-start\" }, /* @__PURE__ */ React9.createElement(\"div\", { className: \"flex items-center gap-4\" }, /* @__PURE__ */ React9.createElement(\"h3\", { className: \"font-rockwell text-lg text-[#4B7163]\" }, \"Item ID: \", selectedItem.productId)), /* @__PURE__ */ React9.createElement(Tag, { text: selectedItem.status, variant: \"primary\" })), /* @__PURE__ */ React9.createElement(\n    ImageUpload,\n    {\n      onUpload: setProcessingPhotos,\n      maxFiles: 5,\n      className: \"mb-4\"\n    }\n  ), /* @__PURE__ */ React9.createElement(\"div\", { className: \"grid grid-cols-2 gap-4\" }, /* @__PURE__ */ React9.createElement(\n    FormInput,\n    {\n      label: \"Title\",\n      value: formData.title ?? \"\",\n      onChange: (value) => setFormData({ ...formData, title: value }),\n      state: formData.title ? \"completed\" : \"required\"\n    }\n  ), /* @__PURE__ */ React9.createElement(\"div\", { className: \"space-y-2\" }, /* @__PURE__ */ React9.createElement(\"div\", { className: \"flex gap-2\" }, /* @__PURE__ */ React9.createElement(\n    FormInput,\n    {\n      label: \"Add Attribute\",\n      value: newAttribute,\n      onChange: setNewAttribute,\n      onKeyDown: (e) => e.key === \"Enter\" && handleAddAttribute()\n    }\n  ), /* @__PURE__ */ React9.createElement(\n    CustomButton,\n    {\n      onClick: handleAddAttribute,\n      variant: \"secondary\",\n      className: \"mt-6\"\n    },\n    \"Add\"\n  )), /* @__PURE__ */ React9.createElement(\"div\", { className: \"flex flex-wrap gap-2\" }, formData.attributes?.map((attr, index) => /* @__PURE__ */ React9.createElement(\n    Tag,\n    {\n      key: index,\n      text: attr,\n      onDelete: () => setFormData((prev) => ({\n        ...prev,\n        attributes: prev.attributes?.filter((_, i) => i !== index)\n      }))\n    }\n  ))))), /* @__PURE__ */ React9.createElement(\n    FormDropdown,\n    {\n      label: \"Category\",\n      options: [\n        { value: \"furniture\", label: \"Furniture\" },\n        { value: \"decor\", label: \"Home Decor\" },\n        { value: \"lighting\", label: \"Lighting\" }\n      ],\n      value: formData.category,\n      onChange: (value) => setFormData({ ...formData, category: value }),\n      state: formData.category ? \"completed\" : \"required\"\n    }\n  ), /* @__PURE__ */ React9.createElement(\n    FormInput,\n    {\n      label: \"Description\",\n      value: formData.description ?? \"\",\n      onChange: (value) => setFormData({ ...formData, description: value }),\n      state: formData.description ? \"completed\" : \"required\"\n    }\n  ), /* @__PURE__ */ React9.createElement(\"div\", { className: \"grid grid-cols-2 gap-4\" }, /* @__PURE__ */ React9.createElement(\n    FormInput,\n    {\n      label: \"Set Price ($)\",\n      type: \"number\",\n      value: formData.price?.toString() ?? \"\",\n      onChange: (value) => setFormData({\n        ...formData,\n        price: value ? parseFloat(value) : 0\n      }),\n      state: formData.price ? \"completed\" : \"required\",\n      min: 0,\n      step: 0.01\n    }\n  ), /* @__PURE__ */ React9.createElement(\n    FormInput,\n    {\n      label: \"Cost to Acquire ($)\",\n      type: \"number\",\n      value: formData.costToAcquire?.toString() ?? \"\",\n      onChange: (value) => setFormData({\n        ...formData,\n        costToAcquire: value ? parseFloat(value) : 0\n      }),\n      state: formData.costToAcquire ? \"completed\" : \"required\",\n      min: \"0\",\n      step: 0.01\n    }\n  )), /* @__PURE__ */ React9.createElement(\"div\", { className: \"flex justify-end gap-4 mt-6\" }, /* @__PURE__ */ React9.createElement(\n    CustomButton,\n    {\n      onClick: handleSaveDraft,\n      variant: \"secondary\",\n      className: \"flex items-center gap-2\"\n    },\n    /* @__PURE__ */ React9.createElement(Save, { className: \"h-4 w-4\" }),\n    \"Save Draft\"\n  ), /* @__PURE__ */ React9.createElement(\n    CustomButton,\n    {\n      onClick: handleSubmit,\n      variant: \"cta\",\n      disabled: !isFormValid(),\n      className: \"flex items-center gap-2\"\n    },\n    /* @__PURE__ */ React9.createElement(Send, { className: \"h-4 w-4\" }),\n    \"Mark Ready for Sale\"\n  )))));\n};\n\n// src/components/InventoryProcessing.tsx\nimport { useState as useState4 } from \"react\";\nvar InventoryProcessing = ({\n  request,\n  onUpdateStatus,\n  onUpdateDetails,\n  onAddProcessingPhotos,\n  onConfirmReceipt\n}) => {\n  const [productId, setProductId] = useState4(\"\");\n  const [description, setDescription] = useState4(\"\");\n  const [processingPhotos, setProcessingPhotos] = useState4([]);\n  const handleReceiving = () => {\n    if (!productId) return;\n    onUpdateStatus(\"in_inventory\");\n    onUpdateDetails({ productId });\n    onConfirmReceipt();\n  };\n  const handleProcessing = () => {\n    if (!description || processingPhotos.length === 0) return;\n    onUpdateStatus(\"ready_for_sale\");\n    onUpdateDetails({\n      description,\n      processingPhotos\n    });\n  };\n  return /* @__PURE__ */ React.createElement(\"div\", { className: \"space-y-6\" }, request.status === \"completed\" && /* @__PURE__ */ React.createElement(Card, { imageUrl: request.pickupPhoto, alt: \"Original pickup photo\" }, /* @__PURE__ */ React.createElement(\"h3\", { className: \"font-rockwell text-lg text-[#4B7163] mb-4\" }, \"Receiving Stage\"), /* @__PURE__ */ React.createElement(\n    FormInput,\n    {\n      label: \"Product ID\",\n      placeholder: \"Enter Product ID\",\n      value: productId,\n      onChange: setProductId,\n      state: productId ? \"completed\" : \"required\",\n      hint: \"Enter a unique identifier for this item\"\n    }\n  ), /* @__PURE__ */ React.createElement(\n    CustomButton,\n    {\n      variant: \"cta\",\n      onClick: handleReceiving,\n      disabled: !productId,\n      className: \"mt-4\"\n    },\n    \"Confirm Receipt\"\n  )), request.status === \"in_inventory\" && /* @__PURE__ */ React.createElement(Card, { imageUrl: \"\", alt: \"\" }, /* @__PURE__ */ React.createElement(\"h3\", { className: \"heading-3\" }, \"Item Processing\"), /* @__PURE__ */ React.createElement(\n    ImageUpload,\n    {\n      onUpload: setProcessingPhotos,\n      maxFiles: 5,\n      className: \"mb-4\"\n    }\n  ), /* @__PURE__ */ React.createElement(\n    FormDropdown,\n    {\n      label: \"Item Category\",\n      hint: \"Select the primary category for this item\",\n      state: \"required\",\n      options: [\n        { value: \"\", label: \"Select a category\" },\n        { value: \"furniture\", label: \"Furniture\" },\n        { value: \"decor\", label: \"Home Decor\" },\n        { value: \"lighting\", label: \"Lighting\" }\n      ]\n    }\n  ), /* @__PURE__ */ React.createElement(\n    FormInput,\n    {\n      label: \"Item Description\",\n      placeholder: \"Enter full product description\",\n      value: description,\n      onChange: setDescription,\n      state: description ? \"completed\" : \"required\",\n      hint: \"Provide a detailed description of the item\",\n      className: \"mt-4\"\n    }\n  ), /* @__PURE__ */ React.createElement(\n    CustomButton,\n    {\n      variant: \"cta\",\n      onClick: handleProcessing,\n      disabled: !description || processingPhotos.length === 0,\n      className: \"mt-4\"\n    },\n    \"Mark Ready for Sale\"\n  )));\n};\n\n// src/components/MapModal.tsx\nimport React11 from \"react\";\n\n// src/components/Modal.tsx\nimport React10 from \"react\";\nimport { X as X4 } from \"lucide-react\";\nvar Modal = ({ children, onClose, className }) => {\n  return /* @__PURE__ */ React10.createElement(\"div\", { className: \"fixed inset-0 z-50 flex items-center justify-center\" }, /* @__PURE__ */ React10.createElement(\n    \"div\",\n    {\n      className: \"absolute inset-0 bg-black/50\",\n      onClick: onClose\n    }\n  ), /* @__PURE__ */ React10.createElement(\"div\", { className: cn(\n    \"relative bg-white rounded-2xl shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\",\n    className\n  ) }, /* @__PURE__ */ React10.createElement(\n    \"button\",\n    {\n      onClick: onClose,\n      className: \"absolute top-4 right-4 text-gray-500 hover:text-gray-700\"\n    },\n    /* @__PURE__ */ React10.createElement(X4, { className: \"h-6 w-6\" })\n  ), children));\n};\n\n// src/components/MapModal.tsx\nimport { Navigation, MapPin } from \"lucide-react\";\nvar MapModal = ({ address, onClose }) => {\n  const encodedAddress = encodeURIComponent(address);\n  const mapUrl = `https://www.google.com/maps/embed/v1/place?key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY}&q=${encodedAddress}`;\n  const directionsUrl = `https://www.google.com/maps/dir/?api=1&destination=${encodedAddress}`;\n  const openInGoogleMaps = () => {\n    window.open(directionsUrl, \"_blank\");\n  };\n  return /* @__PURE__ */ React11.createElement(Modal, { onClose }, /* @__PURE__ */ React11.createElement(\"div\", { className: \"p-6\" }, /* @__PURE__ */ React11.createElement(\"h2\", { className: \"font-rockwell text-2xl text-[#4B7163] mb-4\" }, \"Pickup Location\"), /* @__PURE__ */ React11.createElement(\"div\", { className: \"mb-6\" }, /* @__PURE__ */ React11.createElement(\"div\", { className: \"flex items-center gap-2 text-[#5A7C6F] mb-4\" }, /* @__PURE__ */ React11.createElement(MapPin, { className: \"h-4 w-4 flex-shrink-0\" }), /* @__PURE__ */ React11.createElement(\"p\", null, address)), /* @__PURE__ */ React11.createElement(\"div\", { className: \"relative w-full h-[300px] rounded-xl overflow-hidden mb-4 border-2 border-[#4B7163]\" }, /* @__PURE__ */ React11.createElement(\n    \"iframe\",\n    {\n      width: \"100%\",\n      height: \"100%\",\n      style: { border: 0 },\n      loading: \"lazy\",\n      src: mapUrl,\n      allowFullScreen: true\n    }\n  )), /* @__PURE__ */ React11.createElement(\n    CustomButton,\n    {\n      onClick: openInGoogleMaps,\n      className: \"w-full flex items-center justify-center gap-2\"\n    },\n    /* @__PURE__ */ React11.createElement(Navigation, { className: \"w-4 h-4\" }),\n    \"Get Directions\"\n  )), /* @__PURE__ */ React11.createElement(\"p\", { className: \"text-sm text-[#5A7C6F]\" }, \"Opening directions will use your current location as the starting point\")));\n};\n\n// src/components/MessageBubble.tsx\nimport React12 from \"react\";\nvar MessageBubble = ({\n  children,\n  state = \"primary\",\n  className = \"\"\n}) => {\n  const stateClasses = {\n    primary: 'bg-[#4B7163] text-white rounded-tr-2xl rounded-tl-2xl rounded-br-2xl relative after:content-[\"\"] after:absolute after:left-[-13px] after:bottom-0 after:border-[8px] after:border-[#4B7163] after:border-l-transparent after:border-t-transparent',\n    secondary: 'bg-[#6AB098] text-white rounded-tl-2xl rounded-tr-2xl rounded-bl-2xl relative after:content-[\"\"] after:absolute after:right-[-13px] after:bottom-0 after:border-[8px] after:border-[#6AB098] after:border-r-transparent after:border-t-transparent',\n    tertiary: 'bg-[#FFE082] text-black rounded-tr-2xl rounded-tl-2xl rounded-br-2xl relative after:content-[\"\"] after:absolute after:left-[-16px] after:bottom-0 after:border-[8px] after:border-[#FFE082] after:border-l-transparent after:border-t-transparent'\n  };\n  return /* @__PURE__ */ React12.createElement(\"div\", { className: cn(\n    \"p-4 mb-6 max-w-[80%] w-fit\",\n    stateClasses[state],\n    className\n  ) }, children);\n};\n\n// src/components/MessageThread.tsx\nimport React13, { useState as useState5 } from \"react\";\nimport { MessageCircle } from \"lucide-react\";\nvar MessageThread = ({\n  messages,\n  onSendMessage,\n  onMessageRead,\n  className\n}) => {\n  const [isExpanded, setIsExpanded] = useState5(false);\n  const [newMessage, setNewMessage] = useState5(\"\");\n  const unreadCount = messages.filter((msg) => !msg.isRead).length;\n  const lastMessage = messages[messages.length - 1];\n  const lastMessageTime = lastMessage ? new Intl.RelativeTimeFormat(\"en\").format(\n    Math.ceil((lastMessage.timestamp.getTime() - Date.now()) / (1e3 * 60 * 60 * 24)),\n    \"days\"\n  ) : null;\n  const handleExpand = () => {\n    setIsExpanded(!isExpanded);\n    if (!isExpanded && onMessageRead) {\n      messages.forEach((msg) => {\n        if (!msg.isRead) onMessageRead(msg.id);\n      });\n    }\n  };\n  return /* @__PURE__ */ React13.createElement(\"div\", { className: cn(\"bg-white rounded-2xl border-2 border-[#4B7163] p-6\", className) }, /* @__PURE__ */ React13.createElement(\n    \"button\",\n    {\n      onClick: handleExpand,\n      className: \"w-full flex items-center justify-between p-3 rounded-lg hover:bg-[#F8FAF9]\"\n    },\n    /* @__PURE__ */ React13.createElement(\"div\", { className: \"flex items-center gap-3\" }, /* @__PURE__ */ React13.createElement(MessageCircle, { className: \"h-5 w-5 text-[#4B7163]\" }), /* @__PURE__ */ React13.createElement(\"span\", { className: \"font-medium text-[#4B7163]\" }, \"Messages\"), unreadCount > 0 && /* @__PURE__ */ React13.createElement(\"span\", { className: \"bg-[#6AB098] text-white text-sm px-2 py-1 rounded-full\" }, unreadCount, \" new\")),\n    lastMessage && /* @__PURE__ */ React13.createElement(\"span\", { className: \"text-sm text-gray-500\" }, \"Last message \", lastMessageTime)\n  ), isExpanded && /* @__PURE__ */ React13.createElement(\"div\", { className: \"mt-4 space-y-4\" }, messages.map((message, index) => /* @__PURE__ */ React13.createElement(\"div\", { key: message.id }, /* @__PURE__ */ React13.createElement(\n    MessageBubble,\n    {\n      state: index === messages.length - 1 && message.sender !== \"admin\" ? \"tertiary\" : message.sender === \"admin\" ? \"secondary\" : \"primary\",\n      className: cn(\n        message.sender === \"admin\" ? \"ml-8\" : \"mr-8\"\n      )\n    },\n    /* @__PURE__ */ React13.createElement(\"p\", null, message.content),\n    /* @__PURE__ */ React13.createElement(\"span\", { className: \"text-sm opacity-75 mt-2 block\" }, message.timestamp.toLocaleString())\n  ))), /* @__PURE__ */ React13.createElement(\n    \"form\",\n    {\n      onSubmit: (e) => {\n        e.preventDefault();\n        if (newMessage.trim()) {\n          onSendMessage(newMessage);\n          setNewMessage(\"\");\n        }\n      },\n      className: \"flex gap-2 mt-4\"\n    },\n    /* @__PURE__ */ React13.createElement(\n      \"input\",\n      {\n        type: \"text\",\n        value: newMessage,\n        onChange: (e) => setNewMessage(e.target.value),\n        placeholder: \"Type your message...\",\n        className: \"flex-1 p-2 border-2 border-[#4B7163] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6AB098]\"\n      }\n    ),\n    /* @__PURE__ */ React13.createElement(\n      CustomButton,\n      {\n        type: \"submit\",\n        disabled: !newMessage.trim(),\n        className: \"bg-[#4B7163] text-white px-4 py-2 rounded-lg hover:bg-[#3A5A4F]\"\n      },\n      \"Send\"\n    )\n  )));\n};\n\n// src/components/ReceivingWorkflow.tsx\nimport React15, { useState as useState7 } from \"react\";\nimport { X as X6, Check as Check4 } from \"lucide-react\";\n\n// src/components/SwipeCard.tsx\nimport React14, { useState as useState6 } from \"react\";\nimport { motion, useMotionValue, useTransform } from \"framer-motion\";\nimport { Check as Check3, X as X5 } from \"lucide-react\";\nvar SwipeCard = ({\n  imageUrl,\n  alt,\n  children,\n  onSwipe,\n  isVisible = true\n}) => {\n  const [exitX, setExitX] = useState6(0);\n  const x = useMotionValue(0);\n  const rotate = useTransform(x, [-200, 200], [-25, 25]);\n  const opacity = useTransform(x, [-200, -150, 0, 150, 200], [0, 1, 1, 1, 0]);\n  const dragEndHandler = (event, info) => {\n    if (Math.abs(info.offset.x) > 100) {\n      setExitX(info.offset.x);\n      const direction = info.offset.x > 0 ? \"right\" : \"left\";\n      onSwipe(direction);\n    }\n  };\n  const handleAccept = () => {\n    setExitX(200);\n    onSwipe(\"right\");\n  };\n  const handleReject = () => {\n    setExitX(-200);\n    onSwipe(\"left\");\n  };\n  if (!isVisible) return null;\n  return /* @__PURE__ */ React14.createElement(\n    motion.div,\n    {\n      className: \"absolute inset-0\",\n      style: { x, rotate, opacity },\n      drag: \"x\",\n      dragConstraints: { left: 0, right: 0 },\n      onDragEnd: dragEndHandler,\n      animate: { x: exitX },\n      transition: { type: \"spring\", duration: 0.5 },\n      whileTap: { cursor: \"grabbing\" }\n    },\n    /* @__PURE__ */ React14.createElement(\"div\", { className: \"relative w-full h-full select-none\" }, /* @__PURE__ */ React14.createElement(\"div\", { className: \"w-full h-full bg-white rounded-xl overflow-hidden shadow-lg\" }, /* @__PURE__ */ React14.createElement(\"div\", { className: \"relative w-full h-3/5 pointer-events-none\" }, /* @__PURE__ */ React14.createElement(\n      \"img\",\n      {\n        src: imageUrl,\n        alt,\n        className: \"w-full h-full object-cover\",\n        draggable: \"false\"\n      }\n    )), /* @__PURE__ */ React14.createElement(\"div\", { className: \"p-4 h-2/5 pointer-events-none\" }, children)), /* @__PURE__ */ React14.createElement(\n      motion.div,\n      {\n        className: \"absolute bottom-4 left-0 right-0 flex justify-center gap-4\",\n        style: { opacity: useTransform(x, [-50, 0, 50], [0, 1, 0]) }\n      },\n      /* @__PURE__ */ React14.createElement(\n        \"button\",\n        {\n          onClick: handleReject,\n          className: \"p-3 rounded-full bg-white shadow-lg hover:bg-gray-50\"\n        },\n        /* @__PURE__ */ React14.createElement(X5, { className: \"w-6 h-6 text-red-500\" })\n      ),\n      /* @__PURE__ */ React14.createElement(\n        \"button\",\n        {\n          onClick: handleAccept,\n          className: \"p-3 rounded-full bg-white shadow-lg hover:bg-gray-50\"\n        },\n        /* @__PURE__ */ React14.createElement(Check3, { className: \"w-6 h-6 text-green-500\" })\n      )\n    ))\n  );\n};\n\n// src/components/ReceivingWorkflow.tsx\nvar ReceivingWorkflow = ({\n  items,\n  onReceiveItem,\n  onRejectItem,\n  onUpdateStatus,\n  onUpdateDetails,\n  onAddProcessingPhotos,\n  className\n}) => {\n  const [selectedItem, setSelectedItem] = useState7(null);\n  const [processingItem, setProcessingItem] = useState7(null);\n  const pendingItems = items.filter((item) => item.status === \"pending\");\n  if (processingItem) {\n    return /* @__PURE__ */ React15.createElement(\"div\", { className }, /* @__PURE__ */ React15.createElement(\n      CustomButton,\n      {\n        variant: \"secondary\",\n        onClick: () => setProcessingItem(null),\n        className: \"mb-4\"\n      },\n      \"\\u2190 Back to List\"\n    ), /* @__PURE__ */ React15.createElement(\n      InventoryProcessing,\n      {\n        request: {\n          id: processingItem.id,\n          status: \"completed\",\n          pickupPhoto: processingItem.imageUrl,\n          items: [],\n          customerName: \"\",\n          customerEmail: \"\",\n          customerPhone: \"\",\n          pickupDate: /* @__PURE__ */ new Date(),\n          pickupAddress: \"\",\n          messages: [],\n          address: \"\"\n        },\n        onUpdateStatus: (status) => onUpdateStatus(processingItem.id, status),\n        onUpdateDetails: (details) => onUpdateDetails(processingItem.id, details),\n        onAddProcessingPhotos: (photos) => onAddProcessingPhotos(processingItem.id, photos),\n        onConfirmReceipt: () => setProcessingItem(null)\n      }\n    ));\n  }\n  return /* @__PURE__ */ React15.createElement(\"div\", { className: cn(\"space-y-6\", className) }, selectedItem ? /* @__PURE__ */ React15.createElement(React15.Fragment, null, /* @__PURE__ */ React15.createElement(\n    CustomButton,\n    {\n      variant: \"secondary\",\n      onClick: () => setSelectedItem(null),\n      className: \"mb-4\"\n    },\n    \"\\u2190 Back to List\"\n  ), /* @__PURE__ */ React15.createElement(\"div\", { className: \"aspect-[3/4] w-full relative\" }, /* @__PURE__ */ React15.createElement(\"div\", { className: \"absolute inset-0 -mx-8\" }, /* @__PURE__ */ React15.createElement(\"div\", { className: \"relative h-full mx-8\" }, /* @__PURE__ */ React15.createElement(\n    SwipeCard,\n    {\n      imageUrl: selectedItem.imageUrl,\n      alt: selectedItem.name,\n      onSwipe: (direction) => {\n        if (direction === \"right\") {\n          onReceiveItem(selectedItem.id);\n          onUpdateStatus(selectedItem.id, \"completed\");\n          setProcessingItem(selectedItem);\n        } else {\n          onRejectItem(selectedItem.id);\n        }\n        setSelectedItem(null);\n      }\n    },\n    /* @__PURE__ */ React15.createElement(\"div\", { className: \"bg-[#F8FAF9] p-4 rounded-xl h-full overflow-y-auto\" }, /* @__PURE__ */ React15.createElement(\"h4\", { className: \"font-semibold text-[#4B7163] mb-2\" }, selectedItem.name), /* @__PURE__ */ React15.createElement(\"p\", { className: \"text-sm text-[#5A7C6F] mb-2\" }, selectedItem.description), /* @__PURE__ */ React15.createElement(\"div\", { className: \"flex items-center gap-2\" }, /* @__PURE__ */ React15.createElement(\"span\", { className: cn(\n      \"px-2 py-1 rounded-full text-xs\",\n      selectedItem.status === \"completed\" && \"bg-green-100 text-green-800\",\n      selectedItem.status === \"rejected\" && \"bg-red-100 text-red-800\",\n      selectedItem.status === \"pending\" && \"bg-yellow-100 text-yellow-800\"\n    ) }, selectedItem.status.charAt(0).toUpperCase() + selectedItem.status.slice(1))))\n  )))), /* @__PURE__ */ React15.createElement(\"div\", { className: \"flex justify-center gap-8 text-sm text-gray-500 mt-2\" }, /* @__PURE__ */ React15.createElement(\"div\", { className: \"flex items-center gap-1\" }, /* @__PURE__ */ React15.createElement(X6, { className: \"h-4 w-4 text-red-500\" }), \" Swipe left to reject\"), /* @__PURE__ */ React15.createElement(\"div\", { className: \"flex items-center gap-1\" }, /* @__PURE__ */ React15.createElement(Check4, { className: \"h-4 w-4 text-green-500\" }), \" Swipe right to receive\"))) : /* @__PURE__ */ React15.createElement(\"div\", { className: \"bg-white rounded-2xl border-2 border-[#4B7163] p-6\" }, /* @__PURE__ */ React15.createElement(\"h2\", { className: \"font-rockwell text-2xl text-[#4B7163] mb-6\" }, \"Pending Items (\", pendingItems.length, \")\"), /* @__PURE__ */ React15.createElement(\"div\", { className: \"grid gap-4\" }, pendingItems.map((item) => /* @__PURE__ */ React15.createElement(\n    \"div\",\n    {\n      key: item.id,\n      onClick: () => setSelectedItem(item),\n      className: \"flex gap-4 p-4 bg-[#F8FAF9] hover:bg-[#F0F4F2] rounded-xl cursor-pointer transition-colors\"\n    },\n    /* @__PURE__ */ React15.createElement(\n      \"img\",\n      {\n        src: item.imageUrl,\n        alt: item.name,\n        className: \"w-24 h-24 rounded-lg object-cover\"\n      }\n    ),\n    /* @__PURE__ */ React15.createElement(\"div\", null, /* @__PURE__ */ React15.createElement(\"h3\", { className: \"font-rockwell text-lg text-[#4B7163]\" }, item.name), /* @__PURE__ */ React15.createElement(\"p\", { className: \"text-sm text-[#5A7C6F]\" }, item.description))\n  )))));\n};\n\n// src/components/PickupRequestForm.tsx\nimport React19, { useState as useState8, useEffect as useEffect2 } from \"react\";\n\n// src/components/Progress.tsx\nimport React16 from \"react\";\nimport { Check as Check5 } from \"lucide-react\";\nvar Progress = ({ steps, currentStep, onStepClick, completedSteps = [] }) => {\n  return /* @__PURE__ */ React16.createElement(\"div\", { className: \"flex justify-between relative mb-16\" }, /* @__PURE__ */ React16.createElement(\"div\", { className: \"absolute top-3 left-0 right-0 h-1 bg-gray-200\" }), /* @__PURE__ */ React16.createElement(\n    \"div\",\n    {\n      className: \"absolute top-3 left-0 h-1 bg-[#4B7163] transition-all duration-200\",\n      style: { width: `${(currentStep - 1) / (steps.length - 1) * 100}%` }\n    }\n  ), steps.map((step, index) => {\n    const StepIcon = step.icon;\n    const isCompleted = index + 1 < currentStep;\n    const isCurrent = index + 1 === currentStep;\n    const canClick = index + 1 < currentStep || completedSteps.includes(currentStep) && completedSteps.includes(index);\n    return /* @__PURE__ */ React16.createElement(\n      \"div\",\n      {\n        key: index,\n        className: cn(\n          \"flex flex-col items-center relative\",\n          canClick ? \"cursor-pointer\" : \"cursor-not-allowed\",\n          isCurrent ? \"text-[#4B7163]\" : isCompleted ? \"text-[#4B7163]\" : \"text-gray-400\"\n        ),\n        onClick: () => canClick && onStepClick(index + 1)\n      },\n      /* @__PURE__ */ React16.createElement(\n        \"div\",\n        {\n          className: cn(\n            \"w-7 h-7 rounded-full flex items-center justify-center relative z-10\",\n            isCompleted || isCurrent ? \"bg-[#4B7163]\" : \"bg-white border-2 border-gray-200\"\n          )\n        },\n        isCompleted ? /* @__PURE__ */ React16.createElement(Check5, { className: \"w-4 h-4 text-white\" }) : /* @__PURE__ */ React16.createElement(StepIcon, { className: cn(\n          \"w-4 h-4\",\n          isCurrent ? \"text-white\" : \"text-gray-400\"\n        ) })\n      ),\n      /* @__PURE__ */ React16.createElement(\"div\", { className: cn(\n        \"text-sm font-medium mt-2\",\n        isCompleted || isCurrent ? \"text-[#4B7163]\" : \"text-gray-400\"\n      ) }, step.label),\n      /* @__PURE__ */ React16.createElement(\"div\", { className: \"invisible group-hover:visible absolute -bottom-12 bg-[#4B7163] text-white text-xs rounded-lg px-3 py-2 whitespace-nowrap z-20 shadow-lg\" }, step.description, /* @__PURE__ */ React16.createElement(\"div\", { className: \"absolute -top-1 left-1/2 -ml-1 w-2 h-2 bg-[#4B7163] transform rotate-45\" }))\n    );\n  }));\n};\n\n// src/components/PickupRequestForm.tsx\nimport { Info, Calendar, Camera, UserCircle2, CheckCircle2 } from \"lucide-react\";\nimport usePlacesAutocomplete from \"use-places-autocomplete\";\n\n// src/components/TermsOfService.tsx\nimport * as React17 from \"react\";\nfunction TermsOfService({\n  isVisible,\n  onClose,\n  className\n}) {\n  if (!isVisible) return null;\n  return /* @__PURE__ */ React17.createElement(Modal, { onClose, className: cn(\"p-6\", className) }, /* @__PURE__ */ React17.createElement(\"div\", { className: \"terms-content\" }, /* @__PURE__ */ React17.createElement(\"h2\", null, \"Gone Technologies Inc. Terms of Service\"), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"p\", null, 'Welcome to the Gone Technologies Inc. d/b/a \"Gone\" (\"Gone,\" \"We,\" or \"Us\") Terms of Service (the \"Terms\"). Please read these Terms carefully because they govern your use of our website gone.com and our gone mobile application, and any of our other services and products available at or through the website or mobile application (collectively \"Services\"). Please read the Terms carefully. If you have any questions, contact us at support@gone.com.'), /* @__PURE__ */ React17.createElement(\"p\", null, `At Gone we offer a unique way for our \"users\" to dispose of their household reusable goods with just a simple request for pick up. You reach out to us via phone, or text and send a picture of your reusable goods. We'll then send you a calendar invite to select a time for pick up. After the date, address, and time are confirmed, your goods will be hauled away as scheduled. You may cancel at anytime prior to pick up.`), /* @__PURE__ */ React17.createElement(\"p\", null, \"After we pick up the items, Gone reserves the right to dispose of the items or resell the items at our discretion. No compensation is paid to the household. Instead, our value is the removal of unwanted items from your home, which is subject to your agreement and compliance with these Terms including, without limitation, waiver of the claims below.\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"Not all items are available for pick up. Please review our policies for approved household items.\")), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"Agreement to Terms\"), /* @__PURE__ */ React17.createElement(\"p\", null, 'By accessing or using any portion of our Services, you agree to comply with and be bound by these Terms. These Terms apply to you regardless of whether you are a \"User\" (meaning, you have created an account with us) or are a \"Visitor\" (meaning, you are using or viewing the Service but have not created an account). The term \"You,\" \"Your,\" or \"User\" refers to both Users and Visitors.'), /* @__PURE__ */ React17.createElement(\"p\", null, \"The Service is for personal, non-commercial use. You agree that you are using the Service for personal use only and not are not using the Service for or on behalf of any third-party, or for any commercial purpose.\")), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"User Conduct\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"You Agree NOT to:\"), /* @__PURE__ */ React17.createElement(\"ul\", null, /* @__PURE__ */ React17.createElement(\"li\", null, \"use language or transmit content that may be considered offensive or profane to our team or users. This includes profanity and offensive images, or other media containing obscene, sexually explicit, or excessively violent content.\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"harass or threaten other our team or users. Harassing behavior and language includes insults, ethnic or homophobic slurs, defamatory statements, invasive statements that may infringe on a user's privacy, or the transmission or sharing of any content that may cause our team or user to experience ridicule, threat, or discomfort.\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"submit material that violates a third party's proprietary rights, including privacy and publicity rights, or that otherwise violates any applicable law;\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"publish falsehoods or misrepresentations that could damage us, our users, or any third party;\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"publish any private information of someone (like their address or phone number) without their permission;\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"submit material that is unlawful, obscene, defamatory, libelous, threatening, pornographic, harassing, hateful, racially or ethnically offensive, or encourages conduct that would be considered a criminal offense, give rise to civil liability, violate any law, or is otherwise inappropriate;\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"post advertisements;\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"impersonate another person or represent yourself as affiliated with us, our staff, or other industry professionals;\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"harvest user's names, addresses, or email addresses for any purpose.\")), /* @__PURE__ */ React17.createElement(\"p\", null, \"This list is an example and is not intended to be complete or exhaustive. We don't have an obligation to monitor your access to, or use of, the Services, but we reserve the right to do so for the purpose of operating the Services, to ensure your compliance with these Terms, or to comply with applicable law or the order or requirement of a court, administrative agency, or other governmental body. We reserve the right, at any time and without prior notice, to revoke your use our services, in our sole discretion, if we believe your actions are in violation of these Terms or otherwise harmful to our business.\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"You can remove your content by specifically deleting it. However, in certain instances, some of your Content (such as images of items shared) may not be completely removed, or may not be removable (audible content), and copies of your Content may continue to exist on the Services. We are not responsible or liable for the removal or deletion of (or the failure to remove or delete) any of the Content.\")), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"Our Content\"), /* @__PURE__ */ React17.createElement(\"p\", null, 'Subject to your compliance with these Terms, We grant you a limited, non-exclusive, non-transferable, non-sublicenseable license to access and view our content (\"Our Content\") solely in connection with your permitted use of the Services. For the purposes of these Terms, Our Content shall include all text, graphics, images, site and screen layouts, arrangements and themes, music, software, audio, video, works of authorship by us or our affiliates of any kind, and information or other materials that are posted or generated by us or our affiliates.'), /* @__PURE__ */ React17.createElement(\"p\", null, \"You have the right to view and access Our Content. However, you may not copy, borrow, modify, or otherwise reproduce, and must immediately cease using, copying, borrowing, modifying, or otherwise reproducing any site and screen layouts, arrangements and themes provided through this Service. At no time is any Member permitted to: (i) transfer, sublicense, sell, lease, lend, rent, or otherwise distribute Our Content or the Services to a third party; (ii) decompile, reverse-engineer, disassemble, or create derivative works of the Services or any Our Content; or (iii) use the Services or Our Content in any unlawful manner, for any unlawful purpose, or in any manner inconsistent with these Terms.\")), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"Intellectual Property\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"The Services contain material that may be protected by United States and international copyright, trademark, and other proprietary information, including, but not limited to, audio, video, graphic, photographic and text information, and all Our Content. We, and any of our licensors, exclusively own all right, title and interest in, and to the Services and Our Content, including all associated intellectual property rights. You acknowledge that the Services and Our Content are protected by copyright, trademark, and other laws of the United States and foreign countries. You agree not to remove, alter, or obscure any copyright, trademark, service mark, or other proprietary rights or notices incorporated in or accompanying the Services and Our Content. Further, you may not modify, distribute, publish, transmit, publicly display, publicly perform, participate in the transfer or sale, create derivative works of, or in any way exploit any of the Our Content, in whole or in part. Any violation of these restrictions may result in intellectual property infringement that may subject you to civil and/or criminal penalties. You will be solely liable for any damage resulting from any infringement of copyrights, trademarks, proprietary rights or any other harm resulting from a submission of information protected by intellectual property rights in a third party, if such submission is made without express permission of the intellectual property rights holder.\")), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"DMCA/Copyright Policy\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"We respect copyright law and expect our users to do the same. It is our policy to terminate access in appropriate circumstances to users who repeatedly infringe the rights of copyright holders.\"), /* @__PURE__ */ React17.createElement(\"p\", null, 'The Digital Millennium Copyright Act of 1998 (the \"DMCA\") provides recourse for copyright owners who believe that material appearing on the Internet infringes their rights under U.S. copyright law. If you believe in good faith that Content infringes your copyright, you (or your agent) may send us a notice requesting that the Content be removed or access to it blocked. Federal law requires that your notification include the following information:'), /* @__PURE__ */ React17.createElement(\"ul\", null, /* @__PURE__ */ React17.createElement(\"li\", null, \"(i) a physical or electronic signature of a person authorized to act on behalf of the owner of an exclusive right that is allegedly infringed;\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"(ii) identification of the copyrighted work claimed to have been infringed or, if multiple copyrighted works at a single online site are covered by a single notification, a representative list of such works at that site;\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"(iii) identification of the material that is claimed to be infringing or to be the subject of infringing activity and that is to be removed or access to which is to be disabled and information reasonably sufficient to permit us to locate the material;\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"(iv) information reasonably sufficient to permit us to contact you, such as an address, telephone number, and, if available, an electronic mail;\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"(v) a statement that you have a good faith belief that use of the material in the manner complained of is not authorized by the copyright owner, its agent, or the law;\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"(vi) a statement that the information in the notification is accurate, and under penalty of perjury, that you are authorized to act on behalf of the owner of an exclusive right that is allegedly infringed.\")), /* @__PURE__ */ React17.createElement(\"p\", null, \"The notification must be sent to:\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"[COMPANY ADDRESS]\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"We provide the above contact information for purposes of the DMCA only and reserve the right to respond only to correspondence that is relevant to this purpose.\")), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"Links and Advertisements of Third Party Websites, Apps, or Resources\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"The Services may contain links to or advertisements of third-party websites, applications or resources that are not affiliated with you, other users, or our Services. We are not responsible for the content, products or services on or available from those advertisements, websites, resources or links displayed on such sites. You acknowledge sole responsibility for and assume all risk arising from your use of any third-party websites or resources. The terms and privacy policies of these third party websites, applications, or resources govern your use of those services.\")), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"Indemnity\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"You agree to defend, indemnify and hold harmless us, or our officers, directors, employees and agents, from and against any and all claims, damages, obligations, losses, liabilities, costs, debts, or expenses (including but not limited to attorneys' fees), to the extent allowed by applicable law, that arise from or are caused by:\"), /* @__PURE__ */ React17.createElement(\"ul\", null, /* @__PURE__ */ React17.createElement(\"li\", null, \"(i) your use of and access to the Services;\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"(ii) your violation of these Terms;\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"(iii) your violation of any third party right, including without limitation any copyright, property, moral or privacy right;\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"(iv) any claim that your Content caused damage to any third party.\")), /* @__PURE__ */ React17.createElement(\"p\", null, \"This section shall survive these Terms and your use and termination of the Services.\")), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"Termination\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"We may terminate your access to and use of the Services at our sole discretion, at any time and without notice to you. Upon any termination, discontinuation or cancellation of Services, all provisions of these Terms which by their nature should survive will survive, including, without limitation, ownership provisions, indemnification, warranty disclaimers, limitations of liability, and dispute resolution provisions.\")), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"Warranty Disclaimers\"), /* @__PURE__ */ React17.createElement(\"p\", { className: \"warranty-disclaimer\" }, 'THE SERVICES AND CONTENT ARE PROVIDED \"AS IS,\" WITHOUT WARRANTY OF ANY KIND. WITHOUT LIMITING THE FOREGOING, WE EXPLICITLY DISCLAIM ANY WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT, AND ANY WARRANTIES ARISING OUT OF COURSE OF DEALING OR USAGE OF TRADE. WE MAKE NO WARRANTY THAT THE SERVICES WILL MEET YOUR REQUIREMENTS OR BE AVAILABLE ON AN UNINTERRUPTED, SECURE, OR ERROR-FREE BASIS. WE MAKE NO WARRANTY REGARDING THE QUALITY, ACCURACY, TIMELINESS, TRUTHFULNESS, COMPLETENESS OR RELIABILITY OF ANY CONTENT.')), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"Accounts\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"You don't need to create an account to use our services. We engage directly with you at your request. However, when you engage with us you represent that you are eighteen (18) years or older and are not barred from using the Services under applicable law.\"), /* @__PURE__ */ React17.createElement(\"p\", null, 'You agree not to use the Services under the name of another person with the intent to impersonate that person. You must be a human to use the Services and an automated account is not allowed. \"Robot\" (or automatic) activity is not allowed. This policy also applies beyond Account creation to the general use of the Services.'), /* @__PURE__ */ React17.createElement(\"p\", null, \"We reserve the right to suspend or terminate your access to our Services and/or your Account if any information provided during the registration process or thereafter proves to be inaccurate, false, or misleading. You are solely responsible for activities that occur under your Account.\")), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"Feedback\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"We welcome feedback, comments, and suggestions for improvements to the Services. You can submit feedback by emailing us at the contact email listed above. You grant to us a non-exclusive, worldwide, perpetual, irrevocable, fully-paid, royalty-free, sublicensable, and transferable license under any and all intellectual property rights that you own or control to use, copy, modify, create derivative works based upon, and otherwise exploit the feedback for any purpose.\")), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"Privacy Policy\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"Your privacy is important to us. Please review our Privacy Policy for information about the data we may collect and use. Our Privacy Policy is incorporated in these Terms, and is available at [WEBSITE LINK PRIVACY POLICY].\")), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"Your Content\"), /* @__PURE__ */ React17.createElement(\"p\", null, 'For purposes of these Terms: \"Content\" means text, photos, graphics, images, audio, video, and information or other materials that are texted, emailed, shared, posted, generated, provided, or otherwise made available to us through the Services. \"Goods\" refers to the consumer household item that you are requesting to remove and/or that may appear in the Content shared.'), /* @__PURE__ */ React17.createElement(\"p\", null, \"You are responsible for the Content and Goods that you share within the Services, including its legality, reliability, and appropriateness. We only take responsibility for the Goods once its loaded on to our truck.\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"You represent and warrant that:\"), /* @__PURE__ */ React17.createElement(\"ul\", null, /* @__PURE__ */ React17.createElement(\"li\", null, \"(i) the Content and Goods are yours (e.g. its your stuff in your household and your own photo) or you have the right to share it and grant us the rights and license as provided in these Terms,\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"(ii) the sharing of the Content on or through the Services does not violate the privacy rights, publicity rights, copyrights, contract rights, or any other rights of any person,\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"(iii) you have the right to engage us to pick up the Goods\"), /* @__PURE__ */ React17.createElement(\"li\", null, '(iv) you are the current owner of all right, title, and interest in the Goods and holds them free and clear of all liabilities, liens, encumbrances, pledges, restrictions on transfer or other charges (\"Liens\")'), /* @__PURE__ */ React17.createElement(\"li\", null, \"(v) upon transfer of the Good to Gone, Gone will acquire good and marketable title to the goods, free and clear of any liens\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"(vi) the Goods correspond with the description you provide us\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"(vii) the Goods will be of satisfactory condition\"), /* @__PURE__ */ React17.createElement(\"li\", null, \"(viii) as consideration in full for removing the Goods from your household, you transfer ownership of the goods to Gone upon pick up.\")), /* @__PURE__ */ React17.createElement(\"p\", null, \"Gone shall not be liable for a breach of any warranty above unless User gives written notice of the defect to Gone at least 3 days prior to the date of pick up. If the goods do not conform with any of the warranties, Gone shall within 7 days of pick up have the option to return the goods to User at User's expense.\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"We do not claim any ownership rights in any Content that you make available through the Services and nothing in these Terms will be deemed to restrict any rights that you may have to use and exploit your own Content. However, you grant us a non-exclusive, non-transferable, non-sublicenseable, worldwide license to use any Content submitted by you in relation to the Services, including the promotion and advertisement of Services. We take ownership of the goods at the time of pick up. We reserve the right to store, sell, dispose, trade, or take any other action with the goods at our discretion.\")), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"WAIVER OF CLAIMS\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"As a User of our service you hereby acknowledge the risks associated with engaging with our Services to enter your home and remove your unwanted household items. You accept and assume full responsibility for any and all injuries, damages, or losses of any type, which may occur in the process of picking up and hauling your household items. You hereby fully and forever release and discharge us, our affiliates, our insurers, employees, officers, and directors from any and all claims, demands, damages, rights of action, or causes of action, whether present or in the future, whether known or unknown, anticipated, or unanticipated, resulting from or arising out of your use of our Services.\")), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"Changes to Terms or Services\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"We may modify the Terms and our Services at any time, in our sole discretion. If we do so, we will let you know by email or by posting notice on the website or via a notification in the App. It's important that you review the Terms whenever we modify them because continuing to use the Services after we have posted modified Terms on the Site indicates to us that you agree to be bound by the modified Terms. If you don't agree to be bound by the modified Terms, then please discontinue use of the Services immediately. Because our Services are evolving over time we may change or discontinue all or any part of the Services at any time, and without notice to you, at our sole discretion.\")), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"Limitation of Liability\"), /* @__PURE__ */ React17.createElement(\"p\", { className: \"liability-disclaimer\" }, \"NEITHER WE NOR ANY OTHER PARTY INVOLVED IN CREATING, PRODUCING, OR DELIVERING THE SERVICES OR CONTENT WILL BE LIABLE FOR ANY INCIDENTAL, SPECIAL, EXEMPLARY OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS, LOSS OF DATA OR GOODWILL, SERVICE INTERRUPTION, MOBILE DAMAGE OR SYSTEM FAILURE OR THE COST OF SUBSTITUTE SERVICES ARISING OUT OF OR IN CONNECTION WITH THESE TERMS OR FROM THE USE OF OR INABILITY TO USE THE SERVICES OR CONTENT, WHETHER BASED ON WARRANTY, CONTRACT, TORT (INCLUDING NEGLIGENCE), PRODUCT LIABILITY OR ANY OTHER LEGAL THEORY, AND WHETHER OR NOT WE HAS BEEN INFORMED OF THE POSSIBILITY OF SUCH DAMAGE, EVEN IF A LIMITED REMEDY SET FORTH HEREIN IS FOUND TO HAVE FAILED OF ITS ESSENTIAL PURPOSE.\"), /* @__PURE__ */ React17.createElement(\"p\", { className: \"liability-disclaimer\" }, \"IN NO EVENT WILL OUR TOTAL LIABILITY ARISING OUT OF OR IN CONNECTION WITH THESE TERMS OR FROM THE USE OF OR INABILITY TO USE THE SERVICES OR CONTENT EXCEED ONE HUNDRED DOLLARS ($100).\")), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"Dispute Resolution\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"We prefer to resolve things amicably when possible; therefore, you agree to the following dispute resolution policy in connection with any potential claims or disputes arising from your use of the Application. Start by notifying us of your dispute by sending a notice to the contact email address listed above.\"), /* @__PURE__ */ React17.createElement(\"ol\", { type: \"a\" }, /* @__PURE__ */ React17.createElement(\"li\", null, /* @__PURE__ */ React17.createElement(\"strong\", null, \"Informal Negotiations:\"), \" Parties to a dispute concerning the Terms, the Privacy Policy, or the use of the Services will attempt to informally negotiate a potential settlement or resolution to the dispute;\"), /* @__PURE__ */ React17.createElement(\"li\", null, /* @__PURE__ */ React17.createElement(\"strong\", null, \"Arbitration:\"), \" In the event that informal negotiations are unsuccessful, the parties agree to follow the arbitration procedures set forth by the American Arbitration Association (AAA) to resolve the dispute.\"), /* @__PURE__ */ React17.createElement(\"li\", null, /* @__PURE__ */ React17.createElement(\"strong\", null, \"Binding Arbitration:\"), \" If for any reason arbitration is unsuccessful or unavailable to the parties, parties agree to submit to binding arbitration in the jurisdiction of the State of Washington. Each of us is responsible for paying our own filing, administrative and arbitrator fees. Judgment on the arbitration award may be entered in any court having jurisdiction thereof.\"))), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"Entire Agreement\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"These Terms constitute the entire and exclusive understanding and agreement between us and you. These Terms supersede and replace any and all prior oral or written understandings or agreements between us. If for any reason a court of competent jurisdiction finds any provision of these Terms invalid or unenforceable, that provision will be enforced to the maximum extent permissible and the other provisions of these Terms will remain in full force and effect.\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"You may not assign or transfer these Terms, by operation of law or otherwise, without our prior written consent. Any attempt by you to assign or transfer these Terms, without such consent, will be null and of no effect.\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"Any notices or other communications provided by us under these Terms, including those regarding modifications to these Terms, will be given by us (i) via email; or (ii) by posting to the Services. For notices made by email, the date of receipt will be deemed the date on which such notice is transmitted.\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. The waiver of any such right or provision will be effective only if in writing and signed by a duly authorized representative of us. Except as expressly set forth in these Terms, the exercise by either party of any of its remedies under these Terms will be without prejudice to its other remedies under these Terms or otherwise.\")), /* @__PURE__ */ React17.createElement(\"section\", null, /* @__PURE__ */ React17.createElement(\"h3\", null, \"Questions & Contact Information\"), /* @__PURE__ */ React17.createElement(\"p\", null, \"If you have any questions regarding these Terms, please contact us at support@gone.com\"))));\n}\n\n// src/components/PickupRequestForm.tsx\nimport { addDoc, collection } from \"firebase/firestore\";\n\n// src/firebaseConfig.ts\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDEtOjh0x7nTwlFdJaQAvgg1_1dpKfiz9g\",\n  authDomain: \"pickup-436017.firebaseapp.com\",\n  projectId: \"pickup-436017\",\n  storageBucket: \"pickup-436017.appspot.com\",\n  appId: \"1:990800642935:web:9e965fd4d9c9cf50505772\",\n  measurementId: \"G-TGRV39M2JC\"\n};\nvar app = initializeApp(firebaseConfig);\nvar db = getFirestore(app);\n\n// src/components/Privacy.tsx\nimport * as React18 from \"react\";\nfunction Privacy({\n  isVisible,\n  onClose,\n  className\n}) {\n  if (!isVisible) return null;\n  return /* @__PURE__ */ React18.createElement(Modal, { onClose, className: cn(\"p-6\", className) }, /* @__PURE__ */ React18.createElement(\"div\", { className: \"privacy-content\" }, /* @__PURE__ */ React18.createElement(\"h2\", null, \"Privacy Policy\"), /* @__PURE__ */ React18.createElement(\"section\", null, /* @__PURE__ */ React18.createElement(\"p\", null, 'Your privacy is important to us. At Gone Technologies Inc. d/b/ Its Gone Now (\"Gone\", \"we\", \"us\", or \"our\"), we have a few fundamental principles:'), /* @__PURE__ */ React18.createElement(\"ol\", null, /* @__PURE__ */ React18.createElement(\"li\", null, `We don't and won't ask you for personally identifying information unless we need it and you have the opportunity to review your options. To make this Privacy Policy easier to read, www.itsgonenow.com and our associated products and services are collectively referenced as \"Services\" throughout this policy.`), /* @__PURE__ */ React18.createElement(\"li\", null, \"We don't share your personally identifying information, with anyone, except as needed, to provide service support, to comply with the law, or to protect our rights.\"), /* @__PURE__ */ React18.createElement(\"li\", null, \"This service does not require you to enter any information to view the website or the products and services. You do have the option to fill in the information to make a request to receive more information or a demo. This information is only used to connect with you about working with Gone. We do not share this information with anyone or use it for any other purposes. The limited information collected is governed by this policy.\"), /* @__PURE__ */ React18.createElement(\"li\", null, \"If you are a customer of Gone, this Privacy Policy governs the limited personal information that you share in order to set up an account and access our tools, products, dashboard, and other services in accordance with our Terms of Service.\")), /* @__PURE__ */ React18.createElement(\"p\", null, \"Please note, that this Privacy Policy does not apply to the privacy practices of third parties whose links may appear on or through the Services. We are not responsible for the content or privacy practices of third parties or other users. We recommend that you exercise caution before you voluntarily disclose personally identifiable information to other users, on publicly accessible or displayable parts of the Service, or through third-party links on third-party websites or platforms.\")), /* @__PURE__ */ React18.createElement(\"section\", null, /* @__PURE__ */ React18.createElement(\"h3\", null, \"I. What is Personal Information and What types of Personal Information do we collect?\"), /* @__PURE__ */ React18.createElement(\"ol\", null, /* @__PURE__ */ React18.createElement(\"li\", null, 'For purposes of this policy, \"personal information\" is information about an individual that can be used to reasonably identify that individual.'), /* @__PURE__ */ React18.createElement(\"li\", null, \"We only collect limited personal information to respond to your queries, deliver our Services, provide support or as otherwise described in this policy. We limit our collection of data to first name, last name, address, phone number and email address in addition to the consumer data listed below.\"))), /* @__PURE__ */ React18.createElement(\"section\", null, /* @__PURE__ */ React18.createElement(\"h3\", null, \"II. INFORMATION COLLECTION AND USE\"), /* @__PURE__ */ React18.createElement(\"h4\", null, \"1. Business Operation\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"In general, we collect, use and disclose information for purposes connected with our business operations. This includes providing our products and services, enabling proper operation and functionality, improving our products and services, verifying addresses, coordinating vendors, managing support concerns, marketing purposes, and other related business purposes. You are not required to provide any personal information however, you will not receive the full value of our services without this information.\"), /* @__PURE__ */ React18.createElement(\"h4\", null, \"2. Email Addresses\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"We do not and will not send spam, sell or rent your email address or any social media login account information to third parties. We do utilize third party marketing tools to support our marketing activities as described below. With your permission, we do coordinate with third party partners who are licensed and bonded to provide pick up services at your address. We do not disclose, sell, share, trade or give away a user's personal information to any third parties. We may email users directly to connect, updates, or other reasons related to your interest in our product or services.\"), /* @__PURE__ */ React18.createElement(\"h4\", null, \"3. Marketing\"), /* @__PURE__ */ React18.createElement(\"p\", null, 'We may contact you with marketing and promotional information (in accordance with your marketing preferences) about products and services that we offer and to send you information regarding us. We use _________ for this purpose and you can review their privacy policy here. See below \"Objections and Restrictions\" for information about how you can opt-out of receiving marketing communications from us at any time.'), /* @__PURE__ */ React18.createElement(\"h4\", null, \"4. Logging Statistics\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"Like most website operators, our servers automatically collect certain types of non-personally identifying, technical information, such as the browser type, language preference, referring site, and the date and time of each visitor request. This includes information such as:\"), /* @__PURE__ */ React18.createElement(\"ul\", null, /* @__PURE__ */ React18.createElement(\"li\", null, \"What website you came from to get here;\"), /* @__PURE__ */ React18.createElement(\"li\", null, \"What portions of our website you access;\"), /* @__PURE__ */ React18.createElement(\"li\", null, \"How long you stay for; and\"), /* @__PURE__ */ React18.createElement(\"li\", null, \"What kind of device you're using\")), /* @__PURE__ */ React18.createElement(\"p\", null, \"We use this information to better understand how our visitors use our website and to maintain Services.\"), /* @__PURE__ */ React18.createElement(\"h4\", null, \"5. Location Information & IP Addresses\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"We collect very limited personal data. If you fill out a form with your name and email address, we do link the IP address and device information to you. Additionally, we collect IP address and convert it to location for (1) security monitoring (2) supporting some features, such as IP whitelisting, country level location whitelisting, and (3) Delivering location based help and website details.\"), /* @__PURE__ */ React18.createElement(\"h4\", null, \"6. Locale Preferences and Device Information\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"When you use our services or products, we may automatically collect certain information from your device, its software, and your activity using our services or products. This may include information you search for on our website, locale preferences, identification numbers associated with your devices, your mobile carrier, date and time stamps associated with transactions, metadata, your Internet Service Provider, files viewed on our site, operating system, and clickstream data.\"), /* @__PURE__ */ React18.createElement(\"h4\", null, \"7. Data Aggregation\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"In addition to the other uses described in this policy, you agree that we may extract and use information from the information you disclose for the purposes of aggregating data in a non-identifiable method. This aggregated data may be used internally to improve services or without limitation, to develop, analyze, combine, or publish the aggregated data for commercial purposes.\"), /* @__PURE__ */ React18.createElement(\"h4\", null, \"8. Cookies\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"Your use of certain of the services may result in the assignment and storage of session cookies by Gone and analytics tools to recognize your access privileges and generally track user preferences. A cookie is a text file that is placed on the hard disk of your computer or mobile device by a server. Session cookies expire when you end your session and close your browser interface. Cookies cannot be used to run programs or deliver viruses to your computer or mobile device. Cookies are uniquely assigned to you and can only be read by a server in the domain that issued the cookie to you. Visitors who do not wish to have cookies placed on their computers or mobile devices should deny Cookies by configuring their respective browsers to do so. If Cookies are denied, certain features of our services may not function properly.\"), /* @__PURE__ */ React18.createElement(\"h4\", null, \"9. Social Media Widgets\"), /* @__PURE__ */ React18.createElement(\"p\", null, 'Our website includes social media features, such as the Facebook like button and widgets, such as the \"Share This\" and button for X. These features may collect your IP address and the page you are visiting on our site, and they may set a cookie to enable the feature to function properly. Social media features and widgets are either hosted by a third party or hosted directly on our site. Your interactions with these features are governed by the privacy policy of the company providing it.'), /* @__PURE__ */ React18.createElement(\"h4\", null, \"10. How We Share Your Information\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"Gone takes all measures reasonably necessary to protect against the unauthorized access, use, alteration or destruction of potentially personally identifying information.\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"Gone discloses potential personally identifying information only on an as needed (or required) basis as follows:\"), /* @__PURE__ */ React18.createElement(\"ul\", null, /* @__PURE__ */ React18.createElement(\"li\", null, \"To our personnel that: (i) need to know that information in order to process it on our behalf or to provide the services; and (ii) that have expressly agreed not to disclose it to others. Note* Some of those employees, and contractors may be located outside of your home country; by using the services you consent to the transfer of such information to them.\"), /* @__PURE__ */ React18.createElement(\"li\", null, \"As required by law such to comply with a subpoena or similar legal process. To the extent we are legally permitted to do so, we will take commercially reasonable steps to notify you if we are required to provide your personal information to third parties as part of a legal process.\"), /* @__PURE__ */ React18.createElement(\"li\", null, \"When we believe in good faith that disclosure is necessary to protect our rights, protect your safety or the safety of others, investigate fraud, or respond to a written government request.\"), /* @__PURE__ */ React18.createElement(\"li\", null, \"In the event of a merger, acquisition, or any form of sale of some or all of Gone's assets, we will ensure that the acquiring organization agrees to protect personal information in accordance with the commitments we have made in this Privacy Notice, and that the acquiring organization will provide notice before personal information, customer information, or business information becomes subject to a different privacy notice.\"), /* @__PURE__ */ React18.createElement(\"li\", null, \"To any other third party with your prior consent to do so. We do not generally sell your personal information to third parties.\"))), /* @__PURE__ */ React18.createElement(\"section\", null, /* @__PURE__ */ React18.createElement(\"h3\", null, \"III. ACCESSING AND UPDATING YOUR PERSONAL INFORMATION; SECURITY\"), /* @__PURE__ */ React18.createElement(\"h4\", null, \"1. Communications\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"If you have provided an email with us for access and use of our services, we may occasionally send you an email to tell you about new features, solicit your feedback, or just keep you up to date with what's going on with Gone and our services. We primarily use our various product blogs and support documentation to communicate this type of information, so we expect to keep this type of email to a minimum.\"), /* @__PURE__ */ React18.createElement(\"h4\", null, \"2. Third-Party Services\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"We use various third-party services to create the best experience for users, to deliver on certain logistics services, and for improving existing products and services. Some third party services use cookies or similar technologies to analyze trends, administer the website, track users' movements around the website, and to gather demographic information about our user base as a whole. You can control the use of cookies at the individual browser level, but if you choose to disable cookies, it may limit your use of certain features or functions on our website or service. We use Amazon Web Services to store information and host services. We use various third-party services that collect and analyze information about your use of our site. Among others, we use Google Analytics for website use and traffic analysis. We also use various services to ensure user success and improved relationship management.\"), /* @__PURE__ */ React18.createElement(\"h4\", null, \"3. Security, Data Storage & Retention\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"To prevent unauthorized access, safeguard data accuracy, and maintain the appropriate use of information, we have put in place appropriate physical, technical, and administrative procedures to protect the personal information data you submit. We make every effort to ensure the integrity and security of our network and systems. However, since the Internet is not 100% secure and as new technology evolves and emerges, we cannot guarantee that our security measures will prevent third-party interferences from illegally obtaining or tampering with your personal information.\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"We encourage you to help us by also taking precautions to protect your personal data when you use the services. Change your account password often, using a combination of letters, numbers, and characters, and make sure you use a secure connection. We also recommend enabling two-factor authentication for signing into your account.\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"Gone will retain your personal information for as long as needed for the purposes described above and/or as required by law. A user may request access to certain data about themselves by emailing privacy@Gone.com\")), /* @__PURE__ */ React18.createElement(\"section\", null, /* @__PURE__ */ React18.createElement(\"h3\", null, \"IV. YOUR RIGHTS UNDER THE CCPA (EXTENDED TO ALL USERS)\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"The California Consumer Privacy Act (CCPA) and some other state laws provide you with fundamental rights. Due to our commitment to privacy, we have extended those data subject rights to persons in all jurisdictions.\"), /* @__PURE__ */ React18.createElement(\"ol\", { type: \"A\" }, /* @__PURE__ */ React18.createElement(\"li\", null, 'Right to be forgotten (\"Right to Erasure\") This right provides you with the ability to ask for the deletion of your data. This will generally apply to situations where a customer relationship has ended. It is important to note that this is not an absolute right and depends on our retention schedule and retention period in line with other applicable laws.'), /* @__PURE__ */ React18.createElement(\"li\", null, 'Right to know how we are processing your information (\"Right to Information\") This right provides that you may ask us for information about what personal data is being processed and the rationale for such processing. For example, you may ask for the list of processors with whom we share your personal data.'), /* @__PURE__ */ React18.createElement(\"li\", null, 'Right to view the information we have collected about you (\"Right to Access\"). This right provides you with the ability to get access to your personal data that is being processed. This request provides the you with the right to see or view your own personal data, as well as to request copies of the personal data.'), /* @__PURE__ */ React18.createElement(\"li\", null, \"Right to rectification. This right provides you with the ability to ask for modifications to your personal data in case you believe that this personal data is not up to date or not accurate.\"), /* @__PURE__ */ React18.createElement(\"li\", null, \"Right to withdraw consent. This right provides you with the ability to withdraw a previously given consent for processing of your personal data for a purpose.\"), /* @__PURE__ */ React18.createElement(\"li\", null, 'Right to object to processing your information (\"Right to object\"). This right allows you to object to certain types of data processing. These are:', /* @__PURE__ */ React18.createElement(\"ul\", null, /* @__PURE__ */ React18.createElement(\"li\", null, \"Direct marketing\"), /* @__PURE__ */ React18.createElement(\"li\", null, \"The processing of personal data for statistical purposes related to historical or scientific research\"), /* @__PURE__ */ React18.createElement(\"li\", null, \"The processing of data for tasks in the public interest\"), /* @__PURE__ */ React18.createElement(\"li\", null, \"The exercising of official authority invested in you\"), /* @__PURE__ */ React18.createElement(\"li\", null, \"Objections to data processing in yours or a third party's legitimate interest\"), /* @__PURE__ */ React18.createElement(\"li\", null, \"Objections to data processing based on your own beliefs and situations\"))), /* @__PURE__ */ React18.createElement(\"li\", null, \"Right to data portability. This right provides you with the ability to ask for transfer of your personal data. As part of such request, you may ask for your personal data to be provided back to you in a machine-readable electronic format or, if technically feasible, transferred to another service provider.\"), /* @__PURE__ */ React18.createElement(\"li\", null, \"Right to Limit Use and Disclosure of Sensitive Personal Information. You have the right, at any time, to direct us (as a business that collects sensitive personal information about you) to limit our use of your sensitive personal information to that use which is necessary to perform the services expected. If you would like to exercise any of the above rights, please contact our support team at support@Gone.com\"))), /* @__PURE__ */ React18.createElement(\"section\", null, /* @__PURE__ */ React18.createElement(\"h3\", null, \"V. ADDITIONAL TERMS; CHANGES AND CONTACT\"), /* @__PURE__ */ React18.createElement(\"h4\", null, \"1. Privacy Of Minors\"), /* @__PURE__ */ React18.createElement(\"p\", null, 'We do not promote or offer the Services for use by anyone under the age of 18 (\"minors\"). Gone does not knowingly solicit or collect personal information from minors, and we will not knowingly link to any third-party website or platform, or host any customer sites that solicit or collect personal information from minors. If you believe that a minor has disclosed personal information to us or that we have linked to such a third-party or user website or platform, please contact us at privacy@Gone.com'), /* @__PURE__ */ React18.createElement(\"h4\", null, \"2. Additional Information for International Users\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"If you are visiting this website and/or accessing the Services from outside the United States, please be aware that you are sending information (including Personal Information) to the United States where Gone servers are located. This information may be transferred within the United States or back out of the United States to other countries outside of your country of residence, depending on the type of information and how its stored by us. These countries (including the United States) may not necessarily have data protection laws as comprehensive or protective as those in your country of residence, however, our collection, storage and use of your personal information will at all times be governed by this Privacy Policy. Notwithstanding the foregoing, this service is not available to international users.\"), /* @__PURE__ */ React18.createElement(\"h4\", null, \"3. Business Transfers\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"If the ownership of Gone substantially changes, such that all of its assets were acquired, or merged into another entity, or in the unlikely event that Gone enters bankruptcy, you understand that any stored personally identifying, and non-personally identifying information and data will likely be one of the assets that is transferred or acquired by a third party. You acknowledge that such transfers may occur and that any acquirer or merging entity of Gone may continue to use your personal information as set forth in this policy.\"), /* @__PURE__ */ React18.createElement(\"h4\", null, \"4. Privacy Policy Changes\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"We may update this Privacy Policy to reflect changes to our information practices. If we make any change in how we use your personal data we will notify you by email (specified upon registration), or we will notify you by means of a notice on this page prior to the change becoming effective. We encourage you to periodically review this page for the latest information on our privacy practices.\"), /* @__PURE__ */ React18.createElement(\"h4\", null, \"5. Contact Gone\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"If you have any questions or suggestions regarding this Privacy Policy, please contact Gone via email at support@Gonedigital.com.\"), /* @__PURE__ */ React18.createElement(\"h4\", null, \"6. Contact appropriate authority\"), /* @__PURE__ */ React18.createElement(\"p\", null, \"Should you wish to report a complaint or if you feel that we have not addressed your concern in a satisfactory manner, you have the right to contact a regulatory body or data protection authority in relation to your complaint\"))));\n}\n\n// src/components/PickupRequestForm.tsx\nvar STORAGE_KEY = \"giver_form_data\";\nvar loadFromLocalStorage = () => {\n  try {\n    const saved = localStorage.getItem(STORAGE_KEY);\n    if (!saved) return null;\n    const data = JSON.parse(saved);\n    const validItems = data.uploadedItems?.filter((item) => {\n      return item.imageUrl && item.imageUrl.startsWith(\"data:image/\");\n    }) || [];\n    return {\n      currentStep: data.currentStep || 1,\n      uploadedItems: validItems,\n      availableTimes: data.availableTimes || [],\n      address: data.address || \"\",\n      contactInfo: data.contactInfo || { fullName: \"\", contact: \"\" }\n    };\n  } catch (error) {\n    console.error(\"Error loading from localStorage:\", error);\n    return null;\n  }\n};\nvar clearLocalStorage = () => {\n  localStorage.removeItem(STORAGE_KEY);\n};\nvar PlacesAutocomplete = ({\n  value,\n  onChange,\n  onSelect\n}) => {\n  const {\n    ready,\n    suggestions: { data },\n    setValue,\n    clearSuggestions\n  } = usePlacesAutocomplete({\n    requestOptions: { componentRestrictions: { country: \"us\" } },\n    debounce: 300,\n    defaultValue: value,\n    cache: 24 * 60 * 60\n  });\n  return /* @__PURE__ */ React19.createElement(\"div\", { className: \"relative\" }, /* @__PURE__ */ React19.createElement(\n    FormInput,\n    {\n      label: \"Pickup Address\",\n      value,\n      onChange: (val) => {\n        setValue(val);\n        onChange(val);\n      },\n      disabled: !ready,\n      placeholder: ready ? \"Enter your address\" : \"Loading Places API...\"\n    }\n  ), data.length > 0 && /* @__PURE__ */ React19.createElement(\"ul\", { className: \"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg\" }, data.map((suggestion) => /* @__PURE__ */ React19.createElement(\n    \"li\",\n    {\n      key: suggestion.place_id,\n      className: \"px-4 py-2 hover:bg-gray-100 cursor-pointer\",\n      onClick: () => {\n        onChange(suggestion.description);\n        onSelect(suggestion.description);\n        clearSuggestions();\n      }\n    },\n    suggestion.description\n  ))));\n};\nvar handlePhotoUpload = async (photos, setUploadedItems, skipContactStep) => {\n  const instanceId = Math.random().toString(36).substr(2, 9);\n  let newItems = [];\n  if (photos.length > 0) {\n    try {\n      newItems = photos.map((photoUrl) => ({\n        id: `${instanceId}-${Math.random().toString(36).substr(2, 9)}`,\n        imageUrl: photoUrl,\n        quantity: 1,\n        selectedFiles: [],\n        status: \"uploading\"\n      }));\n      setUploadedItems((prevItems) => [...prevItems, ...newItems]);\n      const files = await Promise.all(photos.map(async (photo, index) => {\n        const response = await fetch(photo);\n        const blob = await response.blob();\n        return new File([blob], `photo-${index}.jpg`, { type: \"image/jpeg\" });\n      }));\n      setUploadedItems(\n        (prevItems) => prevItems.map((item) => {\n          const matchingNewItem = newItems.find((newItem) => newItem.id === item.id);\n          if (matchingNewItem) {\n            return {\n              ...item,\n              selectedFiles: [files[newItems.indexOf(matchingNewItem)]],\n              status: \"ready\"\n            };\n          }\n          return item;\n        })\n      );\n    } catch (error) {\n      console.error(\"Error processing files:\", error);\n      setUploadedItems(\n        (prevItems) => prevItems.map((item) => ({\n          ...item,\n          status: newItems.some((newItem) => newItem.id === item.id) ? \"error\" : item.status\n        }))\n      );\n    }\n  }\n};\nvar isValidEmail = (email) => {\n  return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n};\nvar isValidPhone = (phone) => {\n  return /^\\+?[\\d\\s-()]{10,}$/.test(phone);\n};\nvar getMinDate = () => {\n  const today = /* @__PURE__ */ new Date();\n  today.setHours(today.getHours() + 72);\n  return today.toISOString().split(\"T\")[0];\n};\nvar formatPhoneNumber = (value) => {\n  const digits = value.replace(/\\D/g, \"\");\n  if (digits.length >= 10) {\n    return `(${digits.slice(0, 3)}) ${digits.slice(3, 6)}-${digits.slice(6, 10)}`;\n  } else if (digits.length > 6) {\n    return `(${digits.slice(0, 3)}) ${digits.slice(3, 6)}-${digits.slice(6)}`;\n  } else if (digits.length > 3) {\n    return `(${digits.slice(0, 3)}) ${digits.slice(3)}`;\n  } else if (digits.length > 0) {\n    return `(${digits}`;\n  }\n  return \"\";\n};\nvar generateTimeOptions = () => {\n  const options = [];\n  for (let hour = 9; hour <= 17; hour++) {\n    options.push(`${hour.toString().padStart(2, \"0\")}:00`);\n    if (hour !== 17) {\n      options.push(`${hour.toString().padStart(2, \"0\")}:30`);\n    }\n  }\n  return options;\n};\nvar PickupRequestForm = ({\n  onSubmit,\n  className,\n  skipContactStep = false,\n  renderDetailsStep,\n  availableDates,\n  skipConfirmationStep = false,\n  selectedDate,\n  selectedTime,\n  onDateSelect,\n  onTimeSelect,\n  steps,\n  renderCustomStep,\n  validateStep,\n  isSubmitting,\n  onStepChange,\n  onCompletedStepsChange\n}) => {\n  const [currentStep, setCurrentStep] = useState8(() => {\n    if (typeof window !== \"undefined\") {\n      const isRefresh = performance.navigation?.type === 1 || window.performance?.getEntriesByType(\"navigation\")[0]?.type === \"reload\";\n      if (isRefresh) {\n        return parseInt(localStorage.getItem(\"formData_currentStep\") || \"1\");\n      }\n      localStorage.removeItem(\"formData_currentStep\");\n    }\n    return 1;\n  });\n  const [uploadedItems, setUploadedItems] = useState8(() => {\n    if (typeof window !== \"undefined\") {\n      const saved = localStorage.getItem(\"formData_items\");\n      return saved ? JSON.parse(saved) : [];\n    }\n    return [];\n  });\n  const [availableTimes, setAvailableTimes] = useState8(() => {\n    if (typeof window !== \"undefined\") {\n      const saved = localStorage.getItem(\"formData_times\");\n      return saved ? JSON.parse(saved) : [];\n    }\n    return [];\n  });\n  const [address, setAddress] = useState8(() => {\n    if (typeof window !== \"undefined\") {\n      return localStorage.getItem(\"formData_address\") || \"\";\n    }\n    return \"\";\n  });\n  const [contactInfo, setContactInfo] = useState8(() => {\n    if (typeof window !== \"undefined\") {\n      const saved = localStorage.getItem(\"formData_contact\");\n      return saved ? JSON.parse(saved) : { fullName: \"\", contact: \"\" };\n    }\n    return { fullName: \"\", contact: \"\" };\n  });\n  const [showTerms, setShowTerms] = useState8(false);\n  const [confirmations, setConfirmations] = useState8({\n    ownership: false,\n    terms: false,\n    liability: false,\n    marketing: false\n  });\n  const [feedback, setFeedback] = useState8(\"\");\n  const [isTermsVisible, setIsTermsVisible] = useState8(false);\n  const [loading, setLoading] = useState8(false);\n  const [formMessage, setFormMessage] = useState8(\"\");\n  const [isPrivacyVisible, setIsPrivacyVisible] = useState8(false);\n  const [completedSteps, setCompletedSteps] = useState8([]);\n  const [requestId, setRequestId] = useState8(null);\n  const isStepCompleted = (step) => {\n    return completedSteps.includes(step);\n  };\n  useEffect2(() => {\n    if (typeof window !== \"undefined\") {\n      localStorage.setItem(\"formData_items\", JSON.stringify(uploadedItems));\n      localStorage.setItem(\"formData_times\", JSON.stringify(availableTimes));\n      localStorage.setItem(\"formData_address\", address);\n      localStorage.setItem(\"formData_contact\", JSON.stringify(contactInfo));\n    }\n  }, [uploadedItems, availableTimes, address, contactInfo]);\n  useEffect2(() => {\n    const handleBeforeUnload = (event) => {\n      if (uploadedItems.length > 0) {\n        event.preventDefault();\n        event.returnValue = \"\";\n      }\n    };\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\n    return () => {\n      window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n    };\n  }, []);\n  useEffect2(() => {\n    const savedData = loadFromLocalStorage();\n    if (savedData) {\n      const validItems = savedData.uploadedItems.filter(\n        (item) => item.imageUrl && item.imageUrl.startsWith(\"data:image/\")\n      );\n      setCurrentStep(savedData.currentStep || 1);\n      setUploadedItems(validItems);\n      setAvailableTimes(savedData.availableTimes || []);\n      setAddress(savedData.address || \"\");\n      setContactInfo(savedData.contactInfo || { fullName: \"\", contact: \"\" });\n    }\n  }, []);\n  useEffect2(() => {\n    if (onCompletedStepsChange && completedSteps) {\n      onCompletedStepsChange(completedSteps);\n    }\n  }, [completedSteps, onCompletedStepsChange]);\n  const handleItemDescription = (itemId, description) => {\n    setUploadedItems(\n      (items) => items.map(\n        (item) => item.id === itemId ? { ...item, description } : item\n      )\n    );\n  };\n  const handleQuantityChange = (itemId, quantity) => {\n    setUploadedItems(\n      (items) => items.map(\n        (item) => item.id === itemId ? { ...item, quantity: parseInt(quantity) || 1 } : item\n      )\n    );\n  };\n  const handleTimeSelection = (time) => {\n    setAvailableTimes(\n      (current) => current.includes(time) ? current.filter((t) => t !== time) : [...current, time]\n    );\n  };\n  const isSuccessStep = () => currentStep === 4;\n  const handleItemRemove = (itemId) => {\n    setUploadedItems((items) => items.filter((item) => item.id !== itemId));\n  };\n  const handleFeedbackSubmit = async (feedbackText) => {\n    try {\n      const feedbackData = {\n        name: contactInfo.fullName,\n        contact: contactInfo.contact,\n        feedback: feedbackText,\n        createdAt: (/* @__PURE__ */ new Date()).toISOString(),\n        pickupRequestId: null\n      };\n      const docRef = await addDoc(collection(db, \"feedback\"), feedbackData);\n      console.log(\"Feedback submitted with ID:\", docRef.id);\n      setFormMessage(\"Thank you for your feedback!\");\n      setFeedback(\"\");\n    } catch (error) {\n      console.error(\"Error submitting feedback:\", error);\n      setFormMessage(\"Failed to submit feedback. Please try again.\");\n    }\n  };\n  const renderStepContent = () => {\n    if (renderCustomStep) {\n      const customContent = renderCustomStep(currentStep);\n      if (customContent !== null) {\n        return customContent;\n      }\n    }\n    switch (currentStep) {\n      case 1:\n        return /* @__PURE__ */ React19.createElement(\"div\", { className: \"space-y-6\" }, !isStepCompleted(1) && /* @__PURE__ */ React19.createElement(\"div\", { className: \"bg-[#F8FAF9] rounded-xl p-6 border-l-4 border-[#4B7163]\" }, /* @__PURE__ */ React19.createElement(\"h3\", { className: \"font-rockwell text-lg text-[#4B7163] mb-2\" }, \"Items We Accept\"), /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-[#5A7C6F]\" }, \"We accept gently used furniture and home goods. All items must be in good condition, clean, and free from damage. Please ensure items are ready for pickup and easily accessible.\")), /* @__PURE__ */ React19.createElement(\"div\", { className: \"bg-[#F8FAF9] rounded-xl p-6\" }, /* @__PURE__ */ React19.createElement(\n          ImageUpload,\n          {\n            onUpload: async (photos) => {\n              await handlePhotoUpload(photos, setUploadedItems, skipContactStep);\n            },\n            maxFiles: 50\n          }\n        ), uploadedItems.length > 0 && /* @__PURE__ */ React19.createElement(\"div\", { className: \"space-y-6\" }, uploadedItems.map((item) => /* @__PURE__ */ React19.createElement(\"div\", { key: item.id, className: \"flex gap-4 p-4 bg-[#F8FAF9] rounded-xl\" }, /* @__PURE__ */ React19.createElement(\"div\", { className: \"w-32 h-32 rounded-lg overflow-hidden flex-shrink-0 relative\" }, /* @__PURE__ */ React19.createElement(\n          \"button\",\n          {\n            type: \"button\",\n            onClick: () => handleItemRemove(item.id),\n            className: \"absolute top-2 right-2 w-6 h-6 flex items-center justify-center rounded-full bg-white text-[#E67C45] hover:text-[#D15E25] shadow-sm\"\n          },\n          \"\\xD7\"\n        ), /* @__PURE__ */ React19.createElement(\n          \"img\",\n          {\n            src: item.imageUrl,\n            alt: \"Item\",\n            className: \"w-full h-full object-cover\"\n          }\n        ), item.status === \"uploading\" && /* @__PURE__ */ React19.createElement(\"div\", { className: \"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center\" }, /* @__PURE__ */ React19.createElement(\"div\", { className: \"animate-spin rounded-full h-6 w-6 border-b-2 border-white\" })), item.status === \"error\" && /* @__PURE__ */ React19.createElement(\"div\", { className: \"absolute inset-0 bg-red-500 bg-opacity-50 flex items-center justify-center\" }, /* @__PURE__ */ React19.createElement(\"span\", { className: \"text-white text-sm\" }, \"Error\"))), /* @__PURE__ */ React19.createElement(\"div\", { className: \"flex-grow\" }, /* @__PURE__ */ React19.createElement(\n          FormInput,\n          {\n            label: \"Item Description\",\n            placeholder: \"Describe the item, including condition and any relevant details\",\n            value: item.description || \"\",\n            onChange: (value) => handleItemDescription(item.id, value)\n          }\n        )))))));\n      case 2:\n        if (renderDetailsStep) {\n          return renderDetailsStep(\n            uploadedItems,\n            handleItemDescription,\n            handleQuantityChange,\n            availableDates || []\n          );\n        }\n        return /* @__PURE__ */ React19.createElement(\"div\", { className: \"space-y-6\" }, /* @__PURE__ */ React19.createElement(\"div\", { className: \"bg-[#F8FAF9] rounded-xl p-6 border-l-4 border-[#4B7163]\" }, /* @__PURE__ */ React19.createElement(\"h3\", { className: \"font-rockwell text-lg text-[#4B7163] mb-2\" }, \"Schedule Your Pickup\"), /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-[#5A7C6F]\" }, \"Please select at least two preferred pickup times. Having multiple options helps us plan the most efficient and sustainable pickup route, reducing our carbon footprint.\")), /* @__PURE__ */ React19.createElement(\"div\", { className: \"bg-[#F8FAF9] rounded-xl p-4\" }, /* @__PURE__ */ React19.createElement(\"div\", { className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\" }, /* @__PURE__ */ React19.createElement(\n          FormInput,\n          {\n            type: \"date\",\n            label: \"Pickup Date\",\n            value: selectedDate || \"\",\n            min: getMinDate(),\n            onChange: (value) => {\n              if (onDateSelect) onDateSelect(value);\n            }\n          }\n        ), /* @__PURE__ */ React19.createElement(\n          FormInput,\n          {\n            type: \"time\",\n            label: \"Pickup Time\",\n            value: selectedTime || \"\",\n            onChange: (value) => {\n              if (onTimeSelect) onTimeSelect(value);\n            },\n            min: \"09:00\",\n            max: \"17:00\",\n            step: \"1800\",\n            list: \"time-options\"\n          }\n        ), /* @__PURE__ */ React19.createElement(\"datalist\", { id: \"time-options\" }, generateTimeOptions().map((time) => /* @__PURE__ */ React19.createElement(\"option\", { key: time, value: time })))), /* @__PURE__ */ React19.createElement(\n          \"button\",\n          {\n            type: \"button\",\n            onClick: () => {\n              if (selectedDate && selectedTime) {\n                const timeSlot = `${selectedDate} ${selectedTime}`;\n                if (!availableTimes.includes(timeSlot)) {\n                  setAvailableTimes((prev) => [...prev, timeSlot]);\n                }\n              }\n            },\n            disabled: !selectedDate || !selectedTime,\n            className: cn(\n              \"w-full p-3 rounded-md text-center transition-colors\",\n              selectedDate && selectedTime ? \"bg-[#4B7163] text-white hover:bg-[#3D5B51]\" : \"bg-gray-100 text-gray-400 cursor-not-allowed\"\n            )\n          },\n          \"Add This Time Slot\"\n        ), /* @__PURE__ */ React19.createElement(\"div\", { className: \"mt-8\" }, /* @__PURE__ */ React19.createElement(\"h4\", { className: \"font-medium text-[#4B7163] mb-4\" }, \"Your Selected Time Slots \", availableTimes.length < 2 && /* @__PURE__ */ React19.createElement(\"span\", { className: \"text-[#E67C45] text-sm\" }, \"(Please select \", 2 - availableTimes.length, \" more)\")), /* @__PURE__ */ React19.createElement(\"div\", { className: \"grid grid-cols-1 md:grid-cols-3 gap-4\" }, availableTimes.map((timeSlot, index) => /* @__PURE__ */ React19.createElement(\n          \"div\",\n          {\n            key: timeSlot,\n            className: \"bg-white p-4 rounded-lg border-2 border-[#4B7163] relative\"\n          },\n          /* @__PURE__ */ React19.createElement(\n            \"button\",\n            {\n              type: \"button\",\n              onClick: () => setAvailableTimes((prev) => prev.filter((t) => t !== timeSlot)),\n              className: \"absolute top-2 right-2 text-[#E67C45] hover:text-[#D15E25]\"\n            },\n            \"\\xD7\"\n          ),\n          /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-[#4B7163] font-medium\" }, \"Option \", index + 1),\n          /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-sm text-gray-600\" }, new Date(timeSlot).toLocaleDateString(\"en-US\", {\n            weekday: \"short\",\n            month: \"short\",\n            day: \"numeric\"\n          })),\n          /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-sm text-gray-600\" }, new Date(timeSlot).toLocaleTimeString(\"en-US\", {\n            hour: \"numeric\",\n            minute: \"2-digit\"\n          }))\n        )), [...Array(Math.max(0, 3 - availableTimes.length))].map((_, i) => /* @__PURE__ */ React19.createElement(\n          \"div\",\n          {\n            key: i,\n            className: \"bg-gray-50 p-4 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center\"\n          },\n          /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-gray-400 text-center\" }, \"Select a time slot\")\n        )))), /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-sm text-[#5A7C6F] mt-6\" }, \"Business hours: Mon-Fri, 9AM-5PM\")));\n      case 3:\n        if (skipConfirmationStep) return null;\n        return /* @__PURE__ */ React19.createElement(\"div\", { className: \"space-y-6\" }, /* @__PURE__ */ React19.createElement(\"div\", { className: \"bg-[#F8FAF9] rounded-xl p-4\" }, /* @__PURE__ */ React19.createElement(\n          FormInput,\n          {\n            label: \"First and Last Name\",\n            value: contactInfo.fullName,\n            onChange: (value) => setContactInfo((prev) => ({\n              ...prev,\n              fullName: value\n            }))\n          }\n        ), /* @__PURE__ */ React19.createElement(\"div\", { className: \"mt-6\" }, /* @__PURE__ */ React19.createElement(\n          FormInput,\n          {\n            label: \"Email or Mobile Number\",\n            value: contactInfo.contact,\n            onChange: (value) => {\n              if (/^[\\d(]/.test(value)) {\n                setContactInfo((prev) => ({\n                  ...prev,\n                  contact: formatPhoneNumber(value)\n                }));\n              } else {\n                setContactInfo((prev) => ({\n                  ...prev,\n                  contact: value\n                }));\n              }\n            },\n            hint: \"Choose the contact method you check most frequently for convenient updates.\",\n            error: contactInfo.contact && !isValidEmail(contactInfo.contact) && !isValidPhone(contactInfo.contact) ? \"Please enter a valid email address or phone number\" : void 0,\n            state: contactInfo.contact ? isValidEmail(contactInfo.contact) || isValidPhone(contactInfo.contact) ? \"completed\" : \"error\" : \"normal\"\n          }\n        ))), /* @__PURE__ */ React19.createElement(\"div\", { className: \"bg-[#F8FAF9] rounded-xl p-4\" }, /* @__PURE__ */ React19.createElement(\n          PlacesAutocomplete,\n          {\n            value: address,\n            onChange: setAddress,\n            onSelect: async (address2) => {\n              setAddress(address2);\n            }\n          }\n        ), /* @__PURE__ */ React19.createElement(\"p\", { className: \"mt-2 text-sm text-[#5A7C6F] flex items-center gap-2\" }, /* @__PURE__ */ React19.createElement(Info, { className: \"h-4 w-4\" }), \"Please ensure the address is accurate and items will be accessible at this location\")), /* @__PURE__ */ React19.createElement(\"div\", { className: \"space-y-4 bg-[#F8FAF9] rounded-xl p-4\" }, /* @__PURE__ */ React19.createElement(\"h3\", { className: \"font-rockwell text-lg text-[#4B7163] mb-4\" }, \"Final Confirmation\"), /* @__PURE__ */ React19.createElement(\"label\", { className: \"flex items-start gap-3 cursor-pointer\" }, /* @__PURE__ */ React19.createElement(\n          \"input\",\n          {\n            type: \"checkbox\",\n            checked: confirmations.ownership,\n            onChange: (e) => setConfirmations((prev) => ({\n              ...prev,\n              ownership: e.target.checked\n            })),\n            className: \"mt-1\"\n          }\n        ), /* @__PURE__ */ React19.createElement(\"span\", { className: \"text-sm text-[#5A7C6F]\" }, \"I am the owner of the household goods I am requesting for pick up.\")), /* @__PURE__ */ React19.createElement(\"label\", { className: \"flex items-start gap-3 cursor-pointer\" }, /* @__PURE__ */ React19.createElement(\n          \"input\",\n          {\n            type: \"checkbox\",\n            checked: confirmations.terms,\n            onChange: (e) => setConfirmations((prev) => ({\n              ...prev,\n              terms: e.target.checked\n            })),\n            className: \"mt-1\"\n          }\n        ), /* @__PURE__ */ React19.createElement(\"span\", { className: \"text-sm text-[#5A7C6F]\" }, \"I have read and agree to the\", \" \", /* @__PURE__ */ React19.createElement(\n          \"button\",\n          {\n            type: \"button\",\n            onClick: () => setIsTermsVisible(true),\n            className: \"text-[#6AB098] underline hover:text-[#4B7163]\"\n          },\n          \"Terms of Service\"\n        ), \" \", \"and\", \" \", /* @__PURE__ */ React19.createElement(\n          \"button\",\n          {\n            type: \"button\",\n            onClick: () => setIsPrivacyVisible(true),\n            className: \"text-[#6AB098] underline hover:text-[#4B7163]\"\n          },\n          \"Privacy Policy\"\n        ))), /* @__PURE__ */ React19.createElement(\"label\", { className: \"flex items-start gap-3 cursor-pointer\" }, /* @__PURE__ */ React19.createElement(\n          \"input\",\n          {\n            type: \"checkbox\",\n            checked: confirmations.liability,\n            onChange: (e) => setConfirmations((prev) => ({\n              ...prev,\n              liability: e.target.checked\n            })),\n            className: \"mt-1\"\n          }\n        ), /* @__PURE__ */ React19.createElement(\"span\", { className: \"text-sm text-[#5A7C6F]\" }, \"I assume all risk associated with items being picked up at my residence and release Gone from any and all claims.\")), /* @__PURE__ */ React19.createElement(\"label\", { className: \"flex items-start gap-3 cursor-pointer\" }, /* @__PURE__ */ React19.createElement(\n          \"input\",\n          {\n            type: \"checkbox\",\n            checked: confirmations.marketing,\n            onChange: (e) => setConfirmations((prev) => ({\n              ...prev,\n              marketing: e.target.checked\n            })),\n            className: \"mt-1\"\n          }\n        ), /* @__PURE__ */ React19.createElement(\"span\", { className: \"text-sm text-[#5A7C6F]\" }, 'I acknowledge my number will be stored and used to schedule pick-up and used for marketing and promotional purposes. I may opt out at any time by responding \"Stop\" to any text messages I receive.'))));\n      case 4:\n        return /* @__PURE__ */ React19.createElement(\"div\", { className: \"space-y-6\" }, /* @__PURE__ */ React19.createElement(\"div\", { className: \"bg-[#F8FAF9] rounded-xl p-6 text-center\" }, /* @__PURE__ */ React19.createElement(CheckCircle2, { className: \"w-16 h-16 text-[#4B7163] mx-auto mb-4\" }), /* @__PURE__ */ React19.createElement(\"h3\", { className: \"font-rockwell text-2xl text-[#4B7163] mb-4\" }, \"Request Submitted Successfully!\"), /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-[#5A7C6F] mb-6\" }, \"We'll review your request and get back to you via \", contactInfo.contact.includes(\"@\") ? \"email\" : \"text\", \" shortly. Thank you for being a sustainable citizen and giving your items a second life!\")), requestId && /* @__PURE__ */ React19.createElement(\"div\", { className: \"bg-[#F8FAF9] rounded-xl p-6\" }, /* @__PURE__ */ React19.createElement(\"h4\", { className: \"font-rockwell text-lg text-[#4B7163] mb-4\" }, \"Track Your Request Status\"), /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-[#5A7C6F] mb-4\" }, \"You can check the status of your pickup request at any time:\"), /* @__PURE__ */ React19.createElement(\"div\", { className: \"flex items-center gap-2 bg-white p-3 rounded-lg border border-[#4B7163]\" }, /* @__PURE__ */ React19.createElement(\n          \"a\",\n          {\n            href: `${window.location.origin}/pickup-status/${requestId}`,\n            className: \"flex-grow truncate text-[#4B7163] hover:underline\",\n            target: \"_blank\",\n            rel: \"noopener noreferrer\"\n          },\n          `${window.location.origin}/pickup-status/${requestId}`\n        ), /* @__PURE__ */ React19.createElement(\n          \"button\",\n          {\n            onClick: () => {\n              navigator.clipboard.writeText(`${window.location.origin}/pickup-status/${requestId}`);\n            },\n            className: \"text-[#4B7163] hover:text-[#3D5B51] px-3 py-1 rounded-md border-l border-[#4B7163]/20\"\n          },\n          \"Copy Link\"\n        ))), /* @__PURE__ */ React19.createElement(\"div\", { className: \"bg-[#F8FAF9] rounded-xl p-6\" }, /* @__PURE__ */ React19.createElement(\"h4\", { className: \"font-rockwell text-lg text-[#4B7163] mb-4\" }, \"Your Pickup Request Details\"), /* @__PURE__ */ React19.createElement(\"div\", { className: \"space-y-4\" }, /* @__PURE__ */ React19.createElement(\"div\", { className: \"border-b border-[#4B7163]/10 pb-4\" }, /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-sm text-[#5A7C6F] font-medium mb-2\" }, \"Contact Information\"), /* @__PURE__ */ React19.createElement(\"div\", { className: \"space-y-1\" }, /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-[#4B7163]\" }, contactInfo.fullName), /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-[#4B7163]\" }, contactInfo.contact), /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-[#4B7163]\" }, address))), /* @__PURE__ */ React19.createElement(\"div\", { className: \"border-b border-[#4B7163]/10 pb-4\" }, /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-sm text-[#5A7C6F] font-medium mb-2\" }, \"Items for Pickup (\", uploadedItems.length, \")\"), /* @__PURE__ */ React19.createElement(\"div\", { className: \"grid gap-3\" }, uploadedItems.map((item, index) => /* @__PURE__ */ React19.createElement(\"div\", { key: item.id, className: \"flex items-center gap-3 bg-white p-2 rounded-lg\" }, /* @__PURE__ */ React19.createElement(\n          \"img\",\n          {\n            src: item.imageUrl,\n            alt: item.description || `Item ${index + 1}`,\n            className: \"w-16 h-16 object-cover rounded\"\n          }\n        ), /* @__PURE__ */ React19.createElement(\"div\", null, /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-[#4B7163] font-medium\" }, item.description || `Item ${index + 1}`), item.quantity && item.quantity > 1 && /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-sm text-[#5A7C6F]\" }, \"Quantity: \", item.quantity)))))), /* @__PURE__ */ React19.createElement(\"div\", null, /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-sm text-[#5A7C6F] font-medium mb-2\" }, \"Preferred Pickup Times\"), /* @__PURE__ */ React19.createElement(\"div\", { className: \"flex flex-wrap gap-2\" }, availableTimes.map((time) => /* @__PURE__ */ React19.createElement(\"div\", { key: time, className: \"bg-[#4B7163]/10 rounded-full px-3 py-1 text-sm text-[#4B7163]\" }, time)))))), /* @__PURE__ */ React19.createElement(\"div\", { className: \"bg-[#F8FAF9] rounded-xl p-6\" }, /* @__PURE__ */ React19.createElement(\"h4\", { className: \"font-rockwell text-lg text-[#4B7163] mb-4\" }, \"How was your experience?\"), /* @__PURE__ */ React19.createElement(\n          \"textarea\",\n          {\n            placeholder: \"Share your feedback with us\",\n            value: feedback,\n            onChange: (e) => setFeedback(e.target.value),\n            rows: 4,\n            className: \"w-full p-3 border-2 rounded-lg border-[#5A7C6F] focus:outline-none focus:ring-2\"\n          }\n        ), formMessage && /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-center text-sm text-[#4B7163] mt-2\" }, formMessage)), /* @__PURE__ */ React19.createElement(\"div\", { className: \"flex justify-center gap-4\" }, /* @__PURE__ */ React19.createElement(\n          CustomButton,\n          {\n            onClick: handleNewRequest,\n            variant: \"secondary\"\n          },\n          \"Submit Another Request\"\n        ), /* @__PURE__ */ React19.createElement(\n          CustomButton,\n          {\n            onClick: async () => {\n              if (feedback.trim()) {\n                try {\n                  const feedbackData = {\n                    name: contactInfo.fullName,\n                    contact: contactInfo.contact,\n                    address,\n                    feedback: feedback.trim(),\n                    createdAt: (/* @__PURE__ */ new Date()).toISOString()\n                  };\n                  const docRef = await addDoc(collection(db, \"feedBack\"), feedbackData);\n                  console.log(\"Feedback submitted with ID:\", docRef.id);\n                  setFormMessage(\"Thank you for your feedback!\");\n                  setFeedback(\"\");\n                } catch (error) {\n                  console.error(\"Error submitting feedback:\", error);\n                  setFormMessage(\"Failed to submit feedback. Please try again.\");\n                }\n              }\n            },\n            disabled: !feedback.trim()\n          },\n          \"Submit Feedback\"\n        )));\n      default:\n        return null;\n    }\n  };\n  const canProceed = () => {\n    if (completedSteps.includes(currentStep)) {\n      return true;\n    }\n    if (validateStep) {\n      return validateStep(currentStep);\n    }\n    switch (currentStep) {\n      case 1:\n        return uploadedItems.length > 0;\n      case 2:\n        if (renderDetailsStep) {\n          return selectedDate && selectedTime;\n        }\n        return availableTimes.length >= 2;\n      // Require at least 2 time slots\n      case 3:\n        if (skipConfirmationStep) return false;\n        return contactInfo.fullName.trim().length > 0 && (isValidEmail(contactInfo.contact) || isValidPhone(contactInfo.contact)) && address.trim().length > 0 && Object.values(confirmations).every((value) => value === true);\n      default:\n        return false;\n    }\n  };\n  const handleNext = async () => {\n    if (canProceed()) {\n      if (!completedSteps.includes(currentStep)) {\n        const newCompletedSteps = [...completedSteps, currentStep];\n        setCompletedSteps(newCompletedSteps);\n        if (onCompletedStepsChange) {\n          onCompletedStepsChange(newCompletedSteps);\n        }\n      }\n      if (currentStep === 3) {\n        setLoading(true);\n        try {\n          const fileUploadPromises = uploadedItems.filter((item) => item.selectedFiles && item.selectedFiles.length > 0).map(async (item) => {\n            const formData = new FormData();\n            (item.selectedFiles || []).forEach((file) => {\n              formData.append(\"files\", file);\n            });\n            const response = await fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/upload`, {\n              method: \"POST\",\n              body: formData\n            });\n            if (!response.ok) throw new Error(\"Upload failed\");\n            const { fileUrls } = await response.json();\n            return {\n              description: item.description,\n              fileUrls,\n              status: \"pending\"\n            };\n          });\n          const processedItems = await Promise.all(fileUploadPromises);\n          const result = await onSubmit({\n            fullName: contactInfo.fullName,\n            contact: contactInfo.contact,\n            items: processedItems,\n            availableTimes,\n            address\n          });\n          setRequestId(result.id);\n          clearLocalStorage();\n          setCurrentStep(4);\n        } catch (error) {\n          console.error(\"Error:\", error);\n        } finally {\n          setLoading(false);\n        }\n      } else {\n        setCurrentStep((prev) => prev + 1);\n      }\n    }\n  };\n  const handleNewRequest = () => {\n    setUploadedItems([]);\n    setAvailableTimes([]);\n    setAddress(\"\");\n    setContactInfo({ fullName: \"\", contact: \"\" });\n    setConfirmations({\n      ownership: false,\n      terms: false,\n      liability: false,\n      marketing: false\n    });\n    setCurrentStep(1);\n    setCompletedSteps([]);\n    clearLocalStorage();\n  };\n  const defaultSteps = [\n    {\n      label: \"Item Photos\",\n      description: \"Upload item photos to get started\",\n      icon: Camera\n    },\n    {\n      label: \"Pickup Time\",\n      description: \"Choose convenient pickup time slots\",\n      icon: Calendar\n    },\n    ...skipConfirmationStep ? [] : [{\n      label: \"Contact Info\",\n      description: \"We'll use your contact info to coordinate pickup details and keep you updated on status\",\n      icon: UserCircle2\n    }]\n  ];\n  const formSteps = steps || defaultSteps;\n  return /* @__PURE__ */ React19.createElement(\"div\", { className: cn(\n    \"bg-white rounded-2xl border-2 border-[#4B7163] p-6 pt-8\",\n    className\n  ) }, !isSuccessStep() && /* @__PURE__ */ React19.createElement(\"div\", { className: \"mb-12\" }, /* @__PURE__ */ React19.createElement(\n    Progress,\n    {\n      steps: steps || defaultSteps,\n      currentStep,\n      completedSteps,\n      onStepClick: (step) => {\n        if (step < currentStep || step > currentStep && completedSteps.includes(currentStep) && completedSteps.includes(step - 1)) {\n          setCurrentStep(step);\n        }\n      }\n    }\n  )), /* @__PURE__ */ React19.createElement(\"div\", { className: \"mb-8\" }, currentStep === 4 ? /* @__PURE__ */ React19.createElement(\"div\", { className: \"flex items-center gap-3 mb-6\" }, /* @__PURE__ */ React19.createElement(\"div\", { className: \"w-6 h-6 text-[#4B7163]\" }, /* @__PURE__ */ React19.createElement(CheckCircle2, null)), /* @__PURE__ */ React19.createElement(\"h2\", { className: \"font-rockwell text-2xl text-[#4B7163]\" }, \"Request Summary\")) : formSteps[currentStep - 1] ? /* @__PURE__ */ React19.createElement(React19.Fragment, null, /* @__PURE__ */ React19.createElement(\"div\", { className: \"flex items-center gap-3 mb-6\" }, formSteps[currentStep - 1].icon && /* @__PURE__ */ React19.createElement(\"div\", { className: \"w-6 h-6 text-[#4B7163]\" }, React19.createElement(formSteps[currentStep - 1].icon)), /* @__PURE__ */ React19.createElement(\"h2\", { className: \"font-rockwell text-2xl text-[#4B7163]\" }, formSteps[currentStep - 1].label)), /* @__PURE__ */ React19.createElement(\"p\", { className: \"text-gray-600 mb-6\" }, formSteps[currentStep - 1].description)) : null, renderStepContent()), /* @__PURE__ */ React19.createElement(\"div\", { className: \"mt-8 flex justify-end\" }, currentStep > 1 && !isSuccessStep() && /* @__PURE__ */ React19.createElement(\n    CustomButton,\n    {\n      onClick: () => setCurrentStep(currentStep - 1),\n      variant: \"secondary\",\n      className: \"mr-auto\"\n    },\n    \"Back\"\n  ), /* @__PURE__ */ React19.createElement(\n    CustomButton,\n    {\n      variant: \"primary\",\n      className: \"next-button\",\n      disabled: !canProceed() || isSubmitting || loading,\n      onClick: handleNext\n    },\n    isSubmitting || loading ? \"Submitting...\" : currentStep === 3 ? \"Submit Request\" : \"Continue\"\n  )), /* @__PURE__ */ React19.createElement(\n    TermsOfService,\n    {\n      isVisible: isTermsVisible,\n      onClose: () => setIsTermsVisible(false)\n    }\n  ), /* @__PURE__ */ React19.createElement(\n    Privacy,\n    {\n      isVisible: isPrivacyVisible,\n      onClose: () => setIsPrivacyVisible(false)\n    }\n  ));\n};\n\n// src/components/PickupRequestManager.tsx\nimport React20, { useState as useState9 } from \"react\";\nimport { Calendar as Calendar2, MapPin as MapPin3, X as X7, Check as Check6 } from \"lucide-react\";\nvar PickupRequestManager = ({\n  pickupRequests,\n  onAcceptRequest,\n  onRejectRequest,\n  onUpdateStatus,\n  onSendMessage,\n  onMessageRead,\n  className\n}) => {\n  const [currentRequestIndex, setCurrentRequestIndex] = useState9(0);\n  const [items, setItems] = useState9(pickupRequests[currentRequestIndex].items);\n  const [newMessage, setNewMessage] = useState9(\"\");\n  const [isMessagesExpanded, setIsMessagesExpanded] = useState9(false);\n  const unreadCount = pickupRequests[currentRequestIndex].messages.filter((msg) => !msg.isRead).length;\n  const lastMessage = pickupRequests[currentRequestIndex].messages[pickupRequests[currentRequestIndex].messages.length - 1];\n  const lastMessageTime = lastMessage ? new Intl.RelativeTimeFormat(\"en\").format(\n    Math.ceil((lastMessage.timestamp.getTime() - Date.now()) / (1e3 * 60 * 60 * 24)),\n    \"days\"\n  ) : null;\n  const handleSwipe = (direction, item) => {\n    if (direction === \"right\") {\n      onAcceptRequest(pickupRequests[currentRequestIndex].id);\n    } else {\n      onRejectRequest(pickupRequests[currentRequestIndex].id);\n    }\n    setItems((prevItems) => prevItems.filter((i) => i.id !== item.id));\n  };\n  const handleExpand = () => {\n    setIsMessagesExpanded(!isMessagesExpanded);\n    if (!isMessagesExpanded && onMessageRead) {\n      pickupRequests[currentRequestIndex].messages.forEach((msg) => {\n        if (!msg.isRead) onMessageRead(pickupRequests[currentRequestIndex].id, msg.id);\n      });\n    }\n  };\n  const totalRequests = pickupRequests.length;\n  return /* @__PURE__ */ React20.createElement(\"div\", { className: \"max-w-4xl mx-auto space-y-8\" }, /* @__PURE__ */ React20.createElement(\"div\", { className: \"flex justify-between items-center px-4\" }, /* @__PURE__ */ React20.createElement(\n    CustomButton,\n    {\n      onClick: () => setCurrentRequestIndex((prev) => Math.max(0, prev - 1)),\n      disabled: currentRequestIndex === 0,\n      className: \"bg-[#4B7163] text-white px-4 py-2 rounded-lg\"\n    },\n    \"<\"\n  ), /* @__PURE__ */ React20.createElement(\"h2\", { className: \"font-rockwell text-2xl text-[#4B7163]\" }, currentRequestIndex + 1, \" of \", totalRequests), /* @__PURE__ */ React20.createElement(\n    CustomButton,\n    {\n      onClick: () => setCurrentRequestIndex((prev) => Math.min(totalRequests - 1, prev + 1)),\n      disabled: currentRequestIndex === totalRequests - 1,\n      className: \"bg-[#4B7163] text-white px-4 py-2 rounded-lg\"\n    },\n    \">\"\n  )), /* @__PURE__ */ React20.createElement(\"div\", { className: \"bg-white rounded-2xl border-2 border-[#4B7163] p-6\" }, /* @__PURE__ */ React20.createElement(\"h3\", { className: \"font-rockwell text-xl text-[#4B7163] mb-4\" }, \"Items to Review (\", pickupRequests[currentRequestIndex].items.length, \")\"), /* @__PURE__ */ React20.createElement(\"div\", { className: \"relative h-[500px]\" }, pickupRequests[currentRequestIndex].items.map((item, index) => /* @__PURE__ */ React20.createElement(\n    SwipeCard,\n    {\n      key: item.id,\n      imageUrl: item.imageUrl,\n      alt: item.name || \"Pickup request item\",\n      isVisible: index === pickupRequests[currentRequestIndex].items.length - 1,\n      onSwipe: (direction) => handleSwipe(direction, item)\n    },\n    /* @__PURE__ */ React20.createElement(\"div\", { className: \"space-y-4\" }, /* @__PURE__ */ React20.createElement(\"p\", { className: \"font-sourceSans text-gray-600\" }, item.description), /* @__PURE__ */ React20.createElement(\"div\", { className: \"space-y-2\" }, /* @__PURE__ */ React20.createElement(\"div\", { className: \"flex items-center gap-2 text-[#5A7C6F]\" }, /* @__PURE__ */ React20.createElement(MapPin3, { className: \"h-4 w-4\" }), /* @__PURE__ */ React20.createElement(\"span\", { className: \"text-sm\" }, item.location)), /* @__PURE__ */ React20.createElement(\"div\", { className: \"flex items-center gap-2 text-[#5A7C6F]\" }, /* @__PURE__ */ React20.createElement(Calendar2, { className: \"h-4 w-4\" }), /* @__PURE__ */ React20.createElement(\"div\", { className: \"text-sm\" }, \"Available:\", item.availableDates.map((dateInfo, idx) => /* @__PURE__ */ React20.createElement(\"span\", { key: dateInfo.date }, idx > 0 && \", \", dateInfo.date, /* @__PURE__ */ React20.createElement(\"span\", { className: \"text-[#6AB098] ml-1\" }, \"(\", dateInfo.requestCount, \" request\", dateInfo.requestCount !== 1 ? \"s\" : \"\", \")\")))))))\n  )), /* @__PURE__ */ React20.createElement(\"div\", { className: \"absolute bottom-0 left-0 right-0 flex justify-center gap-8 pb-4 text-sm text-gray-500 sm:hidden\" }, /* @__PURE__ */ React20.createElement(\"div\", { className: \"flex items-center gap-1\" }, /* @__PURE__ */ React20.createElement(X7, { className: \"h-4 w-4 text-red-500\" }), \" Swipe left to reject\"), /* @__PURE__ */ React20.createElement(\"div\", { className: \"flex items-center gap-1\" }, /* @__PURE__ */ React20.createElement(Check6, { className: \"h-4 w-4 text-green-500\" }), \" Swipe right to accept\")))), /* @__PURE__ */ React20.createElement(\n    MessageThread,\n    {\n      messages: pickupRequests[currentRequestIndex].messages,\n      onSendMessage: (message) => onSendMessage(pickupRequests[currentRequestIndex].id, message),\n      onMessageRead: (messageId) => onMessageRead?.(pickupRequests[currentRequestIndex].id, messageId),\n      className\n    }\n  ));\n};\n\n// src/components/ProductCard.tsx\nimport React21 from \"react\";\nimport { ShoppingCart } from \"lucide-react\";\nvar ProductCard = ({\n  imageUrl,\n  title,\n  category,\n  description,\n  price,\n  salePrice,\n  attributes,\n  onAddToCart,\n  className\n}) => {\n  return /* @__PURE__ */ React21.createElement(\"div\", { className: cn(\n    \"bg-white rounded-2xl border-2 border-[#4B7163] p-6\",\n    \"flex flex-col\",\n    className\n  ) }, /* @__PURE__ */ React21.createElement(\"div\", { className: \"w-full h-[200px] rounded-xl overflow-hidden mb-6\" }, /* @__PURE__ */ React21.createElement(\n    \"img\",\n    {\n      src: imageUrl,\n      alt: title,\n      className: \"w-full h-full object-cover\"\n    }\n  )), /* @__PURE__ */ React21.createElement(\"div\", { className: \"flex flex-col flex-grow\" }, /* @__PURE__ */ React21.createElement(\"div\", { className: \"flex-grow space-y-4\" }, /* @__PURE__ */ React21.createElement(\"div\", null, /* @__PURE__ */ React21.createElement(\"span\", { className: \"text-sm font-sourceSans text-[#5A7C6F] mb-1 block\" }, category), /* @__PURE__ */ React21.createElement(\"h3\", { className: \"font-rockwell text-2xl text-[#4B7163]\" }, title)), /* @__PURE__ */ React21.createElement(\"p\", { className: \"font-sourceSans text-gray-600 text-base\" }, description), /* @__PURE__ */ React21.createElement(\"div\", { className: \"flex flex-wrap gap-2\" }, attributes?.map((attr, index) => /* @__PURE__ */ React21.createElement(\n    Tag,\n    {\n      key: index,\n      text: attr.label,\n      variant: \"secondary\"\n    }\n  )))), /* @__PURE__ */ React21.createElement(\"div\", { className: \"flex items-center justify-between pt-6 mt-6 border-t border-gray-100\" }, /* @__PURE__ */ React21.createElement(\"div\", { className: \"flex items-baseline gap-1\" }, /* @__PURE__ */ React21.createElement(\"span\", { className: \"font-rockwell text-3xl text-[#4B7163]\" }, \"$\", price.toFixed(2)), /* @__PURE__ */ React21.createElement(\"span\", { className: \"font-sourceSans text-sm text-gray-500\" }, \"USD\")), /* @__PURE__ */ React21.createElement(\n    CustomButton,\n    {\n      onClick: onAddToCart,\n      className: \"flex items-center gap-2 px-6\"\n    },\n    /* @__PURE__ */ React21.createElement(ShoppingCart, { className: \"h-4 w-4\" }),\n    \"Add to Cart\"\n  ))));\n};\n\n// src/components/ShoppingCart.tsx\nimport React22, { useState as useState10, useEffect as useEffect3 } from \"react\";\nimport { X as X8 } from \"lucide-react\";\nvar ShoppingCart2 = ({\n  items: initialItems,\n  onRemoveItem,\n  onCheckout,\n  className\n}) => {\n  const [items, setItems] = useState10(initialItems);\n  useEffect3(() => {\n    setItems(initialItems);\n  }, [initialItems]);\n  const subtotal = items.reduce((sum, item) => sum + item.price, 0);\n  const tax = subtotal * 0.0825;\n  const total = subtotal + tax;\n  return /* @__PURE__ */ React22.createElement(\"div\", { className: cn(\n    \"bg-white rounded-2xl border-2 border-[#4B7163] p-6\",\n    \"flex flex-col\",\n    className\n  ) }, /* @__PURE__ */ React22.createElement(\"h2\", { className: \"font-rockwell text-2xl text-[#4B7163] mb-6\" }, \"Shopping Cart (\", items.length, \" \", items.length === 1 ? \"item\" : \"items\", \")\"), items.length === 0 ? /* @__PURE__ */ React22.createElement(\"div\", { className: \"text-center py-8 text-gray-500 font-sourceSans\" }, \"Your cart is empty\") : /* @__PURE__ */ React22.createElement(React22.Fragment, null, /* @__PURE__ */ React22.createElement(\"div\", { className: \"flex-grow space-y-6 mb-6\" }, items.map((item) => /* @__PURE__ */ React22.createElement(\n    \"div\",\n    {\n      key: item.id,\n      className: \"flex gap-4 pb-6 border-b border-gray-100 last:border-b-0\"\n    },\n    /* @__PURE__ */ React22.createElement(\"div\", { className: \"w-24 h-24 rounded-lg overflow-hidden flex-shrink-0\" }, /* @__PURE__ */ React22.createElement(\n      \"img\",\n      {\n        src: item.imageUrl,\n        alt: item.name,\n        className: \"w-full h-full object-cover\"\n      }\n    )),\n    /* @__PURE__ */ React22.createElement(\"div\", { className: \"flex-grow min-w-0\" }, /* @__PURE__ */ React22.createElement(\"div\", { className: \"flex justify-between items-start gap-2\" }, /* @__PURE__ */ React22.createElement(\"div\", null, /* @__PURE__ */ React22.createElement(\"h3\", { className: \"font-rockwell text-lg text-[#4B7163] mb-1\" }, item.name), /* @__PURE__ */ React22.createElement(\"p\", { className: \"text-sm text-gray-600 font-sourceSans\" }, item.description)), /* @__PURE__ */ React22.createElement(\n      \"button\",\n      {\n        onClick: () => onRemoveItem(item.id),\n        className: \"text-gray-400 hover:text-gray-600 transition-colors p-1\",\n        \"aria-label\": `Remove ${item.name} from cart`\n      },\n      /* @__PURE__ */ React22.createElement(X8, { className: \"h-5 w-5\" })\n    )), /* @__PURE__ */ React22.createElement(\"div\", { className: \"flex justify-end items-center mt-4\" }, /* @__PURE__ */ React22.createElement(\"span\", { className: \"font-rockwell text-lg text-[#4B7163]\" }, \"$\", item.price.toFixed(2))))\n  ))), /* @__PURE__ */ React22.createElement(\"div\", { className: \"bg-[#F8FAF9] rounded-xl p-4 space-y-3\" }, /* @__PURE__ */ React22.createElement(\"div\", { className: \"flex justify-between font-sourceSans text-[#5A7C6F]\" }, /* @__PURE__ */ React22.createElement(\"span\", null, \"Subtotal\"), /* @__PURE__ */ React22.createElement(\"span\", null, \"$\", subtotal.toFixed(2))), /* @__PURE__ */ React22.createElement(\"div\", { className: \"flex justify-between font-sourceSans text-[#5A7C6F]\" }, /* @__PURE__ */ React22.createElement(\"span\", null, \"Tax (8.25%)\"), /* @__PURE__ */ React22.createElement(\"span\", null, \"$\", tax.toFixed(2))), /* @__PURE__ */ React22.createElement(\"div\", { className: \"border-t border-[#5A7C6F]/20 pt-3\" }, /* @__PURE__ */ React22.createElement(\"div\", { className: \"flex justify-between font-rockwell text-xl text-[#4B7163]\" }, /* @__PURE__ */ React22.createElement(\"span\", null, \"Total\"), /* @__PURE__ */ React22.createElement(\"span\", null, \"$\", total.toFixed(2))))), /* @__PURE__ */ React22.createElement(\n    CustomButton,\n    {\n      onClick: onCheckout,\n      className: \"w-full mt-6\",\n      variant: \"cta\"\n    },\n    \"Proceed to Checkout\"\n  )));\n};\n\n// src/components/SwipeCardDeck.tsx\nimport React23, { useState as useState11, useEffect as useEffect4 } from \"react\";\nvar SwipeCardDeck = ({\n  cards,\n  onSwipeLeft,\n  onSwipeRight,\n  onEmpty\n}) => {\n  const [currentCards, setCurrentCards] = useState11(cards);\n  const [history, setHistory] = useState11([]);\n  useEffect4(() => {\n    if (currentCards.length === 0) {\n      onEmpty?.();\n    }\n  }, [currentCards, onEmpty]);\n  const handleSwipe = (direction, card) => {\n    setHistory((prev) => [...prev, { card, direction }]);\n    setCurrentCards((prev) => prev.filter((c) => c.id !== card.id));\n    if (direction === \"left\") {\n      onSwipeLeft?.(card);\n    } else {\n      onSwipeRight?.(card);\n    }\n  };\n  const undoLastSwipe = () => {\n    if (history.length === 0) return;\n    const lastAction = history[history.length - 1];\n    setCurrentCards((prev) => [...prev, lastAction.card]);\n    setHistory((prev) => prev.slice(0, -1));\n  };\n  return /* @__PURE__ */ React23.createElement(\"div\", { className: \"relative w-full max-w-[300px] mx-auto h-[400px]\" }, /* @__PURE__ */ React23.createElement(\"div\", { className: \"relative w-full h-full\" }, currentCards.map((card, index) => {\n    const isTop = index === currentCards.length - 1;\n    return /* @__PURE__ */ React23.createElement(\n      SwipeCard,\n      {\n        key: card.id,\n        imageUrl: card.imageUrl,\n        alt: card.alt,\n        isVisible: index >= currentCards.length - 3,\n        onSwipe: (direction) => handleSwipe(direction, card)\n      },\n      card.content\n    );\n  })), history.length > 0 && /* @__PURE__ */ React23.createElement(\n    \"button\",\n    {\n      onClick: undoLastSwipe,\n      className: \"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full mt-4 \\n                     px-4 py-2 bg-gray-100 rounded-full text-sm font-medium text-gray-600\\n                     hover:bg-gray-200 transition-colors\"\n    },\n    \"Undo\"\n  ));\n};\n\n// src/components/Toggle.tsx\nimport * as React24 from \"react\";\nimport { motion as motion2 } from \"framer-motion\";\nvar variantStyles2 = {\n  primary: {\n    active: \"bg-[#6AB098] hover:bg-[#5A9F87]\"\n  },\n  cta: {\n    active: \"bg-[#FFD200] hover:bg-[#E6BD00]\"\n  },\n  secondary: {\n    active: \"bg-[#A9D2C4] hover:bg-[#98C1B3]\"\n  }\n};\nvar Toggle = ({\n  checked,\n  onChange,\n  variant = \"primary\",\n  disabled = false,\n  className\n}) => {\n  const handleKeyDown = (event) => {\n    if (event.key === \"Enter\" || event.key === \" \") {\n      event.preventDefault();\n      if (!disabled) {\n        onChange(!checked);\n      }\n    }\n  };\n  return /* @__PURE__ */ React24.createElement(\n    motion2.button,\n    {\n      type: \"button\",\n      role: \"switch\",\n      \"aria-checked\": checked,\n      onClick: () => !disabled && onChange(!checked),\n      onKeyDown: handleKeyDown,\n      className: cn(\n        \"relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full bg-[#F8FAF9]\",\n        \"transition-colors duration-200 ease-in-out\",\n        \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2\",\n        \"border border-gray-200\",\n        disabled ? \"opacity-50 cursor-not-allowed\" : \"\",\n        className\n      ),\n      animate: checked ? \"checked\" : \"unchecked\",\n      whileTap: disabled ? void 0 : { scale: 0.95 }\n    },\n    /* @__PURE__ */ React24.createElement(\n      motion2.span,\n      {\n        className: cn(\n          \"pointer-events-none inline-block h-5 w-5 rounded-full shadow-lg ring-0\",\n          \"absolute top-[2px]\",\n          disabled ? \"cursor-not-allowed bg-gray-400\" : checked ? variantStyles2[variant].active : \"bg-gray-400 hover:bg-gray-500\"\n        ),\n        animate: {\n          x: checked ? \"24px\" : \"2px\"\n        },\n        transition: {\n          type: \"spring\",\n          stiffness: 500,\n          damping: 30\n        }\n      }\n    )\n  );\n};\n\n// src/components/PartnerPickupRequestForm.tsx\nimport React25, { useState as useState12 } from \"react\";\nimport { Camera as Camera2, Calendar as Calendar3 } from \"lucide-react\";\nvar PartnerPickupRequestForm = (props) => {\n  const [uploadedItems, setUploadedItems] = useState12([]);\n  const [selectedDate, setSelectedDate] = useState12(\"\");\n  const [selectedTime, setSelectedTime] = useState12(\"\");\n  const handlePhotoUpload2 = (photos) => {\n    const newItems = photos.map((photoUrl) => ({\n      id: Math.random().toString(36).substr(2, 9),\n      imageUrl: photoUrl,\n      description: \"\",\n      quantity: 1\n    }));\n    setUploadedItems((prev) => [...prev, ...newItems]);\n  };\n  const handleItemDescription = (id, description) => {\n    setUploadedItems(\n      (items) => items.map(\n        (item) => item.id === id ? { ...item, description } : item\n      )\n    );\n  };\n  const handleQuantityChange = (id, quantity) => {\n    setUploadedItems(\n      (items) => items.map(\n        (item) => item.id === id ? { ...item, quantity: parseInt(quantity) || 1 } : item\n      )\n    );\n  };\n  const user = {\n    name: \"John Doe\",\n    address: \"123 Main St, Anytown, USA\"\n  };\n  const defaultSteps = [\n    {\n      label: \"Item Photos\",\n      description: \"Upload photos of items you plan to drop off\",\n      icon: Camera2\n    },\n    {\n      label: \"Drop-off Time\",\n      description: \"Choose your preferred drop-off time\",\n      icon: Calendar3\n    }\n  ];\n  const renderCustomStep = (currentStep) => {\n    if (currentStep === 1) {\n      return /* @__PURE__ */ React25.createElement(\"div\", { className: \"space-y-6\" }, /* @__PURE__ */ React25.createElement(\"div\", { className: \"bg-[#F8FAF9] rounded-xl p-6 border-l-4 border-[#4B7163]\" }, /* @__PURE__ */ React25.createElement(\"h3\", { className: \"font-rockwell text-lg text-[#4B7163] mb-2\" }, \"Upload Photos of Your Items\"), /* @__PURE__ */ React25.createElement(\"p\", { className: \"text-[#5A7C6F]\" }, \"Take clear photos of each item you plan to drop off. This helps us prepare the right space and resources.\")), /* @__PURE__ */ React25.createElement(\"div\", { className: \"bg-[#F8FAF9] rounded-xl p-6\" }, /* @__PURE__ */ React25.createElement(\n        ImageUpload,\n        {\n          onUpload: (photos) => handlePhotoUpload2(photos),\n          maxFiles: 50\n        }\n      )), uploadedItems.map((item) => /* @__PURE__ */ React25.createElement(\"div\", { key: item.id, className: \"flex gap-4 p-4 bg-[#F8FAF9] rounded-xl\" }, /* @__PURE__ */ React25.createElement(\"div\", { className: \"w-32 h-32 rounded-lg overflow-hidden flex-shrink-0\" }, /* @__PURE__ */ React25.createElement(\n        \"img\",\n        {\n          src: item.imageUrl,\n          alt: \"Item\",\n          className: \"w-full h-full object-cover\"\n        }\n      )), /* @__PURE__ */ React25.createElement(\"div\", { className: \"flex-grow space-y-4\" }, /* @__PURE__ */ React25.createElement(\n        FormInput,\n        {\n          label: \"Item Description\",\n          placeholder: \"Describe the item's condition and any relevant details\",\n          value: item.description || \"\",\n          onChange: (value) => handleItemDescription(item.id, value)\n        }\n      ), /* @__PURE__ */ React25.createElement(\n        FormInput,\n        {\n          label: \"Quantity\",\n          type: \"number\",\n          min: 1,\n          value: item.quantity?.toString() || \"1\",\n          onChange: (value) => handleQuantityChange(item.id, value)\n        }\n      )))));\n    }\n    return null;\n  };\n  const renderDetailsStep = (uploadedItems2, handleItemDescription2, handleQuantityChange2) => /* @__PURE__ */ React25.createElement(\"div\", { className: \"space-y-6\" }, /* @__PURE__ */ React25.createElement(\"div\", { className: \"bg-[#F8FAF9] rounded-xl p-6 border-l-4 border-[#4B7163]\" }, /* @__PURE__ */ React25.createElement(\"h3\", { className: \"font-rockwell text-lg text-[#4B7163] mb-2\" }, \"Schedule Your Drop-off\"), /* @__PURE__ */ React25.createElement(\"p\", { className: \"text-[#5A7C6F]\" }, \"Choose a convenient time to drop off your items.\")), /* @__PURE__ */ React25.createElement(\"div\", { className: \"mt-8 p-4 bg-[#F8FAF9] rounded-xl\" }, /* @__PURE__ */ React25.createElement(\"div\", { className: \"grid grid-cols-1 md:grid-cols-2 gap-4\" }, /* @__PURE__ */ React25.createElement(\n    FormInput,\n    {\n      type: \"date\",\n      label: \"Drop-off Date\",\n      value: selectedDate,\n      min: (/* @__PURE__ */ new Date()).toISOString().split(\"T\")[0],\n      onChange: (value) => setSelectedDate(value)\n    }\n  ), /* @__PURE__ */ React25.createElement(\n    FormInput,\n    {\n      type: \"time\",\n      label: \"Drop-off Time\",\n      value: selectedTime,\n      onChange: (value) => setSelectedTime(value)\n    }\n  )), /* @__PURE__ */ React25.createElement(\"p\", { className: \"text-sm text-[#5A7C6F] mt-2\" }, \"Drop-off hours: Mon-Fri, 9AM-5PM\")));\n  return /* @__PURE__ */ React25.createElement(\n    PickupRequestForm,\n    {\n      skipContactStep: true,\n      skipAddressStep: true,\n      skipConfirmationStep: true,\n      steps: defaultSteps,\n      renderCustomStep,\n      uploadedItems,\n      setUploadedItems,\n      selectedDate,\n      selectedTime,\n      onDateSelect: setSelectedDate,\n      onTimeSelect: setSelectedTime,\n      ...props,\n      renderDetailsStep,\n      validateStep: (step) => {\n        if (step === 1) {\n          return uploadedItems.length > 0 && uploadedItems.every((item) => (item.quantity ?? 0) > 0);\n        }\n        if (step === 2) {\n          return selectedDate !== \"\" && selectedTime !== \"\";\n        }\n        return true;\n      },\n      onSubmit: (data) => {\n        const itemsWithQuantities = data.items.map((item) => ({\n          ...item,\n          quantity: item.quantity || 1\n        }));\n        props.onSubmit({\n          ...data,\n          items: itemsWithQuantities,\n          user\n        });\n      }\n    }\n  );\n};\n\n// src/components/BulkPartnerPickupRequestForm.tsx\nimport React26, { useState as useState13 } from \"react\";\nimport { Upload as Upload3, FolderUp, Calendar as Calendar4, CheckCircle2 as CheckCircle23 } from \"lucide-react\";\nimport { addDoc as addDoc2, collection as collection2 } from \"firebase/firestore\";\nvar BulkPartnerPickupRequestForm = (props) => {\n  const [uploadMethod, setUploadMethod] = useState13(null);\n  const [spreadsheet, setSpreadsheet] = useState13(null);\n  const [bulkPhotos, setBulkPhotos] = useState13(null);\n  const [dropOffDate, setDropOffDate] = useState13(\"\");\n  const [dropOffTime, setDropOffTime] = useState13(\"\");\n  const steps = [\n    {\n      label: \"Upload Files\",\n      description: \"Upload your inventory spreadsheet\",\n      icon: FolderUp\n    },\n    {\n      label: \"Drop-off Time\",\n      description: \"Choose your preferred drop-off time\",\n      icon: Calendar4\n    }\n  ];\n  const handleSpreadsheetUpload = (event) => {\n    if (event.target.files) {\n      setSpreadsheet(event.target.files[0]);\n    }\n  };\n  const handleBulkPhotoUpload = (event) => {\n    if (event.target.files) {\n      setBulkPhotos(event.target.files);\n    }\n  };\n  const handleSubmit = async (data) => {\n    const formData = {\n      ...data,\n      uploadMethod,\n      spreadsheet,\n      bulkPhotos,\n      dropOffDate,\n      dropOffTime\n    };\n    console.log(\"Form submitted:\", formData);\n    const docRef = await addDoc2(collection2(db, \"pickupRequests\"), formData);\n    return { id: docRef.id };\n  };\n  const renderCustomStep = (currentStep) => {\n    if (currentStep === 1) {\n      return /* @__PURE__ */ React26.createElement(\"div\", { className: \"space-y-6\" }, !uploadMethod ? /* @__PURE__ */ React26.createElement(\"div\", { className: \"grid grid-cols-1 md:grid-cols-2 gap-6\" }, /* @__PURE__ */ React26.createElement(\n        \"div\",\n        {\n          className: \"p-6 bg-[#F8FAF9] rounded-xl hover:bg-[#E9EFED] cursor-pointer transition-colors\",\n          onClick: () => setUploadMethod(\"bulk\")\n        },\n        /* @__PURE__ */ React26.createElement(\"div\", { className: \"flex flex-col items-center text-center space-y-4\" }, /* @__PURE__ */ React26.createElement(FolderUp, { className: \"w-12 h-12 text-[#4B7163]\" }), /* @__PURE__ */ React26.createElement(\"h3\", { className: \"text-lg font-semibold\" }, \"Bulk Directory Upload\"), /* @__PURE__ */ React26.createElement(\"p\", { className: \"text-sm text-gray-600\" }, \"Upload a spreadsheet and multiple photos from a directory\"))\n      ), /* @__PURE__ */ React26.createElement(\n        \"div\",\n        {\n          className: \"p-6 bg-[#F8FAF9] rounded-xl hover:bg-[#E9EFED] cursor-pointer transition-colors\",\n          onClick: () => setUploadMethod(\"individual\")\n        },\n        /* @__PURE__ */ React26.createElement(\"div\", { className: \"flex flex-col items-center text-center space-y-4\" }, /* @__PURE__ */ React26.createElement(Upload3, { className: \"w-12 h-12 text-[#4B7163]\" }), /* @__PURE__ */ React26.createElement(\"h3\", { className: \"text-lg font-semibold\" }, \"Individual Upload\"), /* @__PURE__ */ React26.createElement(\"p\", { className: \"text-sm text-gray-600\" }, \"Upload photos and add descriptions one by one\"))\n      )) : uploadMethod === \"bulk\" ? /* @__PURE__ */ React26.createElement(\"div\", { className: \"space-y-6\" }, /* @__PURE__ */ React26.createElement(\"div\", { className: \"p-6 bg-[#F8FAF9] rounded-xl\" }, /* @__PURE__ */ React26.createElement(\"h3\", { className: \"text-lg font-semibold mb-4\" }, \"Upload Spreadsheet\"), /* @__PURE__ */ React26.createElement(\n        \"input\",\n        {\n          type: \"file\",\n          accept: \".xls,.xlsx,.csv\",\n          onChange: handleSpreadsheetUpload,\n          className: \"w-full\"\n        }\n      ), spreadsheet && /* @__PURE__ */ React26.createElement(\"p\", { className: \"text-sm text-gray-500 mt-2\" }, \"Uploaded: \", spreadsheet.name)), /* @__PURE__ */ React26.createElement(\"div\", { className: \"p-6 bg-[#F8FAF9] rounded-xl\" }, /* @__PURE__ */ React26.createElement(\"h3\", { className: \"text-lg font-semibold mb-4\" }, \"Upload Photos\"), /* @__PURE__ */ React26.createElement(\n        \"input\",\n        {\n          type: \"file\",\n          accept: \"image/*\",\n          multiple: true,\n          onChange: handleBulkPhotoUpload,\n          className: \"w-full\"\n        }\n      ), bulkPhotos && /* @__PURE__ */ React26.createElement(\"p\", { className: \"text-sm text-gray-500 mt-2\" }, bulkPhotos.length, \" photos selected\")), /* @__PURE__ */ React26.createElement(\n        CustomButton,\n        {\n          variant: \"secondary\",\n          onClick: () => setUploadMethod(null),\n          className: \"mt-4\"\n        },\n        \"Change Upload Method\"\n      )) : /* @__PURE__ */ React26.createElement(\"div\", { className: \"space-y-6\" }, /* @__PURE__ */ React26.createElement(\n        ImageUpload,\n        {\n          onUpload: (photos) => {\n            console.log(\"Individual photos uploaded:\", photos);\n          },\n          maxFiles: 10\n        }\n      ), /* @__PURE__ */ React26.createElement(\n        CustomButton,\n        {\n          variant: \"secondary\",\n          onClick: () => setUploadMethod(null),\n          className: \"mt-4\"\n        },\n        \"Change Upload Method\"\n      )));\n    } else if (currentStep === 2) {\n      return /* @__PURE__ */ React26.createElement(\"div\", { className: \"space-y-6\" }, /* @__PURE__ */ React26.createElement(\"div\", { className: \"bg-[#F8FAF9] rounded-xl p-4\" }, /* @__PURE__ */ React26.createElement(\"h3\", { className: \"font-rockwell text-lg text-[#4B7163] mb-4\" }, \"Schedule Drop-off\"), /* @__PURE__ */ React26.createElement(\"div\", { className: \"grid grid-cols-1 md:grid-cols-2 gap-4\" }, /* @__PURE__ */ React26.createElement(\n        FormInput,\n        {\n          type: \"date\",\n          label: \"Drop-off Date\",\n          value: dropOffDate,\n          min: (/* @__PURE__ */ new Date()).toISOString().split(\"T\")[0],\n          onChange: setDropOffDate\n        }\n      ), /* @__PURE__ */ React26.createElement(\n        FormInput,\n        {\n          type: \"time\",\n          label: \"Drop-off Time\",\n          value: dropOffTime,\n          onChange: setDropOffTime\n        }\n      )), /* @__PURE__ */ React26.createElement(\"p\", { className: \"text-sm text-[#5A7C6F] mt-2\" }, \"Please select a date and time during our business hours (Mon-Fri, 9AM-5PM)\")));\n    } else if (currentStep === 3) {\n      return /* @__PURE__ */ React26.createElement(\"div\", { className: \"space-y-6\" }, /* @__PURE__ */ React26.createElement(\"div\", { className: \"bg-[#F8FAF9] rounded-xl p-6 text-center\" }, /* @__PURE__ */ React26.createElement(CheckCircle23, { className: \"w-16 h-16 text-[#4B7163] mx-auto mb-4\" }), /* @__PURE__ */ React26.createElement(\"h3\", { className: \"font-rockwell text-2xl text-[#4B7163] mb-4\" }, \"Thank You for Your Request!\"), /* @__PURE__ */ React26.createElement(\"p\", { className: \"text-[#5A7C6F] mb-6\" }, \"We'll review your request and get back to you shortly. Thank you for being a sustainable partner!\")));\n    }\n    return null;\n  };\n  return /* @__PURE__ */ React26.createElement(\n    PickupRequestForm,\n    {\n      onSubmit: handleSubmit,\n      skipConfirmationStep: true,\n      selectedDate: dropOffDate,\n      selectedTime: dropOffTime,\n      onDateSelect: setDropOffDate,\n      onTimeSelect: setDropOffTime,\n      steps,\n      renderDetailsStep: () => null,\n      renderCustomStep\n    }\n  );\n};\n\n// src/components/LogisticsCalendar.tsx\nimport React27, { useState as useState14 } from \"react\";\nimport { Calendar as Calendar5, Clock, Truck, Package, MapPin as MapPin4 } from \"lucide-react\";\nvar LogisticsCalendar = ({\n  onDateSelect,\n  onTimeSelect,\n  selectedDate,\n  selectedTime,\n  className,\n  calendarData = []\n}) => {\n  const dayDetails = calendarData;\n  const availableDates = dayDetails.map((d) => d.date);\n  const [showDetails, setShowDetails] = useState14(false);\n  const selectedTimeSlot = selectedDate && selectedTime ? dayDetails.find((d) => d.date === selectedDate)?.timeSlots.find((t) => t.time === selectedTime) : null;\n  const handleTimeSelect = (time) => {\n    onTimeSelect(time);\n    setShowDetails(true);\n  };\n  return /* @__PURE__ */ React27.createElement(\"div\", { className: cn(\"bg-white rounded-xl border-2 border-[#4B7163] p-6\", className) }, /* @__PURE__ */ React27.createElement(\"div\", { className: \"space-y-6\" }, !showDetails ? /* @__PURE__ */ React27.createElement(React27.Fragment, null, /* @__PURE__ */ React27.createElement(\"div\", null, /* @__PURE__ */ React27.createElement(\"h3\", { className: \"font-rockwell text-xl text-[#4B7163] mb-4 flex items-center gap-2\" }, /* @__PURE__ */ React27.createElement(Calendar5, { className: \"w-5 h-5\" }), \"Select Date\"), /* @__PURE__ */ React27.createElement(\"div\", { className: \"relative\" }, /* @__PURE__ */ React27.createElement(\n    FormInput,\n    {\n      type: \"date\",\n      label: \"Date\",\n      value: selectedDate || \"\",\n      min: (/* @__PURE__ */ new Date()).toISOString().split(\"T\")[0],\n      onChange: (value) => {\n        if (availableDates.includes(value)) {\n          onDateSelect(value);\n        }\n      },\n      className: cn(\n        \"w-full\",\n        dayDetails.some((d) => d.date === selectedDate) && \"border-[#4B7163] bg-[#F8FAF9]\"\n      ),\n      list: \"available-dates\"\n    }\n  ), /* @__PURE__ */ React27.createElement(\"datalist\", { id: \"available-dates\" }, availableDates.map((date) => /* @__PURE__ */ React27.createElement(\"option\", { key: date, value: date }))), !availableDates.includes(selectedDate || \"\") && selectedDate && /* @__PURE__ */ React27.createElement(\"p\", { className: \"text-sm text-red-500 mt-1\" }, \"No available times for this date\"))), selectedDate && dayDetails.find((d) => d.date === selectedDate) && /* @__PURE__ */ React27.createElement(\"div\", null, /* @__PURE__ */ React27.createElement(\"h3\", { className: \"font-rockwell text-xl text-[#4B7163] mb-4 flex items-center gap-2\" }, /* @__PURE__ */ React27.createElement(Clock, { className: \"w-5 h-5\" }), \"Available Times\"), /* @__PURE__ */ React27.createElement(\"div\", { className: \"grid grid-cols-1 md:grid-cols-3 gap-4\" }, dayDetails.find((d) => d.date === selectedDate)?.timeSlots.sort((a, b) => a.time.localeCompare(b.time)).map((slot) => /* @__PURE__ */ React27.createElement(\n    \"button\",\n    {\n      key: slot.time,\n      onClick: () => handleTimeSelect(slot.time),\n      className: cn(\n        \"p-4 rounded-lg border-2 text-left transition-colors h-full\",\n        // Added h-full\n        selectedTime === slot.time ? \"border-[#4B7163] bg-[#4B7163] text-white\" : \"border-[#4B7163]/20 hover:border-[#4B7163]\"\n      )\n    },\n    /* @__PURE__ */ React27.createElement(\"div\", { className: \"flex flex-col h-full justify-between\" }, \"  \", /* @__PURE__ */ React27.createElement(\"div\", { className: \"mb-3\" }, /* @__PURE__ */ React27.createElement(\"div\", { className: \"text-lg font-semibold mb-1\" }, slot.time), /* @__PURE__ */ React27.createElement(\"div\", { className: \"text-sm opacity-75\" }, slot.availableDrivers, \" drivers available\")), /* @__PURE__ */ React27.createElement(\"div\", { className: \"flex justify-between text-sm\" }, /* @__PURE__ */ React27.createElement(\"div\", { className: \"flex flex-col items-center\", title: \"Number of pickups\" }, /* @__PURE__ */ React27.createElement(Truck, { className: \"w-5 h-5 mb-1\" }), /* @__PURE__ */ React27.createElement(\"div\", { className: \"text-lg font-bold\" }, slot.pickupCount)), /* @__PURE__ */ React27.createElement(\"div\", { className: \"flex flex-col items-center\", title: \"Number of drop-offs\" }, /* @__PURE__ */ React27.createElement(Package, { className: \"w-5 h-5 mb-1\" }), /* @__PURE__ */ React27.createElement(\"div\", { className: \"text-lg font-bold\" }, slot.dropoffCount))))\n  ))), /* @__PURE__ */ React27.createElement(\"div\", { className: \"mt-6 p-4 bg-[#F8FAF9] rounded-lg\" }, /* @__PURE__ */ React27.createElement(\"h4\", { className: \"font-semibold text-[#4B7163] mb-2\" }, \"Daily Summary\"), /* @__PURE__ */ React27.createElement(\"div\", { className: \"grid grid-cols-2 gap-4 text-sm\" }, /* @__PURE__ */ React27.createElement(\"div\", null, \"Total Pickups: \", dayDetails[0].totalPickups), /* @__PURE__ */ React27.createElement(\"div\", null, \"Total Drop-offs: \", dayDetails[0].totalDropoffs), /* @__PURE__ */ React27.createElement(\"div\", null, \"Available Drivers: \", dayDetails[0].availableDrivers))))) : /* @__PURE__ */ React27.createElement(\"div\", { className: \"space-y-6\" }, /* @__PURE__ */ React27.createElement(\"div\", { className: \"flex items-center justify-between\" }, /* @__PURE__ */ React27.createElement(\"h3\", { className: \"font-rockwell text-xl text-[#4B7163] flex items-center gap-2\" }, /* @__PURE__ */ React27.createElement(Clock, { className: \"w-5 h-5\" }), selectedDate, \" at \", selectedTime), /* @__PURE__ */ React27.createElement(\n    CustomButton,\n    {\n      variant: \"secondary\",\n      onClick: () => setShowDetails(false),\n      className: \"flex items-center gap-2\"\n    },\n    /* @__PURE__ */ React27.createElement(Calendar5, { className: \"w-4 h-4\" }),\n    \"Back to Calendar\"\n  )), /* @__PURE__ */ React27.createElement(\"div\", { className: \"space-y-6\" }, /* @__PURE__ */ React27.createElement(\"div\", { className: \"bg-[#F8FAF9] p-4 rounded-lg\" }, /* @__PURE__ */ React27.createElement(\"div\", { className: \"flex items-center justify-between mb-4\" }, /* @__PURE__ */ React27.createElement(\"div\", { className: \"flex items-center gap-2\" }, /* @__PURE__ */ React27.createElement(Truck, { className: \"w-5 h-5 text-[#4B7163]\" }), /* @__PURE__ */ React27.createElement(\"h4\", { className: \"font-semibold text-[#4B7163]\" }, \"Pickups (\", selectedTimeSlot?.pickupCount, \")\"))), /* @__PURE__ */ React27.createElement(\"div\", { className: \"space-y-4\" }, selectedTimeSlot?.pickups.map((pickup) => /* @__PURE__ */ React27.createElement(\"div\", { key: pickup.id, className: \"border-b border-[#4B7163]/20 pb-4\" }, /* @__PURE__ */ React27.createElement(\"div\", { className: \"flex justify-between mb-2\" }, /* @__PURE__ */ React27.createElement(\"span\", { className: \"font-semibold\" }, pickup.customerName)), /* @__PURE__ */ React27.createElement(\"div\", { className: \"flex items-center gap-2 text-sm text-[#5A7C6F] mb-2\" }, /* @__PURE__ */ React27.createElement(MapPin4, { className: \"w-4 h-4\" }), pickup.address), /* @__PURE__ */ React27.createElement(\"div\", { className: \"flex gap-2 overflow-x-auto pb-2\" }, pickup.items.map((item) => /* @__PURE__ */ React27.createElement(\n    \"img\",\n    {\n      key: item.id,\n      src: item.imageUrl,\n      alt: item.name,\n      className: \"w-16 h-16 object-cover rounded\",\n      title: item.description\n    }\n  ))))))), /* @__PURE__ */ React27.createElement(\"div\", { className: \"bg-[#F8FAF9] p-4 rounded-lg\" }, /* @__PURE__ */ React27.createElement(\"div\", { className: \"flex items-center justify-between mb-4\" }, /* @__PURE__ */ React27.createElement(\"div\", { className: \"flex items-center gap-2\" }, /* @__PURE__ */ React27.createElement(Package, { className: \"w-5 h-5 text-[#4B7163]\" }), /* @__PURE__ */ React27.createElement(\"h4\", { className: \"font-semibold text-[#4B7163]\" }, \"Drop-offs (\", selectedTimeSlot?.dropoffCount, \")\"))), /* @__PURE__ */ React27.createElement(\"div\", { className: \"space-y-4\" }, selectedTimeSlot?.dropoffs.map((dropoff) => /* @__PURE__ */ React27.createElement(\"div\", { key: dropoff.id, className: \"border-b border-[#4B7163]/20 pb-4\" }, /* @__PURE__ */ React27.createElement(\"div\", { className: \"flex justify-between mb-2\" }, /* @__PURE__ */ React27.createElement(\"span\", { className: \"font-semibold\" }, dropoff.customerName)), /* @__PURE__ */ React27.createElement(\"div\", { className: \"flex items-center gap-2 text-sm text-[#5A7C6F] mb-2\" }, /* @__PURE__ */ React27.createElement(MapPin4, { className: \"w-4 h-4\" }), dropoff.address), /* @__PURE__ */ React27.createElement(\"div\", { className: \"flex gap-2 overflow-x-auto pb-2\" }, dropoff.items.map((item) => /* @__PURE__ */ React27.createElement(\n    \"img\",\n    {\n      key: item.id,\n      src: item.imageUrl,\n      alt: item.name,\n      className: \"w-16 h-16 object-cover rounded\",\n      title: item.description\n    }\n  )))))))))));\n};\n\n// src/components/PickupList.tsx\nvar PickupList = ({ pickups, onSelectPickup }) => {\n  return /* @__PURE__ */ React.createElement(\"div\", { className: \"flex flex-col gap-4\" }, pickups.map((pickup) => /* @__PURE__ */ React.createElement(\n    Card,\n    {\n      key: pickup.id,\n      imageUrl: pickup.pickupPhoto,\n      alt: `Pickup ${pickup.id}`,\n      onClick: () => onSelectPickup(pickup),\n      className: \"cursor-pointer hover:shadow-lg transition-shadow\"\n    },\n    /* @__PURE__ */ React.createElement(\"div\", { className: \"p-4\" }, /* @__PURE__ */ React.createElement(\"h3\", { className: \"font-rockwell text-lg text-[#4B7163]\" }, \"Pickup #\", pickup.id), /* @__PURE__ */ React.createElement(\"p\", { className: \"text-sm text-gray-600 mt-2\" }, \"Status: \", pickup.status))\n  )));\n};\n\n// src/components/ProcessingQueue.tsx\nimport React28 from \"react\";\nimport { ArrowRight } from \"lucide-react\";\nvar ProcessingQueue = ({\n  items,\n  onSelectItem,\n  className\n}) => {\n  return /* @__PURE__ */ React28.createElement(\"div\", { className: cn(\n    \"bg-white rounded-2xl border-2 border-[#4B7163] p-6\",\n    \"flex flex-col\",\n    className\n  ) }, /* @__PURE__ */ React28.createElement(\"h2\", { className: \"font-rockwell text-2xl text-[#4B7163] mb-6\" }, \"Items Awaiting Processing (\", items.length, \" \", items.length === 1 ? \"item\" : \"items\", \")\"), items.length === 0 ? /* @__PURE__ */ React28.createElement(\"div\", { className: \"text-center py-8 text-gray-500 font-sourceSans\" }, \"No items awaiting processing\") : /* @__PURE__ */ React28.createElement(\"div\", { className: \"flex-grow space-y-6\" }, items.map((item) => /* @__PURE__ */ React28.createElement(\n    \"div\",\n    {\n      key: item.id,\n      className: \"flex gap-4 pb-6 border-b border-gray-100 last:border-b-0\"\n    },\n    /* @__PURE__ */ React28.createElement(\"div\", { className: \"w-24 h-24 rounded-lg overflow-hidden flex-shrink-0\" }, /* @__PURE__ */ React28.createElement(\n      \"img\",\n      {\n        src: item.pickupPhoto,\n        alt: `Item ${item.productId}`,\n        className: \"w-full h-full object-cover\"\n      }\n    )),\n    /* @__PURE__ */ React28.createElement(\"div\", { className: \"flex-grow min-w-0\" }, /* @__PURE__ */ React28.createElement(\"div\", { className: \"flex justify-between items-start gap-2\" }, /* @__PURE__ */ React28.createElement(\"div\", null, /* @__PURE__ */ React28.createElement(\"h3\", { className: \"font-rockwell text-lg text-[#4B7163] mb-1\" }, \"Product ID: \", item.productId), /* @__PURE__ */ React28.createElement(\"p\", { className: \"text-sm text-gray-600 font-sourceSans\" }, item.pickupDescription)), /* @__PURE__ */ React28.createElement(\n      CustomButton,\n      {\n        onClick: () => onSelectItem(item.id),\n        variant: \"secondary\",\n        className: \"flex items-center gap-2\"\n      },\n      \"Process \",\n      /* @__PURE__ */ React28.createElement(ArrowRight, { className: \"h-4 w-4\" })\n    )), /* @__PURE__ */ React28.createElement(\"div\", { className: \"flex justify-between items-center mt-4\" }, /* @__PURE__ */ React28.createElement(\"span\", { className: \"text-sm text-gray-500\" }, \"From: \", item.customerName), /* @__PURE__ */ React28.createElement(\"span\", { className: \"text-sm text-gray-500\" }, \"Received: \", new Date(item.receivedDate).toLocaleDateString())))\n  ))));\n};\n\n// src/components/DriverPickupWorkflow.tsx\nimport React29, { useState as useState15 } from \"react\";\nimport { Calendar as Calendar6, MapPin as MapPin5, Check as Check7, X as X9, ChevronRight as ChevronRight2 } from \"lucide-react\";\nvar DriverPickupWorkflow = ({\n  requests = [],\n  onUpdateItemStatus,\n  onAddPhoto,\n  onReschedule,\n  onCompletePickup,\n  onSendMessage,\n  onMessageRead,\n  availableDates = [],\n  className\n}) => {\n  const [selectedRequest, setSelectedRequest] = useState15(null);\n  const [selectedDate, setSelectedDate] = useState15(null);\n  const [isMessagesExpanded, setIsMessagesExpanded] = useState15(false);\n  const [isMapModalOpen, setIsMapModalOpen] = useState15(false);\n  const filteredRequests = (requests || []).sort((a, b) => {\n    const dateA = a.pickupDate ? new Date(a.pickupDate).getTime() : 0;\n    const dateB = b.pickupDate ? new Date(b.pickupDate).getTime() : 0;\n    return dateA - dateB;\n  }).filter((request) => !selectedDate || request.pickupDate?.toISOString().split(\"T\")[0] === selectedDate);\n  if (!selectedRequest) {\n    return /* @__PURE__ */ React29.createElement(\"div\", { className: cn(\n      \"bg-white rounded-2xl border-2 border-[#4B7163] p-6\",\n      \"flex flex-col\",\n      className\n    ) }, /* @__PURE__ */ React29.createElement(\"h2\", { className: \"font-rockwell text-2xl text-[#4B7163] mb-6\" }, \"Pickups (\", filteredRequests.length, \")\"), /* @__PURE__ */ React29.createElement(\"div\", { className: \"mb-4\" }, /* @__PURE__ */ React29.createElement(\n      FormDropdown,\n      {\n        label: \"Filter by Date\",\n        value: selectedDate || \"\",\n        onChange: (value) => setSelectedDate(value || null),\n        options: [\n          { value: \"\", label: \"All Dates\" },\n          ...(availableDates || []).map((date) => ({\n            value: date,\n            label: new Date(date).toLocaleDateString()\n          }))\n        ]\n      }\n    )), /* @__PURE__ */ React29.createElement(\"div\", { className: \"space-y-4\" }, filteredRequests.map((request) => /* @__PURE__ */ React29.createElement(\n      \"div\",\n      {\n        key: request.id,\n        onClick: () => setSelectedRequest(request),\n        className: \"flex items-center gap-4 p-4 rounded-xl bg-[#F8FAF9] hover:bg-[#F0F4F2] cursor-pointer transition-colors\"\n      },\n      /* @__PURE__ */ React29.createElement(\"div\", { className: \"flex-grow\" }, /* @__PURE__ */ React29.createElement(\"h3\", { className: \"font-rockwell text-lg text-[#4B7163]\" }, request.customerName), /* @__PURE__ */ React29.createElement(\"div\", { className: \"flex items-center gap-2 text-sm text-[#5A7C6F] mt-1\" }, /* @__PURE__ */ React29.createElement(MapPin5, { className: \"h-4 w-4\" }), /* @__PURE__ */ React29.createElement(\"span\", null, request.address)), /* @__PURE__ */ React29.createElement(\"div\", { className: \"flex items-center gap-2 text-sm text-[#5A7C6F] mt-1\" }, /* @__PURE__ */ React29.createElement(Calendar6, { className: \"h-4 w-4\" }), /* @__PURE__ */ React29.createElement(\"span\", null, request.pickupDate ? new Date(request.pickupDate).toLocaleDateString() : \"No date set\"))),\n      /* @__PURE__ */ React29.createElement(ChevronRight2, { className: \"h-6 w-6 text-[#5A7C6F]\" })\n    ))));\n  }\n  return /* @__PURE__ */ React29.createElement(\"div\", { className: cn(\"max-w-4xl mx-auto\", className) }, /* @__PURE__ */ React29.createElement(\n    CustomButton,\n    {\n      variant: \"secondary\",\n      onClick: () => setSelectedRequest(null),\n      className: \"mb-4\"\n    },\n    \"\\u2190 Back to List\"\n  ), /* @__PURE__ */ React29.createElement(\"div\", { className: \"bg-white rounded-2xl border-2 border-[#4B7163] p-6 space-y-6\" }, /* @__PURE__ */ React29.createElement(\"h2\", { className: \"font-rockwell text-2xl text-[#4B7163] mb-4\" }, \"Pickup Details\"), /* @__PURE__ */ React29.createElement(\"div\", { className: \"mb-6\" }, /* @__PURE__ */ React29.createElement(\"h3\", { className: \"font-rockwell text-lg text-[#4B7163] mb-2\" }, \"Customer Information\"), /* @__PURE__ */ React29.createElement(\"div\", { className: \"bg-[#F8FAF9] p-4 rounded-xl\" }, /* @__PURE__ */ React29.createElement(\"p\", { className: \"text-[#5A7C6F] mb-2\" }, /* @__PURE__ */ React29.createElement(\"strong\", null, \"Name:\"), \" \", selectedRequest.customerName), /* @__PURE__ */ React29.createElement(\"p\", { className: \"text-[#5A7C6F] mb-2\" }, /* @__PURE__ */ React29.createElement(\"strong\", null, \"Contact:\"), \" \", selectedRequest.customerEmail || selectedRequest.customerPhone), /* @__PURE__ */ React29.createElement(\n    \"div\",\n    {\n      className: \"flex items-center gap-2 text-[#5A7C6F] cursor-pointer hover:text-[#4B7163] transition-colors\",\n      onClick: () => setIsMapModalOpen(true)\n    },\n    /* @__PURE__ */ React29.createElement(MapPin5, { className: \"h-4 w-4\" }),\n    /* @__PURE__ */ React29.createElement(\"p\", { className: \"underline\" }, selectedRequest.address)\n  ), /* @__PURE__ */ React29.createElement(\"div\", { className: \"flex items-center gap-2 text-[#5A7C6F] mt-2\" }, /* @__PURE__ */ React29.createElement(Calendar6, { className: \"h-4 w-4\" }), /* @__PURE__ */ React29.createElement(\"p\", null, new Date(selectedRequest.pickupDate || \"\").toLocaleDateString())))), isMapModalOpen && /* @__PURE__ */ React29.createElement(\n    MapModal,\n    {\n      address: selectedRequest.address,\n      onClose: () => setIsMapModalOpen(false)\n    }\n  ), /* @__PURE__ */ React29.createElement(\"div\", { className: \"flex flex-col gap-4\" }, /* @__PURE__ */ React29.createElement(\"h3\", { className: \"font-rockwell text-lg text-[#4B7163] mb-2\" }, \"Items\"), /* @__PURE__ */ React29.createElement(\"div\", { className: \"grid grid-cols-1 gap-8 mb-4\" }, selectedRequest.items.map((item) => /* @__PURE__ */ React29.createElement(\n    \"div\",\n    {\n      className: \"aspect-[3/4] w-full relative\",\n      key: item.id\n    },\n    /* @__PURE__ */ React29.createElement(\"div\", { className: \"absolute inset-0 -mx-8\" }, /* @__PURE__ */ React29.createElement(\"div\", { className: \"relative h-full mx-8\" }, /* @__PURE__ */ React29.createElement(\n      SwipeCard,\n      {\n        imageUrl: item.verificationPhotos?.[0]?.imageUrl || item.imageUrl || \"\",\n        alt: item.name,\n        onSwipe: (direction) => {\n          onUpdateItemStatus(\n            selectedRequest.id,\n            item.id,\n            direction === \"right\" ? \"verified\" : \"incorrect\"\n          );\n        }\n      },\n      /* @__PURE__ */ React29.createElement(\"div\", { className: \"bg-[#F8FAF9] p-4 rounded-xl h-full overflow-y-auto\" }, /* @__PURE__ */ React29.createElement(\"h4\", { className: \"font-semibold text-[#4B7163] mb-2\" }, item.name), /* @__PURE__ */ React29.createElement(\"p\", { className: \"text-sm text-[#5A7C6F] mb-2\" }, item.description), /* @__PURE__ */ React29.createElement(\"div\", { className: \"flex items-center gap-2\" }, /* @__PURE__ */ React29.createElement(\"span\", { className: cn(\n        \"px-2 py-1 rounded-full text-xs\",\n        item.status === \"verified\" && \"bg-green-100 text-green-800\",\n        item.status === \"incorrect\" && \"bg-red-100 text-red-800\",\n        item.status === \"pending\" && \"bg-yellow-100 text-yellow-800\"\n      ) }, item.status.charAt(0).toUpperCase() + item.status.slice(1))))\n    )))\n  ))), /* @__PURE__ */ React29.createElement(\"div\", { className: \"flex justify-center gap-8 text-sm text-gray-500 mt-2\" }, /* @__PURE__ */ React29.createElement(\"div\", { className: \"flex items-center gap-1\" }, /* @__PURE__ */ React29.createElement(X9, { className: \"h-4 w-4 text-red-500\" }), \" Swipe left if not picking up item\"), /* @__PURE__ */ React29.createElement(\"div\", { className: \"flex items-center gap-1\" }, /* @__PURE__ */ React29.createElement(Check7, { className: \"h-4 w-4 text-green-500\" }), \" Swipe right if you have picked up the item\"))), /* @__PURE__ */ React29.createElement(\"div\", { className: \"mt-6\" }, /* @__PURE__ */ React29.createElement(\n    MessageThread,\n    {\n      messages: selectedRequest.messages,\n      onSendMessage: (message) => onSendMessage(selectedRequest.id, message),\n      onMessageRead: (messageId) => onMessageRead?.(selectedRequest.id, messageId)\n    }\n  ))));\n};\n\n// src/components/DropoffRequestManager.tsx\nimport React30, { useState as useState16 } from \"react\";\nimport { Package as Package2, FileSpreadsheet, Plus, Minus } from \"lucide-react\";\nvar DropoffRequestManager = ({\n  dropoffRequests,\n  onApproveRequest,\n  onRejectRequest,\n  onUpdateStatus,\n  onSendMessage,\n  onUpdateQuantity,\n  className\n}) => {\n  const [currentRequestIndex, setCurrentRequestIndex] = useState16(0);\n  const [sortField, setSortField] = useState16(\"name\");\n  const [sortDirection, setSortDirection] = useState16(\"asc\");\n  const currentRequest = dropoffRequests[currentRequestIndex];\n  const sortedItems = [...currentRequest?.items || []].sort((a, b) => {\n    if (sortDirection === \"asc\") {\n      return a[sortField] > b[sortField] ? 1 : -1;\n    }\n    return a[sortField] < b[sortField] ? 1 : -1;\n  });\n  return /* @__PURE__ */ React30.createElement(\"div\", { className: cn(\"space-y-6\", className) }, /* @__PURE__ */ React30.createElement(\"div\", { className: \"flex justify-between items-center\" }, /* @__PURE__ */ React30.createElement(\"h2\", { className: \"text-2xl font-rockwell text-[#4B7163]\" }, \"Partner Drop-off Requests\"), /* @__PURE__ */ React30.createElement(\"div\", { className: \"flex gap-2\" }, /* @__PURE__ */ React30.createElement(\n    CustomButton,\n    {\n      onClick: () => setCurrentRequestIndex((prev) => Math.max(0, prev - 1)),\n      disabled: currentRequestIndex === 0\n    },\n    \"Previous\"\n  ), /* @__PURE__ */ React30.createElement(\n    CustomButton,\n    {\n      onClick: () => setCurrentRequestIndex((prev) => Math.min(dropoffRequests.length - 1, prev + 1)),\n      disabled: currentRequestIndex === dropoffRequests.length - 1\n    },\n    \"Next\"\n  ))), /* @__PURE__ */ React30.createElement(\"div\", { className: \"bg-[#F8FAF9] p-4 rounded-lg\" }, /* @__PURE__ */ React30.createElement(\"h3\", { className: \"font-semibold text-[#4B7163] mb-2\" }, \"Partner Information\"), /* @__PURE__ */ React30.createElement(\"div\", { className: \"grid grid-cols-2 gap-4\" }, /* @__PURE__ */ React30.createElement(\"div\", null, /* @__PURE__ */ React30.createElement(\"p\", { className: \"text-sm text-gray-600\" }, \"Name\"), /* @__PURE__ */ React30.createElement(\"p\", { className: \"font-medium\" }, currentRequest.partnerName)), /* @__PURE__ */ React30.createElement(\"div\", null, /* @__PURE__ */ React30.createElement(\"p\", { className: \"text-sm text-gray-600\" }, \"Email\"), /* @__PURE__ */ React30.createElement(\"p\", { className: \"font-medium\" }, currentRequest.partnerEmail)), /* @__PURE__ */ React30.createElement(\"div\", null, /* @__PURE__ */ React30.createElement(\"p\", { className: \"text-sm text-gray-600\" }, \"Phone\"), /* @__PURE__ */ React30.createElement(\"p\", { className: \"font-medium\" }, currentRequest.partnerPhone)), /* @__PURE__ */ React30.createElement(\"div\", null, /* @__PURE__ */ React30.createElement(\"p\", { className: \"text-sm text-gray-600\" }, \"Scheduled Date\"), /* @__PURE__ */ React30.createElement(\"p\", { className: \"font-medium\" }, currentRequest.scheduledDate)))), /* @__PURE__ */ React30.createElement(\"div\", { className: \"bg-white rounded-lg border-2 border-[#4B7163] overflow-hidden\" }, /* @__PURE__ */ React30.createElement(\"div\", { className: \"p-4 border-b border-[#4B7163]\" }, /* @__PURE__ */ React30.createElement(\"div\", { className: \"flex justify-between items-center mb-4\" }, /* @__PURE__ */ React30.createElement(\"h3\", { className: \"font-semibold text-[#4B7163] flex items-center gap-2\" }, /* @__PURE__ */ React30.createElement(Package2, { className: \"w-5 h-5\" }), \"Items (\", currentRequest?.items.length, \")\"), /* @__PURE__ */ React30.createElement(\"div\", { className: \"flex gap-2\" }, /* @__PURE__ */ React30.createElement(\n    CustomButton,\n    {\n      variant: \"secondary\",\n      onClick: () => window.open(\"/path-to-spreadsheet\"),\n      className: \"flex items-center gap-2\"\n    },\n    /* @__PURE__ */ React30.createElement(FileSpreadsheet, { className: \"w-4 h-4\" }),\n    \"Export\"\n  ))), /* @__PURE__ */ React30.createElement(\"div\", { className: \"overflow-x-auto\" }, /* @__PURE__ */ React30.createElement(\"table\", { className: \"w-full\" }, /* @__PURE__ */ React30.createElement(\"thead\", { className: \"bg-[#F8FAF9]\" }, /* @__PURE__ */ React30.createElement(\"tr\", null, /* @__PURE__ */ React30.createElement(\"th\", { className: \"p-2 text-left\" }, \"Image\"), /* @__PURE__ */ React30.createElement(\"th\", { className: \"p-2 text-left\" }, \"Name\"), /* @__PURE__ */ React30.createElement(\"th\", { className: \"p-2 text-left\" }, \"Description\"), /* @__PURE__ */ React30.createElement(\"th\", { className: \"p-2 text-left\" }, \"Category\"), /* @__PURE__ */ React30.createElement(\"th\", { className: \"p-2 text-left\" }, \"Condition\"), /* @__PURE__ */ React30.createElement(\"th\", { className: \"p-2 text-right\" }, \"Est. Value\"), /* @__PURE__ */ React30.createElement(\"th\", { className: \"p-2 text-center\" }, \"Quantity\"))), /* @__PURE__ */ React30.createElement(\"tbody\", null, sortedItems.map((item) => /* @__PURE__ */ React30.createElement(\"tr\", { key: item.id, className: \"border-t border-gray-200\" }, /* @__PURE__ */ React30.createElement(\"td\", { className: \"p-2\" }, /* @__PURE__ */ React30.createElement(\n    \"img\",\n    {\n      src: item.imageUrl,\n      alt: item.name,\n      className: \"w-16 h-16 object-cover rounded\"\n    }\n  )), /* @__PURE__ */ React30.createElement(\"td\", { className: \"p-2\" }, item.name), /* @__PURE__ */ React30.createElement(\"td\", { className: \"p-2\" }, item.description), /* @__PURE__ */ React30.createElement(\"td\", { className: \"p-2\" }, item.category), /* @__PURE__ */ React30.createElement(\"td\", { className: \"p-2\" }, item.condition), /* @__PURE__ */ React30.createElement(\"td\", { className: \"p-2 text-right\" }, \"$\", item.estimatedValue), /* @__PURE__ */ React30.createElement(\"td\", { className: \"p-2\" }, /* @__PURE__ */ React30.createElement(\"div\", { className: \"flex items-center justify-center gap-2\" }, /* @__PURE__ */ React30.createElement(\n    \"button\",\n    {\n      onClick: () => onUpdateQuantity(currentRequest.id, item.id, item.quantity - 1),\n      disabled: item.quantity <= 1,\n      className: \"p-1 hover:bg-gray-100 rounded\"\n    },\n    /* @__PURE__ */ React30.createElement(Minus, { className: \"w-4 h-4\" })\n  ), /* @__PURE__ */ React30.createElement(\"span\", { className: \"w-8 text-center\" }, item.quantity), /* @__PURE__ */ React30.createElement(\n    \"button\",\n    {\n      onClick: () => onUpdateQuantity(currentRequest.id, item.id, item.quantity + 1),\n      className: \"p-1 hover:bg-gray-100 rounded\"\n    },\n    /* @__PURE__ */ React30.createElement(Plus, { className: \"w-4 h-4\" })\n  )))))))))), /* @__PURE__ */ React30.createElement(\n    MessageThread,\n    {\n      messages: currentRequest.messages,\n      onSendMessage: (message) => onSendMessage(currentRequest.id, message)\n    }\n  ));\n};\n\n// src/components/InventoryProcessingManager.tsx\nimport React31, { useState as useState17 } from \"react\";\nvar InventoryProcessingManager = ({\n  items,\n  onUpdateDetails,\n  onUpdateStatus,\n  onSaveDraft,\n  className\n}) => {\n  const [selectedItemId, setSelectedItemId] = useState17(null);\n  const handleSelectItem = (itemId) => {\n    setSelectedItemId(itemId);\n  };\n  const handleBack = () => {\n    setSelectedItemId(null);\n  };\n  if (selectedItemId) {\n    const processingItems = items.map((item) => ({\n      ...item,\n      status: item.status || \"in_inventory\"\n    }));\n    return /* @__PURE__ */ React31.createElement(\"div\", { className }, /* @__PURE__ */ React31.createElement(\n      \"button\",\n      {\n        onClick: handleBack,\n        className: \"mb-4 text-[#4B7163] hover:text-[#3A5A4F] font-sourceSans\"\n      },\n      \"\\u2190 Back to Queue\"\n    ), /* @__PURE__ */ React31.createElement(\n      ListingWorkflow,\n      {\n        items: processingItems.filter((item) => item.id === selectedItemId),\n        onUpdateDetails,\n        onUpdateStatus,\n        onSaveDraft\n      }\n    ));\n  }\n  return /* @__PURE__ */ React31.createElement(\n    ProcessingQueue,\n    {\n      items,\n      onSelectItem: handleSelectItem,\n      className\n    }\n  );\n};\n\n// src/components/SearchInput.tsx\nimport React32 from \"react\";\nimport { Search as Search2, Filter } from \"lucide-react\";\nvar SearchInput = React32.forwardRef(\n  ({ value, onChange, onSearch, onFilter, placeholder = \"Search...\", className }, ref) => {\n    return /* @__PURE__ */ React32.createElement(\"div\", { className: \"flex gap-2 items-end\" }, /* @__PURE__ */ React32.createElement(\"div\", { className: \"flex-1 relative\" }, /* @__PURE__ */ React32.createElement(\n      FormInput,\n      {\n        ref,\n        label: \"Search\",\n        value,\n        onChange,\n        placeholder,\n        className: cn(\"pl-10\", className)\n      }\n    ), /* @__PURE__ */ React32.createElement(\n      Search2,\n      {\n        className: \"absolute left-3 top-[34px] w-4 h-4 text-[#5A7C6F]/60\",\n        \"aria-hidden\": \"true\"\n      }\n    )), /* @__PURE__ */ React32.createElement(\n      CustomButton,\n      {\n        variant: \"secondary\",\n        onClick: onFilter,\n        className: \"flex items-center gap-2 h-[42px] mt-6\"\n      },\n      /* @__PURE__ */ React32.createElement(Filter, { className: \"w-4 h-4\" }),\n      \"Filter\"\n    ), /* @__PURE__ */ React32.createElement(\n      CustomButton,\n      {\n        variant: \"primary\",\n        onClick: onSearch,\n        className: \"flex items-center gap-2 h-[42px] mt-6\"\n      },\n      /* @__PURE__ */ React32.createElement(Search2, { className: \"w-4 h-4\" }),\n      \"Search\"\n    ));\n  }\n);\nSearchInput.displayName = \"SearchInput\";\n\n// src/components/Header.tsx\nimport React34 from \"react\";\nimport NextImage from \"next/image\";\nimport { Menu } from \"lucide-react\";\n\n// src/components/sheet.tsx\nimport * as React33 from \"react\";\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\";\nimport { cva as cva3 } from \"class-variance-authority\";\nimport { X as X10 } from \"lucide-react\";\nvar Sheet = SheetPrimitive.Root;\nvar SheetTrigger = SheetPrimitive.Trigger;\nvar SheetPortal = SheetPrimitive.Portal;\nvar SheetOverlay = React33.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ React33.createElement(\n  SheetPrimitive.Overlay,\n  {\n    className: cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    ),\n    ...props,\n    ref\n  }\n));\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName;\nvar sheetVariants = cva3(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom: \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right: \"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\"\n      }\n    },\n    defaultVariants: {\n      side: \"right\"\n    }\n  }\n);\nvar SheetContent = React33.forwardRef(({ side = \"right\", className, children, ...props }, ref) => /* @__PURE__ */ React33.createElement(SheetPortal, null, /* @__PURE__ */ React33.createElement(SheetOverlay, null), /* @__PURE__ */ React33.createElement(\n  SheetPrimitive.Content,\n  {\n    ref,\n    className: cn(sheetVariants({ side }), className),\n    ...props\n  },\n  children,\n  /* @__PURE__ */ React33.createElement(SheetPrimitive.Close, { className: \"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\" }, /* @__PURE__ */ React33.createElement(X10, { className: \"h-4 w-4\" }), /* @__PURE__ */ React33.createElement(\"span\", { className: \"sr-only\" }, \"Close\"))\n)));\nSheetContent.displayName = SheetPrimitive.Content.displayName;\nvar SheetHeader = ({\n  className,\n  ...props\n}) => /* @__PURE__ */ React33.createElement(\n  \"div\",\n  {\n    className: cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    ),\n    ...props\n  }\n);\nSheetHeader.displayName = \"SheetHeader\";\nvar SheetFooter = ({\n  className,\n  ...props\n}) => /* @__PURE__ */ React33.createElement(\n  \"div\",\n  {\n    className: cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    ),\n    ...props\n  }\n);\nSheetFooter.displayName = \"SheetFooter\";\nvar SheetTitle = React33.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ React33.createElement(\n  SheetPrimitive.Title,\n  {\n    ref,\n    className: cn(\"text-lg font-semibold text-foreground\", className),\n    ...props\n  }\n));\nSheetTitle.displayName = SheetPrimitive.Title.displayName;\nvar SheetDescription = React33.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ React33.createElement(\n  SheetPrimitive.Description,\n  {\n    ref,\n    className: cn(\"text-sm text-muted-foreground\", className),\n    ...props\n  }\n));\nSheetDescription.displayName = SheetPrimitive.Description.displayName;\n\n// src/components/Header.tsx\nvar Header = ({ menuItems, logo }) => {\n  return /* @__PURE__ */ React34.createElement(\"header\", { className: \"sticky top-0 z-50 w-full bg-[#4B7163] text-white shadow-lg\" }, /* @__PURE__ */ React34.createElement(\"div\", { className: \"w-full max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8\" }, /* @__PURE__ */ React34.createElement(\"div\", { className: \"h-16 flex items-center justify-between\" }, /* @__PURE__ */ React34.createElement(\"div\", { className: \"flex shrink-0 items-center\" }, logo && /* @__PURE__ */ React34.createElement(\"a\", { href: logo.href, className: \"flex items-center cursor-pointer\" }, /* @__PURE__ */ React34.createElement(\n    NextImage,\n    {\n      src: logo.src,\n      alt: logo.alt,\n      width: logo.width || 300,\n      height: logo.height || 75,\n      className: \"h-16 w-auto\",\n      priority: true\n    }\n  ))), /* @__PURE__ */ React34.createElement(\"div\", { className: \"flex md:hidden\" }, /* @__PURE__ */ React34.createElement(Sheet, null, /* @__PURE__ */ React34.createElement(SheetTrigger, { asChild: true }, /* @__PURE__ */ React34.createElement(\n    Button,\n    {\n      variant: \"ghost\",\n      size: \"icon\",\n      className: \"text-white hover:bg-[#5a8575]\"\n    },\n    /* @__PURE__ */ React34.createElement(Menu, { className: \"h-6 w-6\" })\n  )), /* @__PURE__ */ React34.createElement(\n    SheetContent,\n    {\n      side: \"right\",\n      className: \"w-[80%] sm:w-[400px] bg-[#4B7163] border-l-white/20\"\n    },\n    /* @__PURE__ */ React34.createElement(\"nav\", { className: \"flex flex-col space-y-4 mt-8\" }, menuItems.map((item) => /* @__PURE__ */ React34.createElement(\n      \"a\",\n      {\n        key: item.label,\n        href: item.href,\n        className: \"text-white text-lg hover:text-white/80 transition-colors p-2\"\n      },\n      item.label\n    )))\n  ))), /* @__PURE__ */ React34.createElement(\"nav\", { className: \"hidden md:flex items-center space-x-8\" }, menuItems.map((item) => /* @__PURE__ */ React34.createElement(\n    \"a\",\n    {\n      key: item.label,\n      href: item.href,\n      className: \"text-sm font-medium hover:text-gray-300 transition-colors\"\n    },\n    item.label\n  ))))));\n};\n\n// src/components/Footer.tsx\nvar Footer = ({ copyrightText, additionalContent }) => {\n  return /* @__PURE__ */ React.createElement(\"footer\", { className: \"w-full bg-[#4B7163] text-white py-6 mt-auto\" }, /* @__PURE__ */ React.createElement(\"div\", { className: \"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8\" }, /* @__PURE__ */ React.createElement(\"p\", { className: \"text-center\" }, copyrightText), additionalContent && /* @__PURE__ */ React.createElement(\"div\", { className: \"mt-4\" }, additionalContent)));\n};\n\n// src/components/page.tsx\nvar Page = ({ children, className }) => /* @__PURE__ */ React.createElement(\"div\", { className: cn(\"min-h-screen flex flex-col\", className) }, children);\nexport {\n  BulkPartnerPickupRequestForm,\n  Button,\n  Card,\n  CustomButton,\n  DriverPickupWorkflow,\n  DropoffRequestManager,\n  Footer,\n  FormDropdown,\n  FormInput,\n  Header,\n  ImageUpload,\n  InventoryProcessing,\n  InventoryProcessingManager,\n  ListingWorkflow,\n  LogisticsCalendar,\n  MapModal,\n  MessageBubble,\n  MessageThread,\n  Modal,\n  Page,\n  PartnerPickupRequestForm,\n  PickupList,\n  PickupRequestForm,\n  PickupRequestManager,\n  Privacy,\n  ProcessingQueue,\n  ProductCard,\n  Progress,\n  ReceivingWorkflow,\n  SearchInput,\n  ShoppingCart2 as ShoppingCart,\n  SwipeCard,\n  SwipeCardDeck,\n  Tag,\n  TermsOfService,\n  Toggle\n};\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n \nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","import React from 'react';\n\nexport interface CardProps {\n  imageUrl?: string;\n  alt?: string;\n  children: React.ReactNode;\n  className?: string;\n  onClick?: () => void;\n}\n\nexport const Card = ({ imageUrl, alt, children, className = '', onClick }: CardProps) => {\n  return (\n    <div className=\"card-custom\" onClick={onClick}\n      role={onClick ? \"button\" : undefined}\n      tabIndex={onClick ? 0 : undefined}\n    >\n      <div className=\"card-custom-image\">\n        <img \n          src={imageUrl} \n          alt={alt} \n          className=\"w-full h-full object-cover\"\n        />\n      </div>\n      <div className=\"w-full\">\n        {children}\n      </div>\n    </div>\n  );\n};","import React from 'react';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { cn } from '@/lib/utils';\nimport { LucideIcon } from 'lucide-react';\n\nconst buttonVariants = cva(\n  \"flex items-center justify-center text-base font-poppins rounded-md transition-colors duration-200 ease-in-out px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed\",\n  {\n    variants: {\n      variant: {\n        primary: `\n          bg-[#6AB098] text-white\n          hover:bg-[#5A9F87]\n          active:bg-[#7AC1A9]\n        `,\n        cta: `\n          bg-[#FFD200] text-black\n          hover:bg-[#E6BD00]\n          active:bg-[#FFD933]\n        `,\n        secondary: `\n          bg-[#A9D2C4] text-black\n          hover:bg-[#98C1B3]\n          active:bg-[#BAE3D5]\n        `,\n      },\n      size: {\n        default: 'h-10',\n        sm: 'h-8 text-sm px-3',\n        lg: 'h-12 text-lg px-6',\n      },\n    },\n    defaultVariants: {\n      variant: 'primary',\n      size: 'default',\n    },\n  }\n);\n\nexport interface CustomButtonProps \n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  children?: React.ReactNode;\n  icon?: React.ReactNode;\n  label?: string;\n}\n\nexport const CustomButton = ({ \n  children, \n  icon,\n  label,\n  variant, \n  size,\n  className, \n  ...props \n}: CustomButtonProps) => {\n  return (\n    <button\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    >\n      {icon}\n      {label || children}\n    </button>\n  );\n};","'use client';\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { cn } from '@/lib/utils';\nimport { Check, X, AlertCircle, ChevronDown } from 'lucide-react';\n\ntype DropdownState = 'normal' | 'completed' | 'error' | 'required' | 'blankRequired' | 'disabled';\n\ninterface FormDropdownProps extends Omit<React.SelectHTMLAttributes<HTMLSelectElement>, 'value' | 'onChange'> {\n  label: string;\n  hint?: string;\n  state?: DropdownState;\n  options: Array<{ value: string; label: string; }>;\n  className?: string;\n  value?: string;\n  onChange?: (value: string) => void;\n}\n\nconst stateStyles = {\n  normal: {\n    border: 'border-[#5A7C6F]',\n    text: 'text-[#5A7C6F]',\n    icon: null,\n  },\n  completed: {\n    border: 'border-[#5A7C6F]',\n    text: 'text-[#5A7C6F]',\n    icon: <Check className=\"h-3 w-3 text-white\" />,\n    iconBg: 'bg-[#5A7C6F]',\n  },\n  error: {\n    border: 'border-red-500',\n    text: 'text-red-500',\n    icon: <X className=\"h-3 w-3 text-white\" />,\n    iconBg: 'bg-red-500',\n  },\n  required: {\n    border: 'border-[#109BD4]',\n    text: 'text-[#5A7C6F]',\n    icon: null,\n  },\n  blankRequired: {\n    border: 'border-[#ED933F]',\n    text: 'text-[#5A7C6F]',\n    icon: <AlertCircle className=\"h-3 w-3 text-white\" />,\n    iconBg: 'bg-[#ED933F]',\n  },\n  disabled: {\n    border: 'border-gray-300',\n    text: 'text-gray-400',\n    icon: null,\n  },\n};\n\nexport const FormDropdown = React.forwardRef<HTMLDivElement, FormDropdownProps>(\n  ({ label, hint, state = 'normal', options, className, disabled, value, onChange, ...props }, ref) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const dropdownRef = useRef<HTMLDivElement>(null);\n    const currentState = disabled ? 'disabled' : state;\n    const styles = stateStyles[currentState];\n    \n    const selectedOption = options.find(opt => opt.value === value);\n\n    useEffect(() => {\n      const handleClickOutside = (event: MouseEvent) => {\n        if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n          setIsOpen(false);\n        }\n      };\n\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }, []);\n\n    return (\n      <div className=\"space-y-1.5\" ref={dropdownRef}>\n        <label \n          className={cn(\n            'block text-sm font-medium uppercase',\n            styles.text\n          )}\n        >\n          {label}\n        </label>\n\n        <div className=\"relative\">\n          <button\n            type=\"button\"\n            disabled={disabled}\n            onClick={() => setIsOpen(!isOpen)}\n            className={cn(\n              'w-full px-3 py-2 text-left',\n              'pr-16',\n              'rounded-[4px]',\n              'border-2',\n              'font-poppins text-base',\n              'focus:outline-none focus:ring-2 focus:ring-[#4B7163] focus:ring-offset-1',\n              styles.border,\n              disabled && 'bg-gray-50 cursor-not-allowed',\n              className\n            )}\n          >\n            {selectedOption?.label || 'Select an option'}\n            <ChevronDown \n              className={cn(\n                'absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5',\n                'text-[#5A7C6F]/60',\n                isOpen && 'transform rotate-180'\n              )}\n            />\n          </button>\n\n          {isOpen && (\n            <div className=\"absolute z-10 w-full mt-1 py-1 bg-white border-2 border-[#5A7C6F] rounded-lg shadow-lg\">\n              {options.map((option) => (\n                <button\n                  key={option.value}\n                  type=\"button\"\n                  onClick={() => {\n                    onChange?.(option.value);\n                    setIsOpen(false);\n                  }}\n                  className={cn(\n                    'w-full px-3 py-2 text-left',\n                    'hover:bg-[#F8FAF9]',\n                    'transition-colors',\n                    option.value === value \n                      ? 'bg-[#4B7163] text-white' \n                      : 'text-[#5A7C6F]'\n                  )}\n                >\n                  {option.label}\n                </button>\n              ))}\n            </div>\n          )}\n\n          {styles.icon && (\n            <div className={cn(\n              'absolute right-8 top-1/2 -translate-y-1/2',\n              'rounded-full w-4 h-4',\n              'flex items-center justify-center',\n              styles.iconBg\n            )}>\n              {styles.icon}\n            </div>\n          )}\n        </div>\n\n        {hint && (\n          <p className={cn('text-sm', styles.text)}>\n            {hint}\n          </p>\n        )}\n      </div>\n    );\n  }\n);\n\nFormDropdown.displayName = 'FormDropdown';","'use client';\n\nimport React from 'react';\nimport { cn } from '@/lib/utils';\nimport { Check, X, AlertCircle } from 'lucide-react';\n\ntype InputState = 'normal' | 'completed' | 'error' | 'required' | 'blankRequired' | 'disabled';\n\ninterface FormInputProps extends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'onChange'> {\n  label: string;\n  hint?: string;\n  state?: InputState;\n  className?: string;\n  value: string;\n  onChange: (value: string) => void;\n  error?: string;\n}\n\nconst stateStyles = {\n  normal: {\n    border: 'border-[#5A7C6F]',\n    text: 'text-[#5A7C6F]',\n    icon: null,\n  },\n  completed: {\n    border: 'border-[#5A7C6F]',\n    text: 'text-[#5A7C6F]',\n    icon: <Check className=\"h-3 w-3 text-white\" />,\n    iconBg: 'bg-[#5A7C6F]',\n  },\n  error: {\n    border: 'border-red-500',\n    text: 'text-red-500',\n    icon: <X className=\"h-3 w-3 text-white\" />,\n    iconBg: 'bg-red-500',\n  },\n  required: {\n    border: 'border-[#109BD4]',\n    text: 'text-[#5A7C6F]',\n    icon: null,\n  },\n  blankRequired: {\n    border: 'border-[#ED933F]',\n    text: 'text-[#5A7C6F]',\n    icon: <AlertCircle className=\"h-3 w-3 text-white\" />,\n    iconBg: 'bg-[#ED933F]',\n  },\n  disabled: {\n    border: 'border-gray-300',\n    text: 'text-gray-400',\n    icon: null,\n  },\n};\n\nexport const FormInput = React.forwardRef<HTMLInputElement, FormInputProps>(\n  ({ label, hint, state = 'normal', className, disabled, value, onChange, placeholder, ...props }, ref) => {\n    // If disabled prop is true, override state to 'disabled'\n    const currentState = disabled ? 'disabled' : state;\n    const styles = stateStyles[currentState];\n\n    return (\n      <div className=\"space-y-1.5\">\n        {/* Label */}\n        <label \n          className={cn(\n            'block text-sm font-medium uppercase',\n            styles.text\n          )}\n        >\n          {label}\n        </label>\n\n        {/* Input Container */}\n        <div className=\"relative\">\n          <input\n            ref={ref}\n            disabled={disabled}\n            className={cn(\n              'w-full px-3 py-2',\n              'rounded-[4px]',\n              'border-2',\n              'font-poppins text-base',\n              'placeholder:text-[#5A7C6F]/60',\n              'focus:outline-none focus:ring-2 focus:ring-offset-1',\n              styles.border,\n              disabled && 'bg-gray-50 cursor-not-allowed',\n              className\n            )}\n            value={value}\n            onChange={(e) => onChange(e.target.value)}\n            placeholder={placeholder}\n            {...props}\n          />\n          \n          {/* State Icon */}\n          {styles.icon && (\n            <div \n              className={cn(\n                'absolute right-3 top-1/2 -translate-y-1/2',\n                'rounded-full w-4 h-4',\n                'flex items-center justify-center',\n                styles.iconBg\n              )}\n            >\n              {styles.icon}\n            </div>\n          )}\n        </div>\n\n        {/* Hint Text */}\n        {hint && (\n          <p className={cn(\n            'text-sm',\n            styles.text\n          )}>\n            {hint}\n          </p>\n        )}\n      </div>\n    );\n  }\n);\n\nFormInput.displayName = 'FormInput';\n","'use client';\n\nimport React, { useCallback, useState, useId } from 'react';\nimport { Upload } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface ImageUploadProps {\n  onUpload: (photos: string[]) => void;\n  maxFiles?: number;\n  className?: string;\n}\n\nexport const ImageUpload = ({\n  onUpload,\n  maxFiles = 5,\n  className\n}: ImageUploadProps) => {\n  const uniqueId = useId();\n  const inputId = `photo-upload-${uniqueId}`;\n  const [isDragging, setIsDragging] = useState(false);\n\n  const handleFiles = useCallback((files: FileList) => {\n    const fileArray = Array.from(files).slice(0, maxFiles);\n    const photoUrls = fileArray.map(file => URL.createObjectURL(file));\n    \n    if (photoUrls.length > 0) {\n      onUpload(photoUrls);\n    }\n  }, [maxFiles, onUpload]);\n\n  const handleDrop = useCallback((e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    setIsDragging(false);\n    \n    if (e.dataTransfer.files) {\n      handleFiles(e.dataTransfer.files);\n    }\n  }, [handleFiles]);\n\n  const handleDragOver = useCallback((e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    setIsDragging(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    setIsDragging(false);\n  }, []);\n\n  const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = event.target.files;\n    if (files && files.length > 0) {\n      handleFiles(files);\n      event.target.value = '';\n    }\n  };\n\n  return (\n    <div className={cn(\"space-y-6\", className)}>\n      <div\n        className={cn(\n          \"border-2 border-dashed rounded-xl p-8 text-center transition-colors\",\n          isDragging ? \"border-[#4B7163] bg-[#F8FAF9]\" : \"border-[#5A7C6F]\",\n          \"hover:border-[#4B7163] hover:bg-[#F8FAF9]\"\n        )}\n        onDrop={handleDrop}\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n      >\n        <input\n          type=\"file\"\n          id={inputId}\n          multiple\n          accept=\"image/*\"\n          className=\"hidden\"\n          onChange={handleFileUpload}\n        />\n        <label \n          htmlFor={inputId}\n          className=\"cursor-pointer space-y-4 block\"\n        >\n          <Upload className=\"h-12 w-12 mx-auto text-[#5A7C6F]\" />\n          <div className=\"font-sourceSans\">\n            <p className=\"text-lg font-semibold text-[#4B7163]\">\n              Drop photos here or click to upload\n            </p>\n            <p className=\"text-sm text-[#5A7C6F]\">\n              Upload clear photos (max {maxFiles} files)\n            </p>\n            <p className=\"text-sm text-[#5A7C6F] mt-2\">\n              Drag and drop multiple files at once\n            </p>\n          </div>\n        </label>\n      </div>\n    </div>\n  );\n}; ","'use client';\n\nimport React, { useState } from 'react';\nimport { ImageUpload } from './ImageUpload';\nimport { FormInput } from './FormInput';\nimport { FormDropdown } from './FormDropdown';\nimport { CustomButton } from './CustomButton';\nimport { Tag } from './Tag';\nimport { Card } from './Card';\nimport { Save, Send } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface ProcessingItem {\n  id: string;\n  productId: string;\n  pickupPhoto: string;\n  pickupDescription: string;\n  receivedDate: Date;\n  status: 'in_inventory' | 'ready_for_sale';\n  customerName: string;\n}\n\ninterface ItemDetails {\n  title: string;\n  description: string;\n  condition: string;\n  dimensions: {\n    length: number;\n    width: number;\n    height: number;\n  };\n  materials: string[];\n  attributes: string[];\n  estimatedValue: number;\n  category: string;\n  tags: string[];\n  features: string;\n  defects: string;\n  storageLocation: string;\n  processingPhotos: string[];\n  price: number;\n  costToAcquire: number;\n}\n\ninterface ListingWorkflowProps {\n  items: ProcessingItem[];\n  onUpdateDetails: (itemId: string, details: ItemDetails) => void;\n  onUpdateStatus: (itemId: string, status: 'ready_for_sale') => void;\n  onSaveDraft: (itemId: string, details: Partial<ItemDetails>) => void;\n  className?: string;\n}\n\nexport const ListingWorkflow = ({\n  items,\n  onUpdateDetails,\n  onUpdateStatus,\n  onSaveDraft,\n  className\n}: ListingWorkflowProps) => {\n  const [selectedItem, setSelectedItem] = useState<ProcessingItem | null>(null);\n  const [processingPhotos, setProcessingPhotos] = useState<string[]>([]);\n  const [formData, setFormData] = useState<Partial<ItemDetails>>({\n    title: '',\n    description: '',\n    condition: '',\n    dimensions: { length: 0, width: 0, height: 0 },\n    materials: [],\n    attributes: [],\n    estimatedValue: 0,\n    category: '',\n    tags: [],\n    features: '',\n    defects: '',\n    storageLocation: '',\n    price: 0,\n    costToAcquire: 0,\n  });\n  const [newAttribute, setNewAttribute] = useState('');\n\n  const handleSubmit = () => {\n    if (!selectedItem || !isFormValid()) return;\n    \n    const details: ItemDetails = {\n      ...formData as ItemDetails,\n      processingPhotos\n    };\n    \n    onUpdateDetails(selectedItem.id, details);\n    onUpdateStatus(selectedItem.id, 'ready_for_sale');\n    resetForm();\n  };\n\n  const handleSaveDraft = () => {\n    if (!selectedItem) return;\n    onSaveDraft(selectedItem.id, { ...formData, processingPhotos });\n  };\n\n  const isFormValid = () => {\n    return (\n      formData.title &&\n      formData.description &&\n      formData.condition &&\n      formData.category &&\n      formData.storageLocation &&\n      formData.price &&\n      formData.costToAcquire &&\n      processingPhotos.length > 0\n    );\n  };\n\n  const resetForm = () => {\n    setSelectedItem(null);\n    setProcessingPhotos([]);\n    setFormData({});\n  };\n\n  const handleAddAttribute = () => {\n    if (newAttribute.trim()) {\n      setFormData(prev => ({\n        ...prev,\n        attributes: [...(prev.attributes || []), newAttribute.trim()]\n      }));\n      setNewAttribute('');\n    }\n  };\n\n  if (!selectedItem) {\n    return (\n      <div className={cn('bg-white rounded-2xl border-2 border-[#4B7163] p-6', className)}>\n        <h2 className=\"font-rockwell text-2xl text-[#4B7163] mb-6\">\n          Items Pending Listing ({items.length})\n        </h2>\n        \n        <div className=\"space-y-4\">\n          {items.map((item) => (\n            <div\n              key={item.id}\n              onClick={() => setSelectedItem(item)}\n              className=\"flex gap-4 p-4 border rounded-lg cursor-pointer hover:bg-gray-50\"\n            >\n              <img\n                src={item.pickupPhoto}\n                alt={`Item ${item.productId}`}\n                className=\"w-24 h-24 rounded-lg object-cover\"\n              />\n              <div className=\"flex-grow\">\n                <div className=\"flex justify-between items-start\">\n                  <h3 className=\"font-rockwell text-lg text-[#4B7163]\">\n                    Product ID: {item.productId}\n                  </h3>\n                  <span className=\"text-sm text-gray-500\">\n                    Received: {new Date(item.receivedDate).toLocaleDateString()}\n                  </span>\n                </div>\n                <p className=\"text-sm text-gray-600 mt-1\">{item.pickupDescription}</p>\n                <p className=\"text-sm text-gray-500 mt-2\">From: {item.customerName}</p>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn('space-y-6', className)}>\n      <CustomButton\n        onClick={() => setSelectedItem(null)}\n        variant=\"secondary\"\n        className=\"flex items-center gap-2\"\n      >\n        ← Back to List\n      </CustomButton>\n\n      <Card imageUrl={selectedItem.pickupPhoto} alt=\"Original pickup photo\">\n        <div className=\"space-y-6\">\n          <div className=\"flex justify-between items-start\">\n            <div className=\"flex items-center gap-4\">\n              <h3 className=\"font-rockwell text-lg text-[#4B7163]\">\n                Item ID: {selectedItem.productId}\n              </h3>\n            </div>\n            <Tag text={selectedItem.status} variant=\"primary\" />\n          </div>\n\n          <ImageUpload\n            onUpload={setProcessingPhotos}\n            maxFiles={5}\n            className=\"mb-4\"\n          />\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <FormInput\n              label=\"Title\"\n              value={formData.title ?? ''}\n              onChange={(value) => setFormData({ ...formData, title: value })}\n              state={formData.title ? \"completed\" : \"required\"}\n            />\n            <div className=\"space-y-2\">\n              <div className=\"flex gap-2\">\n                <FormInput\n                  label=\"Add Attribute\"\n                  value={newAttribute}\n                  onChange={setNewAttribute}\n                  onKeyDown={(e) => e.key === 'Enter' && handleAddAttribute()}\n                />\n                <CustomButton\n                  onClick={handleAddAttribute}\n                  variant=\"secondary\"\n                  className=\"mt-6\"\n                >\n                  Add\n                </CustomButton>\n              </div>\n              <div className=\"flex flex-wrap gap-2\">\n                {formData.attributes?.map((attr, index) => (\n                  <Tag\n                    key={index}\n                    text={attr}\n                    onDelete={() => setFormData(prev => ({\n                      ...prev,\n                      attributes: prev.attributes?.filter((_, i) => i !== index)\n                    }))}\n                  />\n                ))}\n              </div>\n            </div>\n          </div>\n\n          <FormDropdown\n            label=\"Category\"\n            options={[\n              { value: 'furniture', label: 'Furniture' },\n              { value: 'decor', label: 'Home Decor' },\n              { value: 'lighting', label: 'Lighting' },\n            ]}\n            value={formData.category}\n            onChange={(value) => setFormData({ ...formData, category: value })}\n            state={formData.category ? \"completed\" : \"required\"}\n          />\n\n          <FormInput\n            label=\"Description\"\n            value={formData.description ?? ''}\n            onChange={(value) => setFormData({ ...formData, description: value })}\n            state={formData.description ? \"completed\" : \"required\"}\n          />\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <FormInput\n              label=\"Set Price ($)\"\n              type=\"number\"\n              value={formData.price?.toString() ?? ''}\n              onChange={(value) => setFormData({ \n                ...formData, \n                price: value ? parseFloat(value) : 0 \n              })}\n              state={formData.price ? \"completed\" : \"required\"}\n              min={0}\n              step={0.01}\n            />\n            \n            <FormInput\n              label=\"Cost to Acquire ($)\"\n              type=\"number\"\n              value={formData.costToAcquire?.toString() ?? ''}\n              onChange={(value) => setFormData({ \n                ...formData, \n                costToAcquire: value ? parseFloat(value) : 0 \n              })}\n              state={formData.costToAcquire ? \"completed\" : \"required\"}\n              min=\"0\"\n              step={0.01}\n            />\n          </div>\n\n          <div className=\"flex justify-end gap-4 mt-6\">\n            <CustomButton\n              onClick={handleSaveDraft}\n              variant=\"secondary\"\n              className=\"flex items-center gap-2\"\n            >\n              <Save className=\"h-4 w-4\" />\n              Save Draft\n            </CustomButton>\n            <CustomButton\n              onClick={handleSubmit}\n              variant=\"cta\"\n              disabled={!isFormValid()}\n              className=\"flex items-center gap-2\"\n            >\n              <Send className=\"h-4 w-4\" />\n              Mark Ready for Sale\n            </CustomButton>\n          </div>\n        </div>\n      </Card>\n    </div>\n  );\n}; ","'use client';\n\nimport React from 'react';\nimport { X } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ntype TagVariant = 'primary' | 'cta' | 'secondary';\n\ninterface TagProps {\n  text: string;\n  variant?: TagVariant;\n  onDelete?: () => void;\n  className?: string;\n}\n\nconst variantStyles = {\n  primary: {\n    border: 'border-[#6AB098]',\n    text: 'text-[#6AB098]',\n    deleteButton: 'bg-[#6AB098] hover:bg-[#5A9F87]',\n  },\n  cta: {\n    border: 'border-[#FFD200]',\n    text: 'text-[#FFD200]',\n    deleteButton: 'bg-[#FFD200] hover:bg-[#E6BD00]',\n  },\n  secondary: {\n    border: 'border-[#A9D2C4]',\n    text: 'text-[#A9D2C4]',\n    deleteButton: 'bg-[#A9D2C4] hover:bg-[#98C1B3]',\n  },\n};\n\nexport const Tag = ({ \n  text, \n  variant = 'primary',\n  onDelete,\n  className \n}: TagProps) => {\n  const styles = variantStyles[variant];\n\n  return (\n    <div\n      className={cn(\n        'inline-flex items-center',\n        'h-7 pl-1 pr-3',\n        'rounded-full',\n        'font-poppins font-semibold text-sm',\n        'bg-[#F8FAF9]',\n        'border-2',\n        'transition-all duration-200',\n        styles.border,\n        styles.text,\n        className\n      )}\n    >\n      {onDelete && (\n        <div className=\"flex items-center\">\n          <button\n            type=\"button\"\n            onClick={onDelete}\n            className={cn(\n              'flex items-center justify-center',\n              'w-5 h-5 rounded-full mr-1',\n              'transition-colors duration-200',\n              styles.deleteButton,\n              'focus:outline-none focus:ring-2 focus:ring-offset-1'\n            )}\n            aria-label={`Remove ${text}`}\n          >\n            <X className=\"h-3 w-3 text-white\" />\n          </button>\n        </div>\n      )}\n      <span className=\"truncate\">{text}</span>\n    </div>\n  );\n};","import { useState } from 'react';\nimport { CustomButton } from '@/components/CustomButton';\nimport { FormInput } from '@/components/FormInput';\nimport { FormDropdown } from '@/components/FormDropdown';\nimport { ImageUpload } from '@/components/ImageUpload';\nimport { Card } from '@/components/Card';\nimport { PickupRequest, RequestStatus } from '@/types/PickupRequest';\nimport { ItemDetails, PickupItem } from '@/types/PickupItem';\n\ninterface InventoryProcessingProps {\n  request: PickupRequest;\n  onUpdateStatus: (status: RequestStatus) => void;\n  onUpdateDetails: (details: ItemDetails) => void;\n  onAddProcessingPhotos: (photos: string[]) => void;\n  onConfirmReceipt: () => void;\n}\n\nexport const InventoryProcessing = ({\n  request,\n  onUpdateStatus,\n  onUpdateDetails,\n  onAddProcessingPhotos,\n  onConfirmReceipt,\n}: InventoryProcessingProps) => {\n  const [productId, setProductId] = useState('');\n  const [description, setDescription] = useState('');\n  const [processingPhotos, setProcessingPhotos] = useState<string[]>([]);\n\n  const handleReceiving = () => {\n    if (!productId) return;\n    onUpdateStatus('in_inventory');\n    onUpdateDetails({ productId });\n    onConfirmReceipt();\n  };\n\n  const handleProcessing = () => {\n    if (!description || processingPhotos.length === 0) return;\n    onUpdateStatus('ready_for_sale');\n    onUpdateDetails({ \n      description,\n      processingPhotos \n    });\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Receiving Stage */}\n      {request.status === 'completed' && (\n        <Card imageUrl={request.pickupPhoto} alt=\"Original pickup photo\">\n          <h3 className=\"font-rockwell text-lg text-[#4B7163] mb-4\">Receiving Stage</h3>\n          <FormInput\n            label=\"Product ID\"\n            placeholder=\"Enter Product ID\"\n            value={productId}\n            onChange={setProductId}\n            state={productId ? \"completed\" : \"required\"}\n            hint=\"Enter a unique identifier for this item\"\n          />\n          <CustomButton \n            variant=\"cta\"\n            onClick={handleReceiving}\n            disabled={!productId}\n            className=\"mt-4\"\n          >\n            Confirm Receipt\n          </CustomButton>\n        </Card>\n      )}\n\n      {/* Processing Stage */}\n      {request.status === 'in_inventory' && (\n        <Card imageUrl=\"\" alt=\"\">\n          <h3 className=\"heading-3\">Item Processing</h3>\n          <ImageUpload\n            onUpload={setProcessingPhotos}\n            maxFiles={5}\n            className=\"mb-4\"\n          />\n          <FormDropdown\n            label=\"Item Category\"\n            hint=\"Select the primary category for this item\"\n            state=\"required\"\n            options={[\n              { value: '', label: 'Select a category' },\n              { value: 'furniture', label: 'Furniture' },\n              { value: 'decor', label: 'Home Decor' },\n              { value: 'lighting', label: 'Lighting' },\n            ]}\n          />\n          <FormInput\n            label=\"Item Description\"\n            placeholder=\"Enter full product description\"\n            value={description}\n            onChange={setDescription}\n            state={description ? \"completed\" : \"required\"}\n            hint=\"Provide a detailed description of the item\"\n            className=\"mt-4\"\n          />\n          <CustomButton \n            variant=\"cta\"\n            onClick={handleProcessing}\n            disabled={!description || processingPhotos.length === 0}\n            className=\"mt-4\"\n          >\n            Mark Ready for Sale\n          </CustomButton>\n        </Card>\n      )}\n    </div>\n  );\n}; ","'use client';\n\nimport React from 'react';\nimport { Modal } from './Modal';\nimport { CustomButton } from './CustomButton';\nimport { Navigation, MapPin } from 'lucide-react';\nimport { getGeocode } from 'use-places-autocomplete';\n\ninterface MapModalProps {\n  address: string;\n  onClose: () => void;\n}\n\nexport const MapModal = ({ address, onClose }: MapModalProps) => {\n  const encodedAddress = encodeURIComponent(address);\n  const mapUrl = `https://www.google.com/maps/embed/v1/place?key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY}&q=${encodedAddress}`;\n  const directionsUrl = `https://www.google.com/maps/dir/?api=1&destination=${encodedAddress}`;\n\n  const openInGoogleMaps = () => {\n    window.open(directionsUrl, '_blank');\n  };\n\n  return (\n    <Modal onClose={onClose}>\n      <div className=\"p-6\">\n        <h2 className=\"font-rockwell text-2xl text-[#4B7163] mb-4\">\n          Pickup Location\n        </h2>\n        \n        <div className=\"mb-6\">\n          <div className=\"flex items-center gap-2 text-[#5A7C6F] mb-4\">\n            <MapPin className=\"h-4 w-4 flex-shrink-0\" />\n            <p>{address}</p>\n          </div>\n\n          {/* Map Preview */}\n          <div className=\"relative w-full h-[300px] rounded-xl overflow-hidden mb-4 border-2 border-[#4B7163]\">\n            <iframe\n              width=\"100%\"\n              height=\"100%\"\n              style={{ border: 0 }}\n              loading=\"lazy\"\n              src={mapUrl}\n              allowFullScreen\n            />\n          </div>\n          \n          <CustomButton \n            onClick={openInGoogleMaps}\n            className=\"w-full flex items-center justify-center gap-2\"\n          >\n            <Navigation className=\"w-4 h-4\" />\n            Get Directions\n          </CustomButton>\n        </div>\n\n        <p className=\"text-sm text-[#5A7C6F]\">\n          Opening directions will use your current location as the starting point\n        </p>\n      </div>\n    </Modal>\n  );\n}; ","'use client';\n\nimport React from 'react';\nimport { X } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface ModalProps {\n  children: React.ReactNode;\n  onClose: () => void;\n  className?: string;\n}\n\nexport const Modal = ({ children, onClose, className }: ModalProps) => {\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      {/* Backdrop */}\n      <div \n        className=\"absolute inset-0 bg-black/50\"\n        onClick={onClose}\n      />\n      \n      {/* Modal Content */}\n      <div className={cn(\n        \"relative bg-white rounded-2xl shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\",\n        className\n      )}>\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 text-gray-500 hover:text-gray-700\"\n        >\n          <X className=\"h-6 w-6\" />\n        </button>\n        {children}\n      </div>\n    </div>\n  );\n}; ","import React from 'react';\nimport { cn } from '@/lib/utils';\n\ninterface MessageBubbleProps {\n  children: React.ReactNode;\n  state?: 'primary' | 'secondary' | 'tertiary';\n  className?: string;\n}\n\nexport const MessageBubble = ({ \n  children, \n  state = 'primary',\n  className = '' \n}: MessageBubbleProps) => {\n  const stateClasses = {\n    primary: 'bg-[#4B7163] text-white rounded-tr-2xl rounded-tl-2xl rounded-br-2xl relative after:content-[\"\"] after:absolute after:left-[-13px] after:bottom-0 after:border-[8px] after:border-[#4B7163] after:border-l-transparent after:border-t-transparent',\n    secondary: 'bg-[#6AB098] text-white rounded-tl-2xl rounded-tr-2xl rounded-bl-2xl relative after:content-[\"\"] after:absolute after:right-[-13px] after:bottom-0 after:border-[8px] after:border-[#6AB098] after:border-r-transparent after:border-t-transparent',\n    tertiary: 'bg-[#FFE082] text-black rounded-tr-2xl rounded-tl-2xl rounded-br-2xl relative after:content-[\"\"] after:absolute after:left-[-16px] after:bottom-0 after:border-[8px] after:border-[#FFE082] after:border-l-transparent after:border-t-transparent',\n  };\n\n  return (\n    <div className={cn(\n      'p-4 mb-6 max-w-[80%] w-fit',\n      stateClasses[state],\n      className\n    )}>\n      {children}\n    </div>\n  );\n};","'use client';\n\nimport React, { useState } from 'react';\nimport { MessageCircle } from 'lucide-react';\nimport { CustomButton } from './CustomButton';\nimport { cn } from '@/lib/utils';\nimport { MessageBubble } from './MessageBubble';\n\ninterface Message {\n  id: string;\n  content: string;\n  timestamp: Date;\n  isRead: boolean;\n  sender: 'user' | 'admin';\n}\n\ninterface MessageThreadProps {\n  messages: Message[];\n  onSendMessage: (message: string) => void;\n  onMessageRead?: (messageId: string) => void;\n  className?: string;\n}\n\nexport const MessageThread = ({\n  messages,\n  onSendMessage,\n  onMessageRead,\n  className\n}: MessageThreadProps) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [newMessage, setNewMessage] = useState('');\n  \n  const unreadCount = messages.filter(msg => !msg.isRead).length;\n  const lastMessage = messages[messages.length - 1];\n  const lastMessageTime = lastMessage \n    ? new Intl.RelativeTimeFormat('en').format(\n        Math.ceil((lastMessage.timestamp.getTime() - Date.now()) / (1000 * 60 * 60 * 24)),\n        'days'\n      )\n    : null;\n\n  const handleExpand = () => {\n    setIsExpanded(!isExpanded);\n    // Mark all messages as read when expanding\n    if (!isExpanded && onMessageRead) {\n      messages.forEach(msg => {\n        if (!msg.isRead) onMessageRead(msg.id);\n      });\n    }\n  };\n\n  return (\n    <div className={cn(\"bg-white rounded-2xl border-2 border-[#4B7163] p-6\", className)}>\n      <button\n        onClick={handleExpand}\n        className=\"w-full flex items-center justify-between p-3 rounded-lg hover:bg-[#F8FAF9]\"\n      >\n        <div className=\"flex items-center gap-3\">\n          <MessageCircle className=\"h-5 w-5 text-[#4B7163]\" />\n          <span className=\"font-medium text-[#4B7163]\">Messages</span>\n          {unreadCount > 0 && (\n            <span className=\"bg-[#6AB098] text-white text-sm px-2 py-1 rounded-full\">\n              {unreadCount} new\n            </span>\n          )}\n        </div>\n        {lastMessage && (\n          <span className=\"text-sm text-gray-500\">\n            Last message {lastMessageTime}\n          </span>\n        )}\n      </button>\n\n      {isExpanded && (\n        <div className=\"mt-4 space-y-4\">\n          {messages.map((message, index) => (\n            <div key={message.id}>\n              <MessageBubble\n                state={\n                  index === messages.length - 1 && message.sender !== 'admin' ? 'tertiary' :\n                  message.sender === 'admin' ? 'secondary' : 'primary'\n                }\n                className={cn(\n                  message.sender === 'admin' ? \"ml-8\" : \"mr-8\"\n                )}\n              >\n                <p>{message.content}</p>\n                <span className=\"text-sm opacity-75 mt-2 block\">\n                  {message.timestamp.toLocaleString()}\n                </span>\n              </MessageBubble>\n            </div>\n          ))}\n          \n          <form \n            onSubmit={(e) => {\n              e.preventDefault();\n              if (newMessage.trim()) {\n                onSendMessage(newMessage);\n                setNewMessage('');\n              }\n            }}\n            className=\"flex gap-2 mt-4\"\n          >\n            <input\n              type=\"text\"\n              value={newMessage}\n              onChange={(e) => setNewMessage(e.target.value)}\n              placeholder=\"Type your message...\"\n              className=\"flex-1 p-2 border-2 border-[#4B7163] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6AB098]\"\n            />\n            <CustomButton\n              type=\"submit\"\n              disabled={!newMessage.trim()}\n              className=\"bg-[#4B7163] text-white px-4 py-2 rounded-lg hover:bg-[#3A5A4F]\"\n            >\n              Send\n            </CustomButton>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n}; ","'use client';\n\nimport React, { useState } from 'react';\nimport { InventoryProcessing } from './InventoryProcessing';\nimport { cn } from '@/lib/utils';\nimport { PickupRequest, RequestStatus } from '@/types/PickupRequest';\nimport { ItemDetails, PickupItem } from '@/types/PickupItem';\nimport { CustomButton } from './CustomButton';\nimport { X, Check } from 'lucide-react';\nimport { SwipeCard } from './SwipeCard';\n\ninterface ReceivingWorkflowProps {\n  items: PickupItem[];\n  onReceiveItem: (id: string) => void;\n  onRejectItem: (itemId: string) => void;\n  onUpdateStatus: (itemId: string, status: RequestStatus) => void;\n  onUpdateDetails: (itemId: string, details: ItemDetails) => void;\n  onAddProcessingPhotos: (itemId: string, photos: string[]) => void;\n  className?: string;\n}\n\nexport const ReceivingWorkflow = ({\n  items,\n  onReceiveItem,\n  onRejectItem,\n  onUpdateStatus,\n  onUpdateDetails,\n  onAddProcessingPhotos,\n  className\n}: ReceivingWorkflowProps) => {\n  const [selectedItem, setSelectedItem] = useState<PickupItem | null>(null);\n  const [processingItem, setProcessingItem] = useState<PickupItem | null>(null);\n\n  const pendingItems = items.filter(item => item.status === 'pending');\n\n  if (processingItem) {\n    return (\n      <div className={className}>\n        <CustomButton\n          variant=\"secondary\"\n          onClick={() => setProcessingItem(null)}\n          className=\"mb-4\"\n        >\n          ← Back to List\n        </CustomButton>\n        \n        <InventoryProcessing\n          request={{\n            id: processingItem.id,\n            status: 'completed',\n            pickupPhoto: processingItem.imageUrl,\n            items: [],\n            customerName: '',\n            customerEmail: '',\n            customerPhone: '',\n            pickupDate: new Date(),\n            pickupAddress: '',\n            messages: [],\n            address: ''\n          }}\n          onUpdateStatus={(status) => onUpdateStatus(processingItem.id, status)}\n          onUpdateDetails={(details) => onUpdateDetails(processingItem.id, details)}\n          onAddProcessingPhotos={(photos) => onAddProcessingPhotos(processingItem.id, photos)}\n          onConfirmReceipt={() => setProcessingItem(null)}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn('space-y-6', className)}>\n      {selectedItem ? (\n        <>\n          <CustomButton\n            variant=\"secondary\"\n            onClick={() => setSelectedItem(null)}\n            className=\"mb-4\"\n          >\n            ← Back to List\n          </CustomButton>\n\n          <div className=\"aspect-[3/4] w-full relative\">\n            <div className=\"absolute inset-0 -mx-8\">\n              <div className=\"relative h-full mx-8\">\n                <SwipeCard\n                  imageUrl={selectedItem.imageUrl}\n                  alt={selectedItem.name}\n                  onSwipe={(direction) => {\n                    if (direction === 'right') {\n                      onReceiveItem(selectedItem.id);\n                      onUpdateStatus(selectedItem.id, 'completed');\n                      setProcessingItem(selectedItem);\n                    } else {\n                      onRejectItem(selectedItem.id);\n                    }\n                    setSelectedItem(null);\n                  }}\n                >\n                  <div className=\"bg-[#F8FAF9] p-4 rounded-xl h-full overflow-y-auto\">\n                    <h4 className=\"font-semibold text-[#4B7163] mb-2\">{selectedItem.name}</h4>\n                    <p className=\"text-sm text-[#5A7C6F] mb-2\">{selectedItem.description}</p>\n                    <div className=\"flex items-center gap-2\">\n                      <span className={cn(\n                        \"px-2 py-1 rounded-full text-xs\",\n                        selectedItem.status === 'completed' && \"bg-green-100 text-green-800\",\n                        selectedItem.status === 'rejected' && \"bg-red-100 text-red-800\",\n                        selectedItem.status === 'pending' && \"bg-yellow-100 text-yellow-800\"\n                      )}>\n                        {selectedItem.status.charAt(0).toUpperCase() + selectedItem.status.slice(1)}\n                      </span>\n                    </div>\n                  </div>\n                </SwipeCard>\n              </div>\n            </div>\n          </div>\n\n          {/* Swipe Instructions */}\n          <div className=\"flex justify-center gap-8 text-sm text-gray-500 mt-2\">\n            <div className=\"flex items-center gap-1\">\n              <X className=\"h-4 w-4 text-red-500\" /> Swipe left to reject\n            </div>\n            <div className=\"flex items-center gap-1\">\n              <Check className=\"h-4 w-4 text-green-500\" /> Swipe right to receive\n            </div>\n          </div>\n        </>\n      ) : (\n        <div className=\"bg-white rounded-2xl border-2 border-[#4B7163] p-6\">\n          <h2 className=\"font-rockwell text-2xl text-[#4B7163] mb-6\">\n            Pending Items ({pendingItems.length})\n          </h2>\n          \n          <div className=\"grid gap-4\">\n            {pendingItems.map((item) => (\n              <div\n                key={item.id}\n                onClick={() => setSelectedItem(item)}\n                className=\"flex gap-4 p-4 bg-[#F8FAF9] hover:bg-[#F0F4F2] rounded-xl cursor-pointer transition-colors\"\n              >\n                <img\n                  src={item.imageUrl}\n                  alt={item.name}\n                  className=\"w-24 h-24 rounded-lg object-cover\"\n                />\n                <div>\n                  <h3 className=\"font-rockwell text-lg text-[#4B7163]\">{item.name}</h3>\n                  <p className=\"text-sm text-[#5A7C6F]\">{item.description}</p>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}; ","'use client';\n\nimport React, { useState } from 'react';\nimport { motion, useMotionValue, useTransform } from 'framer-motion';\nimport { Check, X } from 'lucide-react';\n\ninterface SwipeCardProps {\n  imageUrl: string;\n  alt: string;\n  children: React.ReactNode;\n  onSwipe: (direction: 'left' | 'right') => void;\n  isVisible?: boolean;\n}\n\nexport const SwipeCard = ({ \n  imageUrl, \n  alt, \n  children, \n  onSwipe,\n  isVisible = true \n}: SwipeCardProps) => {\n  const [exitX, setExitX] = useState<number>(0);\n  const x = useMotionValue(0);\n  const rotate = useTransform(x, [-200, 200], [-25, 25]);\n  const opacity = useTransform(x, [-200, -150, 0, 150, 200], [0, 1, 1, 1, 0]);\n\n  const dragEndHandler = (event: any, info: any) => {\n    if (Math.abs(info.offset.x) > 100) {\n      setExitX(info.offset.x);\n      const direction = info.offset.x > 0 ? 'right' : 'left';\n      onSwipe(direction);\n    }\n  };\n\n  const handleAccept = () => {\n    setExitX(200);\n    onSwipe('right');\n  };\n\n  const handleReject = () => {\n    setExitX(-200);\n    onSwipe('left');\n  };\n\n  if (!isVisible) return null;\n\n  return (\n    <motion.div\n      className=\"absolute inset-0\"\n      style={{ x, rotate, opacity }}\n      drag=\"x\"\n      dragConstraints={{ left: 0, right: 0 }}\n      onDragEnd={dragEndHandler}\n      animate={{ x: exitX }}\n      transition={{ type: \"spring\", duration: 0.5 }}\n      whileTap={{ cursor: \"grabbing\" }}\n    >\n      <div className=\"relative w-full h-full select-none\">\n        {/* Card Content */}\n        <div className=\"w-full h-full bg-white rounded-xl overflow-hidden shadow-lg\">\n          <div className=\"relative w-full h-3/5 pointer-events-none\">\n            <img\n              src={imageUrl}\n              alt={alt}\n              className=\"w-full h-full object-cover\"\n              draggable=\"false\"\n            />\n          </div>\n          <div className=\"p-4 h-2/5 pointer-events-none\">\n            {children}\n          </div>\n        </div>\n\n        {/* Action Buttons */}\n        <motion.div \n          className=\"absolute bottom-4 left-0 right-0 flex justify-center gap-4\"\n          style={{ opacity: useTransform(x, [-50, 0, 50], [0, 1, 0]) }}\n        >\n          <button\n            onClick={handleReject}\n            className=\"p-3 rounded-full bg-white shadow-lg hover:bg-gray-50\"\n          >\n            <X className=\"w-6 h-6 text-red-500\" />\n          </button>\n          <button\n            onClick={handleAccept}\n            className=\"p-3 rounded-full bg-white shadow-lg hover:bg-gray-50\"\n          >\n            <Check className=\"w-6 h-6 text-green-500\" />\n          </button>\n        </motion.div>\n      </div>\n    </motion.div>\n  );\n};\n","'use client';\n\nimport React, { useState, FormEvent, useEffect } from 'react';\nimport { Progress } from './Progress';\nimport { CustomButton } from './CustomButton';\nimport { FormInput } from './FormInput';\nimport { Upload, Image as ImageIcon, Info, MapPin, Calendar, ChevronLeft, ChevronRight, Camera, UserCircle2, type LucideIcon, CheckCircle2 } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport usePlacesAutocomplete, { getGeocode } from \"use-places-autocomplete\";\nimport { Modal } from './Modal';\nimport { ImageUpload } from './ImageUpload';\nimport { ProgressStep } from './Progress';\nimport TermsOfService from './TermsOfService';\nimport axios from 'axios';\nimport { addDoc, collection } from 'firebase/firestore';\nimport { db } from '../firebaseConfig'; \nimport Privacy from './Privacy';\n\ninterface UploadedItem {\n  id: string;\n  imageUrl: string;\n  description?: string;\n  quantity?: number;\n  selectedFiles?: File[];\n  status?: string;\n}\n\ninterface PickupRequestFormProps {\n  onSubmit: (data: any) => Promise<{ id: string }>;\n  className?: string;\n  skipContactStep?: boolean;\n  renderDetailsStep?: (\n    items: UploadedItem[],\n    handleItemDescription: (id: string, description: string) => void,\n    handleQuantityChange: (id: string, quantity: string) => void,\n    availableDates: Array<{\n      date: string;\n      requestCount: number;\n    }>\n  ) => React.ReactNode;\n  availableDates?: Array<{\n    date: string;\n    requestCount: number;\n  }>;\n  skipConfirmationStep?: boolean;\n  selectedDate?: string;\n  selectedTime?: string;\n  onDateSelect?: (date: string) => void;\n  onTimeSelect?: (time: string) => void;\n  steps?: ProgressStep[];\n  renderCustomStep?: (currentStep: number) => React.ReactNode;\n  validateStep?: (step: number) => boolean;\n  isSubmitting?: boolean;\n  onStepChange?: (step: number) => void;\n  onCompletedStepsChange?: (steps: number[]) => void;\n}\n\ninterface ConfirmationState {\n  ownership: boolean;\n  terms: boolean;\n  liability: boolean;\n  marketing: boolean;\n}\n\ntype StepType = {\n  title: string;\n  description: string;\n  icon: LucideIcon;\n};\n\ninterface UploadResponse {\n  fileUrls: string[];\n}\n\ninterface FormData {\n  fullName: string;\n  contact: string;\n  items: Array<{\n    description: string;\n    selectedFiles: File[];\n  }>;\n  availableTimes: string[];\n  address: string;\n}\n\nconst STORAGE_KEY = 'giver_form_data';\n\nconst saveToLocalStorage = (data: any) => {\n  try {\n    const dataToSave = {\n      ...data,\n      currentStep: data.currentStep,\n      availableTimes: data.availableTimes,\n      address: data.address,\n      contactInfo: data.contactInfo,\n    };\n    \n    localStorage.setItem(STORAGE_KEY, JSON.stringify(dataToSave));\n  } catch (error) {\n    console.error('Error saving to localStorage:', error);\n  }\n};\n\nconst loadFromLocalStorage = () => {\n  try {\n    const saved = localStorage.getItem(STORAGE_KEY);\n    if (!saved) return null;\n    \n    const data = JSON.parse(saved);\n    \n    // Filter out items with broken images\n    const validItems = data.uploadedItems?.filter((item: UploadedItem) => {\n      // Check if the image URL is still valid\n      return item.imageUrl && item.imageUrl.startsWith('data:image/');\n    }) || [];\n    \n    return {\n      currentStep: data.currentStep || 1,\n      uploadedItems: validItems,\n      availableTimes: data.availableTimes || [],\n      address: data.address || '',\n      contactInfo: data.contactInfo || { fullName: '', contact: '' },\n    };\n  } catch (error) {\n    console.error('Error loading from localStorage:', error);\n    return null;\n  }\n};\n\nconst clearLocalStorage = () => {\n  localStorage.removeItem(STORAGE_KEY);\n};\n\nconst PlacesAutocomplete = ({\n  value,\n  onChange,\n  onSelect\n}: {\n  value: string;\n  onChange: (value: string) => void;\n  onSelect: (address: string) => Promise<void>;\n}) => {\n  const {\n    ready,\n    suggestions: { data },\n    setValue,\n    clearSuggestions,\n  } = usePlacesAutocomplete({\n    requestOptions: { componentRestrictions: { country: 'us' } },\n    debounce: 300,\n    defaultValue: value,\n    cache: 24 * 60 * 60,\n  });\n\n  return (\n    <div className=\"relative\">\n      <FormInput\n        label=\"Pickup Address\"\n        value={value}\n        onChange={(val) => {\n          setValue(val);\n          onChange(val);\n        }}\n        disabled={!ready}\n        placeholder={ready ? \"Enter your address\" : \"Loading Places API...\"}\n      />\n      {data.length > 0 && (\n        <ul className=\"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg\">\n          {data.map((suggestion) => (\n            <li\n              key={suggestion.place_id}\n              className=\"px-4 py-2 hover:bg-gray-100 cursor-pointer\"\n              onClick={() => {\n                onChange(suggestion.description);\n                onSelect(suggestion.description);\n                clearSuggestions();\n              }}\n            >\n              {suggestion.description}\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nconst handlePhotoUpload = async (\n  photos: string[], \n  setUploadedItems: React.Dispatch<React.SetStateAction<UploadedItem[]>>,\n  skipContactStep: boolean\n) => {\n  const instanceId = Math.random().toString(36).substr(2, 9);\n  let newItems: UploadedItem[] = [];\n  \n  if (photos.length > 0) {\n    try {\n      newItems = photos.map((photoUrl) => ({\n        id: `${instanceId}-${Math.random().toString(36).substr(2, 9)}`,\n        imageUrl: photoUrl,\n        quantity: 1,\n        selectedFiles: [],\n        status: 'uploading'\n      }));\n      \n      setUploadedItems(prevItems => [...prevItems, ...newItems]);\n\n      const files = await Promise.all(photos.map(async (photo, index) => {\n        const response = await fetch(photo);\n        const blob = await response.blob();\n        return new File([blob], `photo-${index}.jpg`, { type: 'image/jpeg' });\n      }));\n\n      setUploadedItems(prevItems => \n        prevItems.map(item => {\n          const matchingNewItem = newItems.find(newItem => newItem.id === item.id);\n          if (matchingNewItem) {\n            return {\n              ...item,\n              selectedFiles: [files[newItems.indexOf(matchingNewItem)]],\n              status: 'ready'\n            };\n          }\n          return item;\n        })\n      );\n      \n      \n    } catch (error) {\n      console.error('Error processing files:', error);\n      setUploadedItems(prevItems =>\n        prevItems.map(item => ({\n          ...item,\n          status: newItems.some(newItem => newItem.id === item.id) ? 'error' : item.status\n        }))\n      );\n    }\n  }\n};\n\nconst isValidEmail = (email: string) => {\n  return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n};\n\nconst isValidPhone = (phone: string) => {\n  return /^\\+?[\\d\\s-()]{10,}$/.test(phone);\n};\n\nconst getMinDate = () => {\n  const today = new Date();\n  today.setHours(today.getHours() + 72);\n  return today.toISOString().split('T')[0];\n};\n\nconst formatPhoneNumber = (value: string) => {\n  const digits = value.replace(/\\D/g, '');\n  \n  if (digits.length >= 10) {\n    return `(${digits.slice(0,3)}) ${digits.slice(3,6)}-${digits.slice(6,10)}`;\n  }\n  else if (digits.length > 6) {\n    return `(${digits.slice(0,3)}) ${digits.slice(3,6)}-${digits.slice(6)}`;\n  }\n  else if (digits.length > 3) {\n    return `(${digits.slice(0,3)}) ${digits.slice(3)}`;\n  }\n  else if (digits.length > 0) {\n    return `(${digits}`;\n  }\n  return '';\n};\n\nconst isValidDate = (date: string) => {\n  if (!date) return false;\n  \n  // Handle both YYYY-MM-DD and MM/DD/YYYY formats\n  const normalizedDate = date.includes('/') \n    ? date.split('/').reverse().join('-')\n    : date;\n    \n  const selectedDate = new Date(normalizedDate);\n  const minDate = new Date();\n  minDate.setHours(minDate.getHours() + 72); // 3 days from now\n  \n  return selectedDate >= minDate;\n};\n\nconst formatTimeForDisplay = (hour: number, minute: number) => {\n  const ampm = hour >= 12 ? 'PM' : 'AM';\n  const displayHour = hour > 12 ? hour - 12 : hour;\n  return `${displayHour}:${minute === 0 ? '00' : minute} ${ampm}`;\n};\n\nconst generateTimeSlots = () => {\n  const slots = [];\n  // 9 AM to 5 PM (17:00)\n  for (let hour = 9; hour <= 17; hour++) {\n    slots.push(formatTimeForDisplay(hour, 0));  // XX:00\n    if (hour !== 17) { // Don't add 5:30 PM\n      slots.push(formatTimeForDisplay(hour, 30)); // XX:30\n    }\n  }\n  return slots;\n};\n\nconst isWeekday = (dateString: string) => {\n  const date = new Date(dateString);\n  const day = date.getDay();\n  return day !== 0 && day !== 6; // 0 is Sunday, 6 is Saturday\n};\n\n// Add this helper function to generate valid time options\nconst generateTimeOptions = () => {\n  const options = [];\n  for (let hour = 9; hour <= 17; hour++) {\n    // Add hour\n    options.push(`${hour.toString().padStart(2, '0')}:00`);\n    // Add half hour except for 5 PM\n    if (hour !== 17) {\n      options.push(`${hour.toString().padStart(2, '0')}:30`);\n    }\n  }\n  return options;\n};\n\nexport const PickupRequestForm = ({\n  onSubmit,\n  className,\n  skipContactStep = false,\n  renderDetailsStep,\n  availableDates,\n  skipConfirmationStep = false,\n  selectedDate,\n  selectedTime,\n  onDateSelect,\n  onTimeSelect,\n  steps,\n  renderCustomStep,\n  validateStep,\n  isSubmitting,\n  onStepChange,\n  onCompletedStepsChange,\n}: PickupRequestFormProps) => {\n  const [currentStep, setCurrentStep] = useState(() => {\n    if (typeof window !== 'undefined') {\n      const isRefresh = performance.navigation?.type === 1 || \n        (window.performance?.getEntriesByType('navigation')[0] as PerformanceNavigationTiming)?.type === 'reload';\n      \n      if (isRefresh) {\n        return parseInt(localStorage.getItem('formData_currentStep') || '1');\n      }\n      localStorage.removeItem('formData_currentStep');\n    }\n    return 1;\n  });\n\n  const [uploadedItems, setUploadedItems] = useState<UploadedItem[]>(() => {\n    if (typeof window !== 'undefined') {\n      const saved = localStorage.getItem('formData_items');\n      return saved ? JSON.parse(saved) : [];\n    }\n    return [];\n  });\n  const [availableTimes, setAvailableTimes] = useState<string[]>(() => {\n    if (typeof window !== 'undefined') {\n      const saved = localStorage.getItem('formData_times');\n      return saved ? JSON.parse(saved) : [];\n    }\n    return [];\n  });\n  const [address, setAddress] = useState(() => {\n    if (typeof window !== 'undefined') {\n      return localStorage.getItem('formData_address') || '';\n    }\n    return '';\n  });\n  const [contactInfo, setContactInfo] = useState(() => {\n    if (typeof window !== 'undefined') {\n      const saved = localStorage.getItem('formData_contact');\n      return saved ? JSON.parse(saved) : { fullName: '', contact: '' };\n    }\n    return { fullName: '', contact: '' };\n  });\n  const [showTerms, setShowTerms] = useState(false);\n  const [confirmations, setConfirmations] = useState<ConfirmationState>({\n    ownership: false,\n    terms: false,\n    liability: false,\n    marketing: false,\n  });\n  const [feedback, setFeedback] = useState('');\n  const [isTermsVisible, setIsTermsVisible] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [formMessage, setFormMessage] = useState('');\n  const [isPrivacyVisible, setIsPrivacyVisible] = useState(false);\n  const [completedSteps, setCompletedSteps] = useState<number[]>([]);\n  const [requestId, setRequestId] = useState<string | null>(null);\n\n  const isStepCompleted = (step: number) => {\n    return completedSteps.includes(step);\n  };\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('formData_items', JSON.stringify(uploadedItems));\n      localStorage.setItem('formData_times', JSON.stringify(availableTimes));\n      localStorage.setItem('formData_address', address);\n      localStorage.setItem('formData_contact', JSON.stringify(contactInfo));\n    }\n  }, [uploadedItems, availableTimes, address, contactInfo]);\n\n  useEffect(() => {\n    const handleBeforeUnload = (event: BeforeUnloadEvent) => {\n      if (uploadedItems.length > 0) {\n        event.preventDefault();\n        event.returnValue = '';\n      }\n    };\n\n    window.addEventListener('beforeunload', handleBeforeUnload);\n\n    return () => {\n      window.removeEventListener('beforeunload', handleBeforeUnload);\n    };\n  }, []);\n\n  useEffect(() => {\n    const savedData = loadFromLocalStorage();\n    if (savedData) {\n      // Only restore items that have valid base64 images\n      const validItems = savedData.uploadedItems.filter((item: UploadedItem) => \n        item.imageUrl && item.imageUrl.startsWith('data:image/')\n      );\n      \n      setCurrentStep(savedData.currentStep || 1);\n      setUploadedItems(validItems);\n      setAvailableTimes(savedData.availableTimes || []);\n      setAddress(savedData.address || '');\n      setContactInfo(savedData.contactInfo || { fullName: '', contact: '' });\n    }\n  }, []);\n\n  useEffect(() => {\n    // Notify parent component when steps are completed\n    if (onCompletedStepsChange && completedSteps) {\n      onCompletedStepsChange(completedSteps);\n    }\n  }, [completedSteps, onCompletedStepsChange]);\n\n  const handleItemDescription = (itemId: string, description: string) => {\n    setUploadedItems(items => \n      items.map(item => \n        item.id === itemId ? { ...item, description } : item\n      )\n    );\n  };\n\n  const handleQuantityChange = (itemId: string, quantity: string) => {\n    setUploadedItems(items =>\n      items.map(item =>\n        item.id === itemId ? { ...item, quantity: parseInt(quantity) || 1 } : item\n      )\n    );\n  };\n\n  const handleTimeSelection = (time: string) => {\n    setAvailableTimes(current =>\n      current.includes(time)\n        ? current.filter(t => t !== time)\n        : [...current, time]\n    );\n  };\n\n  const isSuccessStep = () => currentStep === 4;\n\n  const handleItemRemove = (itemId: string) => {\n    setUploadedItems(items => items.filter(item => item.id !== itemId));\n  };\n\n  const handleFeedbackSubmit = async (feedbackText: string) => {\n    try {\n \n      const feedbackData = {\n        name: contactInfo.fullName,\n        contact: contactInfo.contact,\n        feedback: feedbackText,\n        createdAt: new Date().toISOString(),\n        pickupRequestId: null \n      };\n\n      const docRef = await addDoc(collection(db, 'feedback'), feedbackData);\n      console.log('Feedback submitted with ID:', docRef.id);\n      \n      setFormMessage('Thank you for your feedback!');\n      setFeedback('');\n      \n    } catch (error) {\n      console.error('Error submitting feedback:', error);\n      setFormMessage('Failed to submit feedback. Please try again.');\n    }\n  };\n\n  const renderStepContent = () => {\n    if (renderCustomStep) {\n      const customContent = renderCustomStep(currentStep);\n      if (customContent !== null) {\n        return customContent;\n      }\n    }\n\n    switch (currentStep) {\n      case 1: \n        return (\n          <div className=\"space-y-6\">\n            {!isStepCompleted(1) && (\n              <div className=\"bg-[#F8FAF9] rounded-xl p-6 border-l-4 border-[#4B7163]\">\n                <h3 className=\"font-rockwell text-lg text-[#4B7163] mb-2\">\n                  Items We Accept\n                </h3>\n                <p className=\"text-[#5A7C6F]\">\n                  We accept gently used furniture and home goods. All items must be in good condition, \n                  clean, and free from damage. Please ensure items are ready for pickup and easily accessible.\n                </p>\n              </div>\n            )}\n\n            <div className=\"bg-[#F8FAF9] rounded-xl p-6\">\n              <ImageUpload\n                onUpload={async (photos) => {\n                  await handlePhotoUpload(photos, setUploadedItems, skipContactStep);\n                }}\n                maxFiles={50}\n              />\n\n              {uploadedItems.length > 0 && (\n                <div className=\"space-y-6\">\n                  {uploadedItems.map((item) => (\n                    <div key={item.id} className=\"flex gap-4 p-4 bg-[#F8FAF9] rounded-xl\">\n                      <div className=\"w-32 h-32 rounded-lg overflow-hidden flex-shrink-0 relative\">\n                        <button\n                          type=\"button\"\n                          onClick={() => handleItemRemove(item.id)}\n                          className=\"absolute top-2 right-2 w-6 h-6 flex items-center justify-center rounded-full bg-white text-[#E67C45] hover:text-[#D15E25] shadow-sm\"\n                        >\n                          ×\n                        </button>\n                        \n                        <img \n                          src={item.imageUrl} \n                          alt=\"Item\" \n                          className=\"w-full h-full object-cover\"\n                        />\n                        {item.status === 'uploading' && (\n                          <div className=\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\n                            <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-white\"></div>\n                          </div>\n                        )}\n                        {item.status === 'error' && (\n                          <div className=\"absolute inset-0 bg-red-500 bg-opacity-50 flex items-center justify-center\">\n                            <span className=\"text-white text-sm\">Error</span>\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"flex-grow\">\n                        <FormInput\n                          label=\"Item Description\"\n                          placeholder=\"Describe the item, including condition and any relevant details\"\n                          value={item.description || ''}\n                          onChange={(value: string) => handleItemDescription(item.id, value)}\n                        />\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        );\n\n      case 2: \n        if (renderDetailsStep) {\n          return renderDetailsStep(\n            uploadedItems,\n            handleItemDescription,\n            handleQuantityChange,\n            availableDates || []\n          );\n        }\n        return (\n          <div className=\"space-y-6\">\n      \n            <div className=\"bg-[#F8FAF9] rounded-xl p-6 border-l-4 border-[#4B7163]\">\n              <h3 className=\"font-rockwell text-lg text-[#4B7163] mb-2\">\n                Schedule Your Pickup\n              </h3>\n              <p className=\"text-[#5A7C6F]\">\n                Please select at least two preferred pickup times. Having multiple options helps us \n                plan the most efficient and sustainable pickup route, reducing our carbon footprint.\n              </p>\n            </div>\n\n            <div className=\"bg-[#F8FAF9] rounded-xl p-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n                <FormInput\n                  type=\"date\"\n                  label=\"Pickup Date\"\n                  value={selectedDate || ''}\n                  min={getMinDate()}\n                  onChange={(value: string) => {\n                    if (onDateSelect) onDateSelect(value);\n                  }}\n                />\n                <FormInput\n                  type=\"time\"\n                  label=\"Pickup Time\"\n                  value={selectedTime || ''}\n                  onChange={(value: string) => {\n                    if (onTimeSelect) onTimeSelect(value);\n                  }}\n                  min=\"09:00\"\n                  max=\"17:00\"\n                  step=\"1800\"\n                  list=\"time-options\"\n                />\n                <datalist id=\"time-options\">\n                  {generateTimeOptions().map(time => (\n                    <option key={time} value={time} />\n                  ))}\n                </datalist>\n              </div>\n\n              <button\n                type=\"button\"\n                onClick={() => {\n                  if (selectedDate && selectedTime) {\n                    const timeSlot = `${selectedDate} ${selectedTime}`;\n                    if (!availableTimes.includes(timeSlot)) {\n                      setAvailableTimes(prev => [...prev, timeSlot]);\n                    }\n                  }\n                }}\n                disabled={!selectedDate || !selectedTime}\n                className={cn(\n                  \"w-full p-3 rounded-md text-center transition-colors\",\n                  selectedDate && selectedTime\n                    ? \"bg-[#4B7163] text-white hover:bg-[#3D5B51]\"\n                    : \"bg-gray-100 text-gray-400 cursor-not-allowed\"\n                )}\n              >\n                Add This Time Slot\n              </button>\n\n              <div className=\"mt-8\">\n                <h4 className=\"font-medium text-[#4B7163] mb-4\">\n                  Your Selected Time Slots {availableTimes.length < 2 && \n                    <span className=\"text-[#E67C45] text-sm\">\n                      (Please select {2 - availableTimes.length} more)\n                    </span>\n                  }\n                </h4>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  {availableTimes.map((timeSlot, index) => (\n                    <div \n                      key={timeSlot}\n                      className=\"bg-white p-4 rounded-lg border-2 border-[#4B7163] relative\"\n                    >\n                      <button\n                        type=\"button\"\n                        onClick={() => setAvailableTimes(prev => prev.filter(t => t !== timeSlot))}\n                        className=\"absolute top-2 right-2 text-[#E67C45] hover:text-[#D15E25]\"\n                      >\n                        ×\n                      </button>\n                      <p className=\"text-[#4B7163] font-medium\">\n                        Option {index + 1}\n                      </p>\n                      <p className=\"text-sm text-gray-600\">\n                        {new Date(timeSlot).toLocaleDateString('en-US', {\n                          weekday: 'short',\n                          month: 'short',\n                          day: 'numeric'\n                        })}\n                      </p>\n                      <p className=\"text-sm text-gray-600\">\n                        {new Date(timeSlot).toLocaleTimeString('en-US', {\n                          hour: 'numeric',\n                          minute: '2-digit'\n                        })}\n                      </p>\n                    </div>\n                  ))}\n                  {[...Array(Math.max(0, 3 - availableTimes.length))].map((_, i) => (\n                    <div \n                      key={i}\n                      className=\"bg-gray-50 p-4 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center\"\n                    >\n                      <p className=\"text-gray-400 text-center\">\n                        Select a time slot\n                      </p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <p className=\"text-sm text-[#5A7C6F] mt-6\">\n                Business hours: Mon-Fri, 9AM-5PM\n              </p>\n            </div>\n          </div>\n        );\n\n      case 3: \n        if (skipConfirmationStep) return null;\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"bg-[#F8FAF9] rounded-xl p-4\">\n              <FormInput\n                label=\"First and Last Name\"\n                value={contactInfo.fullName}\n                onChange={(value: string) => setContactInfo((prev: { fullName: string; contact: string }) => ({ \n                  ...prev, \n                  fullName: value \n                }))}\n              />\n              \n              <div className=\"mt-6\">\n                <FormInput\n                  label=\"Email or Mobile Number\"\n                  value={contactInfo.contact}\n                  onChange={(value: string) => {\n       \n                    if (/^[\\d(]/.test(value)) {\n                      setContactInfo((prev: { fullName: string; contact: string }) => ({ \n                        ...prev, \n                        contact: formatPhoneNumber(value)\n                      }));\n                    } else {\n                      setContactInfo((prev: { fullName: string; contact: string }) => ({ \n                        ...prev, \n                        contact: value \n                      }));\n                    }\n                  }}\n                  hint=\"Choose the contact method you check most frequently for convenient updates.\"\n                  error={\n                    contactInfo.contact && !isValidEmail(contactInfo.contact) && !isValidPhone(contactInfo.contact)\n                      ? \"Please enter a valid email address or phone number\"\n                      : undefined\n                  }\n                  state={\n                    contactInfo.contact\n                      ? (isValidEmail(contactInfo.contact) || isValidPhone(contactInfo.contact))\n                        ? 'completed'\n                        : 'error'\n                      : 'normal'\n                  }\n                />\n              </div>\n            </div>\n\n            <div className=\"bg-[#F8FAF9] rounded-xl p-4\">\n              <PlacesAutocomplete\n                value={address}\n                onChange={setAddress}\n                onSelect={async (address) => {\n                  setAddress(address);\n                }}\n              />\n              <p className=\"mt-2 text-sm text-[#5A7C6F] flex items-center gap-2\">\n                <Info className=\"h-4 w-4\" />\n                Please ensure the address is accurate and items will be accessible at this location\n              </p>\n            </div>\n\n            <div className=\"space-y-4 bg-[#F8FAF9] rounded-xl p-4\">\n              <h3 className=\"font-rockwell text-lg text-[#4B7163] mb-4\">\n                Final Confirmation\n              </h3>\n              \n              <label className=\"flex items-start gap-3 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={confirmations.ownership}\n                  onChange={(e) => setConfirmations(prev => ({\n                    ...prev,\n                    ownership: e.target.checked\n                  }))}\n                  className=\"mt-1\"\n                />\n                <span className=\"text-sm text-[#5A7C6F]\">\n                  I am the owner of the household goods I am requesting for pick up.\n                </span>\n              </label>\n\n              <label className=\"flex items-start gap-3 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={confirmations.terms}\n                  onChange={(e) => setConfirmations(prev => ({\n                    ...prev,\n                    terms: e.target.checked\n                  }))}\n                  className=\"mt-1\"\n                />\n                <span className=\"text-sm text-[#5A7C6F]\">\n                  I have read and agree to the{' '}\n                  <button\n                    type=\"button\"\n                    onClick={() => setIsTermsVisible(true)}\n                    className=\"text-[#6AB098] underline hover:text-[#4B7163]\"\n                  >\n                    Terms of Service\n                  </button>\n                  {' '}and{' '}\n                  <button\n                    type=\"button\"\n                    onClick={() => setIsPrivacyVisible(true)}\n                    className=\"text-[#6AB098] underline hover:text-[#4B7163]\"\n                  >\n                    Privacy Policy\n                  </button>\n                </span>\n              </label>\n\n              <label className=\"flex items-start gap-3 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={confirmations.liability}\n                  onChange={(e) => setConfirmations(prev => ({\n                    ...prev,\n                    liability: e.target.checked\n                  }))}\n                  className=\"mt-1\"\n                />\n                <span className=\"text-sm text-[#5A7C6F]\">\n                  I assume all risk associated with items being picked up at my residence and release Gone from any and all claims.\n                </span>\n              </label>\n\n              <label className=\"flex items-start gap-3 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={confirmations.marketing}\n                  onChange={(e) => setConfirmations(prev => ({\n                    ...prev,\n                    marketing: e.target.checked\n                  }))}\n                  className=\"mt-1\"\n                />\n                <span className=\"text-sm text-[#5A7C6F]\">\n                  I acknowledge my number will be stored and used to schedule pick-up and used for marketing and promotional purposes. I may opt out at any time by responding \"Stop\" to any text messages I receive.\n                </span>\n              </label>\n            </div>\n          </div>\n        );\n\n      case 4: \n        return (\n          <div className=\"space-y-6\">\n            <div className=\"bg-[#F8FAF9] rounded-xl p-6 text-center\">\n              <CheckCircle2 className=\"w-16 h-16 text-[#4B7163] mx-auto mb-4\" />\n              <h3 className=\"font-rockwell text-2xl text-[#4B7163] mb-4\">\n                Request Submitted Successfully!\n              </h3>\n              <p className=\"text-[#5A7C6F] mb-6\">\n                We'll review your request and get back to you via {contactInfo.contact.includes('@') ? 'email' : 'text'} shortly.\n                Thank you for being a sustainable citizen and giving your items a second life!\n              </p>\n            </div>\n\n            {requestId && (\n              <div className=\"bg-[#F8FAF9] rounded-xl p-6\">\n                <h4 className=\"font-rockwell text-lg text-[#4B7163] mb-4\">\n                  Track Your Request Status\n                </h4>\n                <p className=\"text-[#5A7C6F] mb-4\">\n                  You can check the status of your pickup request at any time:\n                </p>\n                <div className=\"flex items-center gap-2 bg-white p-3 rounded-lg border border-[#4B7163]\">\n                  <a\n                    href={`${window.location.origin}/pickup-status/${requestId}`}\n                    className=\"flex-grow truncate text-[#4B7163] hover:underline\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    {`${window.location.origin}/pickup-status/${requestId}`}\n                  </a>\n                  <button\n                    onClick={() => {\n                      navigator.clipboard.writeText(`${window.location.origin}/pickup-status/${requestId}`);\n                      // Add a toast or some visual feedback that the URL was copied\n                    }}\n                    className=\"text-[#4B7163] hover:text-[#3D5B51] px-3 py-1 rounded-md border-l border-[#4B7163]/20\"\n                  >\n                    Copy Link\n                  </button>\n                </div>\n              </div>\n            )}\n\n            <div className=\"bg-[#F8FAF9] rounded-xl p-6\">\n              <h4 className=\"font-rockwell text-lg text-[#4B7163] mb-4\">\n                Your Pickup Request Details\n              </h4>\n              \n              <div className=\"space-y-4\">\n      \n                <div className=\"border-b border-[#4B7163]/10 pb-4\">\n                  <p className=\"text-sm text-[#5A7C6F] font-medium mb-2\">Contact Information</p>\n                  <div className=\"space-y-1\">\n                    <p className=\"text-[#4B7163]\">{contactInfo.fullName}</p>\n                    <p className=\"text-[#4B7163]\">{contactInfo.contact}</p>\n                    <p className=\"text-[#4B7163]\">{address}</p>\n                  </div>\n                </div>\n\n         \n                <div className=\"border-b border-[#4B7163]/10 pb-4\">\n                  <p className=\"text-sm text-[#5A7C6F] font-medium mb-2\">Items for Pickup ({uploadedItems.length})</p>\n                  <div className=\"grid gap-3\">\n                    {uploadedItems.map((item, index) => (\n                      <div key={item.id} className=\"flex items-center gap-3 bg-white p-2 rounded-lg\">\n                        <img \n                          src={item.imageUrl} \n                          alt={item.description || `Item ${index + 1}`}\n                          className=\"w-16 h-16 object-cover rounded\"\n                        />\n                        <div>\n                          <p className=\"text-[#4B7163] font-medium\">{item.description || `Item ${index + 1}`}</p>\n                          {item.quantity && item.quantity > 1 && (\n                            <p className=\"text-sm text-[#5A7C6F]\">Quantity: {item.quantity}</p>\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n           \n                <div>\n                  <p className=\"text-sm text-[#5A7C6F] font-medium mb-2\">Preferred Pickup Times</p>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {availableTimes.map((time) => (\n                      <div key={time} className=\"bg-[#4B7163]/10 rounded-full px-3 py-1 text-sm text-[#4B7163]\">\n                        {time}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"bg-[#F8FAF9] rounded-xl p-6\">\n              <h4 className=\"font-rockwell text-lg text-[#4B7163] mb-4\">\n                How was your experience?\n              </h4>\n              <textarea\n                placeholder=\"Share your feedback with us\"\n                value={feedback}\n                onChange={(e) => setFeedback(e.target.value)}\n                rows={4}\n                className=\"w-full p-3 border-2 rounded-lg border-[#5A7C6F] focus:outline-none focus:ring-2\"\n              />\n              {formMessage && (\n                <p className=\"text-center text-sm text-[#4B7163] mt-2\">{formMessage}</p>\n              )}\n            </div>\n\n            <div className=\"flex justify-center gap-4\">\n              <CustomButton \n                onClick={handleNewRequest}\n                variant=\"secondary\"\n              >\n                Submit Another Request\n              </CustomButton>\n              <CustomButton\n                onClick={async () => {\n                  if (feedback.trim()) {\n                    try {\n                      const feedbackData = {\n                        name: contactInfo.fullName,\n                        contact: contactInfo.contact,\n                        address: address,\n                        feedback: feedback.trim(),\n                        createdAt: new Date().toISOString(),\n                      };\n\n\n                      const docRef = await addDoc(collection(db, 'feedBack'), feedbackData);\n                      console.log('Feedback submitted with ID:', docRef.id);\n                      \n                      setFormMessage('Thank you for your feedback!');\n                      setFeedback('');\n                    } catch (error) {\n                      console.error('Error submitting feedback:', error);\n                      setFormMessage('Failed to submit feedback. Please try again.');\n                    }\n                  }\n                }}\n                disabled={!feedback.trim()}\n              >\n                Submit Feedback\n              </CustomButton>\n            </div>\n          </div>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  const canProceed = () => {\n    if (completedSteps.includes(currentStep)) {\n      return true;\n    }\n\n    if (validateStep) {\n      return validateStep(currentStep);\n    }\n\n    switch (currentStep) {\n      case 1: // What\n        return uploadedItems.length > 0;\n      case 2: // When\n        if (renderDetailsStep) {\n          return selectedDate && selectedTime;\n        }\n        return availableTimes.length >= 2; // Require at least 2 time slots\n      case 3: // Where\n        if (skipConfirmationStep) return false;\n        return contactInfo.fullName.trim().length > 0 && \n               (isValidEmail(contactInfo.contact) || isValidPhone(contactInfo.contact)) &&\n               address.trim().length > 0 && \n               Object.values(confirmations).every(value => value === true);\n      default:\n        return false;\n    }\n  };\n\n  const handleNext = async () => {\n    if (canProceed()) {\n      if (!completedSteps.includes(currentStep)) {\n        const newCompletedSteps = [...completedSteps, currentStep];\n        setCompletedSteps(newCompletedSteps);\n        if (onCompletedStepsChange) {\n          onCompletedStepsChange(newCompletedSteps);\n        }\n      }\n\n      if (currentStep === 3) {\n        setLoading(true);\n        try {\n          const fileUploadPromises = uploadedItems\n            .filter(item => item.selectedFiles && item.selectedFiles.length > 0)\n            .map(async (item) => {\n              const formData = new FormData();\n              (item.selectedFiles || []).forEach(file => {\n                formData.append('files', file);\n              });\n\n              const response = await fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL}/upload`, {\n                method: 'POST',\n                body: formData,\n              });\n\n              if (!response.ok) throw new Error('Upload failed');\n              const { fileUrls } = await response.json();\n              \n              return {\n                description: item.description,\n                fileUrls,\n                status: 'pending',\n              };\n            });\n\n          const processedItems = await Promise.all(fileUploadPromises);\n          \n          const result = await onSubmit({\n            fullName: contactInfo.fullName,\n            contact: contactInfo.contact,\n            items: processedItems,\n            availableTimes,\n            address\n          });\n\n          setRequestId(result.id);\n          clearLocalStorage();\n          setCurrentStep(4);\n        } catch (error) {\n          console.error('Error:', error);\n        } finally {\n          setLoading(false);\n        }\n      } else {\n        setCurrentStep(prev => prev + 1);\n      }\n    }\n  };\n\n  const handleNewRequest = () => {\n    setUploadedItems([]);\n    setAvailableTimes([]);\n    setAddress('');\n    setContactInfo({ fullName: '', contact: '' });\n    setConfirmations({\n      ownership: false,\n      terms: false,\n      liability: false,\n      marketing: false,\n    });\n    setCurrentStep(1);\n    setCompletedSteps([]);\n    clearLocalStorage();\n  };\n\n  const defaultSteps: ProgressStep[] = [\n    {\n      label: 'Item Photos',\n      description: 'Upload item photos to get started',\n      icon: Camera\n    },\n    {\n      label: 'Pickup Time',\n      description: 'Choose convenient pickup time slots',\n      icon: Calendar\n    },\n    ...(skipConfirmationStep ? [] : [{\n      label: 'Contact Info',\n      description: 'We\\'ll use your contact info to coordinate pickup details and keep you updated on status',\n      icon: UserCircle2\n    }])\n  ];\n\n  // Use provided steps or fall back to defaults\n  const formSteps = steps || defaultSteps;\n\n  return (\n    <div className={cn(\n      'bg-white rounded-2xl border-2 border-[#4B7163] p-6 pt-8',\n      className\n    )}>\n      {!isSuccessStep() && (\n        <div className=\"mb-12\">\n          <Progress\n            steps={steps || defaultSteps}\n            currentStep={currentStep}\n            completedSteps={completedSteps}\n            onStepClick={(step) => {\n              if (step < currentStep || \n                  (step > currentStep && completedSteps.includes(currentStep) && \n                   completedSteps.includes(step - 1))) {\n                setCurrentStep(step);\n              }\n            }}\n          />\n        </div>\n      )}\n\n    \n      <div className=\"mb-8\">\n        {currentStep === 4 ? (\n          <div className=\"flex items-center gap-3 mb-6\">\n            <div className=\"w-6 h-6 text-[#4B7163]\">\n              <CheckCircle2 />\n            </div>\n            <h2 className=\"font-rockwell text-2xl text-[#4B7163]\">\n              Request Summary\n            </h2>\n          </div>\n        ) : formSteps[currentStep - 1] ? (\n          <>\n            <div className=\"flex items-center gap-3 mb-6\">\n              {formSteps[currentStep - 1].icon && (\n                <div className=\"w-6 h-6 text-[#4B7163]\">\n                  {React.createElement(formSteps[currentStep - 1].icon)}\n                </div>\n              )}\n              <h2 className=\"font-rockwell text-2xl text-[#4B7163]\">\n                {formSteps[currentStep - 1].label}\n              </h2>\n            </div>\n            <p className=\"text-gray-600 mb-6\">\n              {formSteps[currentStep - 1].description}\n            </p>\n          </>\n        ) : null}\n        {renderStepContent()}\n      </div>\n\n   \n      <div className=\"mt-8 flex justify-end\">\n        {currentStep > 1 && !isSuccessStep() && (\n          <CustomButton\n            onClick={() => setCurrentStep(currentStep - 1)}\n            variant=\"secondary\"\n            className=\"mr-auto\"\n          >\n            Back\n          </CustomButton>\n        )}\n        \n        <CustomButton \n          variant=\"primary\"\n          className=\"next-button\"\n          disabled={!canProceed() || isSubmitting || loading}\n          onClick={handleNext}\n        >\n          {(isSubmitting || loading) \n            ? 'Submitting...' \n            : currentStep === 3 \n              ? 'Submit Request'\n              : 'Continue'}\n        </CustomButton>\n      </div>\n\n      <TermsOfService \n        isVisible={isTermsVisible} \n        onClose={() => setIsTermsVisible(false)} \n      />\n\n      <Privacy \n        isVisible={isPrivacyVisible} \n        onClose={() => setIsPrivacyVisible(false)} \n      />\n    </div>\n  );\n};","import React from 'react';\nimport { Check } from 'lucide-react';\nimport { cn } from '../lib/utils';\n\nexport interface ProgressStep {\n  label: string;\n  description: string;\n  icon: React.ComponentType<{ className?: string }>;\n}\n\ninterface ProgressProps {\n  steps: ProgressStep[];\n  currentStep: number;\n  onStepClick: (step: number) => void;\n  completedSteps?: number[];\n}\n\nexport const Progress = ({ steps, currentStep, onStepClick, completedSteps = [] }: ProgressProps) => {\n  return (\n    <div className=\"flex justify-between relative mb-16\">\n      {/* Make line thicker and more visible */}\n      <div className=\"absolute top-3 left-0 right-0 h-1 bg-gray-200\" />\n      <div \n        className=\"absolute top-3 left-0 h-1 bg-[#4B7163] transition-all duration-200\"\n        style={{ width: `${((currentStep - 1) / (steps.length - 1)) * 100}%` }}\n      />\n\n      {steps.map((step, index) => {\n        const StepIcon = step.icon;\n        const isCompleted = index + 1 < currentStep;\n        const isCurrent = index + 1 === currentStep;\n        const canClick = index + 1 < currentStep || \n                        (completedSteps.includes(currentStep) && \n                         completedSteps.includes(index));\n\n        return (\n          <div \n            key={index}\n            className={cn(\n              \"flex flex-col items-center relative\",\n              canClick ? \"cursor-pointer\" : \"cursor-not-allowed\",\n              isCurrent ? \"text-[#4B7163]\" : \n              isCompleted ? \"text-[#4B7163]\" : \"text-gray-400\"\n            )}\n            onClick={() => canClick && onStepClick(index + 1)}\n          >\n            {/* Make circle background more visible */}\n            <div \n              className={cn(\n                \"w-7 h-7 rounded-full flex items-center justify-center relative z-10\",\n                isCompleted || isCurrent ? \"bg-[#4B7163]\" : \"bg-white border-2 border-gray-200\"\n              )}\n            >\n              {isCompleted ? (\n                <Check className=\"w-4 h-4 text-white\" />\n              ) : (\n                <StepIcon className={cn(\n                  \"w-4 h-4\",\n                  isCurrent ? \"text-white\" : \"text-gray-400\"\n                )} />\n              )}\n            </div>\n            \n            {/* Make labels more visible */}\n            <div className={cn(\n              \"text-sm font-medium mt-2\",\n              isCompleted || isCurrent ? \"text-[#4B7163]\" : \"text-gray-400\"\n            )}>\n              {step.label}\n            </div>\n\n            {/* Improved tooltip */}\n            <div className=\"invisible group-hover:visible absolute -bottom-12 bg-[#4B7163] text-white text-xs rounded-lg px-3 py-2 whitespace-nowrap z-20 shadow-lg\">\n              {step.description}\n              {/* Add arrow */}\n              <div className=\"absolute -top-1 left-1/2 -ml-1 w-2 h-2 bg-[#4B7163] transform rotate-45\" />\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};","import * as React from 'react';\nimport { Modal } from '@/components/Modal';\nimport { cn } from '@/lib/utils';\nimport styles from './TermsOfService.module.css';\n\ninterface TermsOfServiceProps {\n  isVisible: boolean;\n  onClose: () => void;\n  className?: string;\n}\n\nexport default function TermsOfService({ \n  isVisible, \n  onClose,\n  className \n}: TermsOfServiceProps) {\n  if (!isVisible) return null;\n  \n  return (\n    <Modal onClose={onClose} className={cn(\"p-6\", className)}>\n      <div className=\"terms-content\">\n        <h2>Gone Technologies Inc. Terms of Service</h2>\n        \n        <section>\n          <p>Welcome to the Gone Technologies Inc. d/b/a \"Gone\" (\"Gone,\" \"We,\" or \"Us\") Terms of Service (the \"Terms\"). Please read these Terms carefully because they govern your use of our website gone.com and our gone mobile application, and any of our other services and products available at or through the website or mobile application (collectively \"Services\"). Please read the Terms carefully. If you have any questions, contact us at support@gone.com.</p>\n          <p>At Gone we offer a unique way for our \"users\" to dispose of their household reusable goods with just a simple request for pick up. You reach out to us via phone, or text and send a picture of your reusable goods. We'll then send you a calendar invite to select a time for pick up. After the date, address, and time are confirmed, your goods will be hauled away as scheduled. You may cancel at anytime prior to pick up.</p>\n          <p>After we pick up the items, Gone reserves the right to dispose of the items or resell the items at our discretion. No compensation is paid to the household. Instead, our value is the removal of unwanted items from your home, which is subject to your agreement and compliance with these Terms including, without limitation, waiver of the claims below.</p>\n          <p>Not all items are available for pick up. Please review our policies for approved household items.</p>\n        </section>\n\n        <section>\n          <h3>Agreement to Terms</h3>\n          <p>By accessing or using any portion of our Services, you agree to comply with and be bound by these Terms. These Terms apply to you regardless of whether you are a \"User\" (meaning, you have created an account with us) or are a \"Visitor\" (meaning, you are using or viewing the Service but have not created an account). The term \"You,\" \"Your,\" or \"User\" refers to both Users and Visitors.</p>\n          <p>The Service is for personal, non-commercial use. You agree that you are using the Service for personal use only and not are not using the Service for or on behalf of any third-party, or for any commercial purpose.</p>\n        </section>\n\n        <section>\n          <h3>User Conduct</h3>\n          <p>You Agree NOT to:</p>\n          <ul>\n            <li>use language or transmit content that may be considered offensive or profane to our team or users. This includes profanity and offensive images, or other media containing obscene, sexually explicit, or excessively violent content.</li>\n            <li>harass or threaten other our team or users. Harassing behavior and language includes insults, ethnic or homophobic slurs, defamatory statements, invasive statements that may infringe on a user's privacy, or the transmission or sharing of any content that may cause our team or user to experience ridicule, threat, or discomfort.</li>\n            <li>submit material that violates a third party's proprietary rights, including privacy and publicity rights, or that otherwise violates any applicable law;</li>\n            <li>publish falsehoods or misrepresentations that could damage us, our users, or any third party;</li>\n            <li>publish any private information of someone (like their address or phone number) without their permission;</li>\n            <li>submit material that is unlawful, obscene, defamatory, libelous, threatening, pornographic, harassing, hateful, racially or ethnically offensive, or encourages conduct that would be considered a criminal offense, give rise to civil liability, violate any law, or is otherwise inappropriate;</li>\n            <li>post advertisements;</li>\n            <li>impersonate another person or represent yourself as affiliated with us, our staff, or other industry professionals;</li>\n            <li>harvest user's names, addresses, or email addresses for any purpose.</li>\n          </ul>\n          <p>This list is an example and is not intended to be complete or exhaustive. We don't have an obligation to monitor your access to, or use of, the Services, but we reserve the right to do so for the purpose of operating the Services, to ensure your compliance with these Terms, or to comply with applicable law or the order or requirement of a court, administrative agency, or other governmental body. We reserve the right, at any time and without prior notice, to revoke your use our services, in our sole discretion, if we believe your actions are in violation of these Terms or otherwise harmful to our business.</p>\n          <p>You can remove your content by specifically deleting it. However, in certain instances, some of your Content (such as images of items shared) may not be completely removed, or may not be removable (audible content), and copies of your Content may continue to exist on the Services. We are not responsible or liable for the removal or deletion of (or the failure to remove or delete) any of the Content.</p>\n        </section>\n\n        <section>\n          <h3>Our Content</h3>\n          <p>Subject to your compliance with these Terms, We grant you a limited, non-exclusive, non-transferable, non-sublicenseable license to access and view our content (\"Our Content\") solely in connection with your permitted use of the Services. For the purposes of these Terms, Our Content shall include all text, graphics, images, site and screen layouts, arrangements and themes, music, software, audio, video, works of authorship by us or our affiliates of any kind, and information or other materials that are posted or generated by us or our affiliates.</p>\n          <p>You have the right to view and access Our Content. However, you may not copy, borrow, modify, or otherwise reproduce, and must immediately cease using, copying, borrowing, modifying, or otherwise reproducing any site and screen layouts, arrangements and themes provided through this Service. At no time is any Member permitted to: (i) transfer, sublicense, sell, lease, lend, rent, or otherwise distribute Our Content or the Services to a third party; (ii) decompile, reverse-engineer, disassemble, or create derivative works of the Services or any Our Content; or (iii) use the Services or Our Content in any unlawful manner, for any unlawful purpose, or in any manner inconsistent with these Terms.</p>\n        </section>\n\n        <section>\n          <h3>Intellectual Property</h3>\n          <p>The Services contain material that may be protected by United States and international copyright, trademark, and other proprietary information, including, but not limited to, audio, video, graphic, photographic and text information, and all Our Content. We, and any of our licensors, exclusively own all right, title and interest in, and to the Services and Our Content, including all associated intellectual property rights. You acknowledge that the Services and Our Content are protected by copyright, trademark, and other laws of the United States and foreign countries. You agree not to remove, alter, or obscure any copyright, trademark, service mark, or other proprietary rights or notices incorporated in or accompanying the Services and Our Content. Further, you may not modify, distribute, publish, transmit, publicly display, publicly perform, participate in the transfer or sale, create derivative works of, or in any way exploit any of the Our Content, in whole or in part. Any violation of these restrictions may result in intellectual property infringement that may subject you to civil and/or criminal penalties. You will be solely liable for any damage resulting from any infringement of copyrights, trademarks, proprietary rights or any other harm resulting from a submission of information protected by intellectual property rights in a third party, if such submission is made without express permission of the intellectual property rights holder.</p>\n        </section>\n\n        <section>\n          <h3>DMCA/Copyright Policy</h3>\n          <p>We respect copyright law and expect our users to do the same. It is our policy to terminate access in appropriate circumstances to users who repeatedly infringe the rights of copyright holders.</p>\n          \n          <p>The Digital Millennium Copyright Act of 1998 (the \"DMCA\") provides recourse for copyright owners who believe that material appearing on the Internet infringes their rights under U.S. copyright law. If you believe in good faith that Content infringes your copyright, you (or your agent) may send us a notice requesting that the Content be removed or access to it blocked. Federal law requires that your notification include the following information:</p>\n          \n          <ul>\n            <li>(i) a physical or electronic signature of a person authorized to act on behalf of the owner of an exclusive right that is allegedly infringed;</li>\n            <li>(ii) identification of the copyrighted work claimed to have been infringed or, if multiple copyrighted works at a single online site are covered by a single notification, a representative list of such works at that site;</li>\n            <li>(iii) identification of the material that is claimed to be infringing or to be the subject of infringing activity and that is to be removed or access to which is to be disabled and information reasonably sufficient to permit us to locate the material;</li>\n            <li>(iv) information reasonably sufficient to permit us to contact you, such as an address, telephone number, and, if available, an electronic mail;</li>\n            <li>(v) a statement that you have a good faith belief that use of the material in the manner complained of is not authorized by the copyright owner, its agent, or the law;</li>\n            <li>(vi) a statement that the information in the notification is accurate, and under penalty of perjury, that you are authorized to act on behalf of the owner of an exclusive right that is allegedly infringed.</li>\n          </ul>\n\n          <p>The notification must be sent to:</p>\n          <p>[COMPANY ADDRESS]</p>\n          \n          <p>We provide the above contact information for purposes of the DMCA only and reserve the right to respond only to correspondence that is relevant to this purpose.</p>\n        </section>\n\n        <section>\n          <h3>Links and Advertisements of Third Party Websites, Apps, or Resources</h3>\n          <p>The Services may contain links to or advertisements of third-party websites, applications or resources that are not affiliated with you, other users, or our Services. We are not responsible for the content, products or services on or available from those advertisements, websites, resources or links displayed on such sites. You acknowledge sole responsibility for and assume all risk arising from your use of any third-party websites or resources. The terms and privacy policies of these third party websites, applications, or resources govern your use of those services.</p>\n        </section>\n\n        <section>\n          <h3>Indemnity</h3>\n          <p>You agree to defend, indemnify and hold harmless us, or our officers, directors, employees and agents, from and against any and all claims, damages, obligations, losses, liabilities, costs, debts, or expenses (including but not limited to attorneys' fees), to the extent allowed by applicable law, that arise from or are caused by:</p>\n          <ul>\n            <li>(i) your use of and access to the Services;</li>\n            <li>(ii) your violation of these Terms;</li>\n            <li>(iii) your violation of any third party right, including without limitation any copyright, property, moral or privacy right;</li>\n            <li>(iv) any claim that your Content caused damage to any third party.</li>\n          </ul>\n          <p>This section shall survive these Terms and your use and termination of the Services.</p>\n        </section>\n\n        <section>\n          <h3>Termination</h3>\n          <p>We may terminate your access to and use of the Services at our sole discretion, at any time and without notice to you. Upon any termination, discontinuation or cancellation of Services, all provisions of these Terms which by their nature should survive will survive, including, without limitation, ownership provisions, indemnification, warranty disclaimers, limitations of liability, and dispute resolution provisions.</p>\n        </section>\n\n        <section>\n          <h3>Warranty Disclaimers</h3>\n          <p className=\"warranty-disclaimer\">THE SERVICES AND CONTENT ARE PROVIDED \"AS IS,\" WITHOUT WARRANTY OF ANY KIND. WITHOUT LIMITING THE FOREGOING, WE EXPLICITLY DISCLAIM ANY WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT, AND ANY WARRANTIES ARISING OUT OF COURSE OF DEALING OR USAGE OF TRADE. WE MAKE NO WARRANTY THAT THE SERVICES WILL MEET YOUR REQUIREMENTS OR BE AVAILABLE ON AN UNINTERRUPTED, SECURE, OR ERROR-FREE BASIS. WE MAKE NO WARRANTY REGARDING THE QUALITY, ACCURACY, TIMELINESS, TRUTHFULNESS, COMPLETENESS OR RELIABILITY OF ANY CONTENT.</p>\n        </section>\n\n        <section>\n          <h3>Accounts</h3>\n          <p>You don't need to create an account to use our services. We engage directly with you at your request. However, when you engage with us you represent that you are eighteen (18) years or older and are not barred from using the Services under applicable law.</p>\n          <p>You agree not to use the Services under the name of another person with the intent to impersonate that person. You must be a human to use the Services and an automated account is not allowed. \"Robot\" (or automatic) activity is not allowed. This policy also applies beyond Account creation to the general use of the Services.</p>\n          <p>We reserve the right to suspend or terminate your access to our Services and/or your Account if any information provided during the registration process or thereafter proves to be inaccurate, false, or misleading. You are solely responsible for activities that occur under your Account.</p>\n        </section>\n\n        <section>\n          <h3>Feedback</h3>\n          <p>We welcome feedback, comments, and suggestions for improvements to the Services. You can submit feedback by emailing us at the contact email listed above. You grant to us a non-exclusive, worldwide, perpetual, irrevocable, fully-paid, royalty-free, sublicensable, and transferable license under any and all intellectual property rights that you own or control to use, copy, modify, create derivative works based upon, and otherwise exploit the feedback for any purpose.</p>\n        </section>\n\n        <section>\n          <h3>Privacy Policy</h3>\n          <p>Your privacy is important to us. Please review our Privacy Policy for information about the data we may collect and use. Our Privacy Policy is incorporated in these Terms, and is available at [WEBSITE LINK PRIVACY POLICY].</p>\n        </section>\n\n        <section>\n          <h3>Your Content</h3>\n          <p>For purposes of these Terms: \"Content\" means text, photos, graphics, images, audio, video, and information or other materials that are texted, emailed, shared, posted, generated, provided, or otherwise made available to us through the Services. \"Goods\" refers to the consumer household item that you are requesting to remove and/or that may appear in the Content shared.</p>\n          <p>You are responsible for the Content and Goods that you share within the Services, including its legality, reliability, and appropriateness. We only take responsibility for the Goods once its loaded on to our truck.</p>\n          <p>You represent and warrant that:</p>\n          <ul>\n            <li>(i) the Content and Goods are yours (e.g. its your stuff in your household and your own photo) or you have the right to share it and grant us the rights and license as provided in these Terms,</li>\n            <li>(ii) the sharing of the Content on or through the Services does not violate the privacy rights, publicity rights, copyrights, contract rights, or any other rights of any person,</li>\n            <li>(iii) you have the right to engage us to pick up the Goods</li>\n            <li>(iv) you are the current owner of all right, title, and interest in the Goods and holds them free and clear of all liabilities, liens, encumbrances, pledges, restrictions on transfer or other charges (\"Liens\")</li>\n            <li>(v) upon transfer of the Good to Gone, Gone will acquire good and marketable title to the goods, free and clear of any liens</li>\n            <li>(vi) the Goods correspond with the description you provide us</li>\n            <li>(vii) the Goods will be of satisfactory condition</li>\n            <li>(viii) as consideration in full for removing the Goods from your household, you transfer ownership of the goods to Gone upon pick up.</li>\n          </ul>\n          <p>Gone shall not be liable for a breach of any warranty above unless User gives written notice of the defect to Gone at least 3 days prior to the date of pick up. If the goods do not conform with any of the warranties, Gone shall within 7 days of pick up have the option to return the goods to User at User's expense.</p>\n          <p>We do not claim any ownership rights in any Content that you make available through the Services and nothing in these Terms will be deemed to restrict any rights that you may have to use and exploit your own Content. However, you grant us a non-exclusive, non-transferable, non-sublicenseable, worldwide license to use any Content submitted by you in relation to the Services, including the promotion and advertisement of Services. We take ownership of the goods at the time of pick up. We reserve the right to store, sell, dispose, trade, or take any other action with the goods at our discretion.</p>\n        </section>\n\n        <section>\n          <h3>WAIVER OF CLAIMS</h3>\n          <p>As a User of our service you hereby acknowledge the risks associated with engaging with our Services to enter your home and remove your unwanted household items. You accept and assume full responsibility for any and all injuries, damages, or losses of any type, which may occur in the process of picking up and hauling your household items. You hereby fully and forever release and discharge us, our affiliates, our insurers, employees, officers, and directors from any and all claims, demands, damages, rights of action, or causes of action, whether present or in the future, whether known or unknown, anticipated, or unanticipated, resulting from or arising out of your use of our Services.</p>\n        </section>\n\n        <section>\n          <h3>Changes to Terms or Services</h3>\n          <p>We may modify the Terms and our Services at any time, in our sole discretion. If we do so, we will let you know by email or by posting notice on the website or via a notification in the App. It's important that you review the Terms whenever we modify them because continuing to use the Services after we have posted modified Terms on the Site indicates to us that you agree to be bound by the modified Terms. If you don't agree to be bound by the modified Terms, then please discontinue use of the Services immediately. Because our Services are evolving over time we may change or discontinue all or any part of the Services at any time, and without notice to you, at our sole discretion.</p>\n        </section>\n\n        <section>\n          <h3>Limitation of Liability</h3>\n          <p className=\"liability-disclaimer\">\n            NEITHER WE NOR ANY OTHER PARTY INVOLVED IN CREATING, PRODUCING, OR DELIVERING THE SERVICES OR CONTENT WILL BE LIABLE FOR ANY INCIDENTAL, SPECIAL, EXEMPLARY OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS, LOSS OF DATA OR GOODWILL, SERVICE INTERRUPTION, MOBILE DAMAGE OR SYSTEM FAILURE OR THE COST OF SUBSTITUTE SERVICES ARISING OUT OF OR IN CONNECTION WITH THESE TERMS OR FROM THE USE OF OR INABILITY TO USE THE SERVICES OR CONTENT, WHETHER BASED ON WARRANTY, CONTRACT, TORT (INCLUDING NEGLIGENCE), PRODUCT LIABILITY OR ANY OTHER LEGAL THEORY, AND WHETHER OR NOT WE HAS BEEN INFORMED OF THE POSSIBILITY OF SUCH DAMAGE, EVEN IF A LIMITED REMEDY SET FORTH HEREIN IS FOUND TO HAVE FAILED OF ITS ESSENTIAL PURPOSE.\n          </p>\n          <p className=\"liability-disclaimer\">\n            IN NO EVENT WILL OUR TOTAL LIABILITY ARISING OUT OF OR IN CONNECTION WITH THESE TERMS OR FROM THE USE OF OR INABILITY TO USE THE SERVICES OR CONTENT EXCEED ONE HUNDRED DOLLARS ($100).\n          </p>\n        </section>\n\n        <section>\n          <h3>Dispute Resolution</h3>\n          <p>We prefer to resolve things amicably when possible; therefore, you agree to the following dispute resolution policy in connection with any potential claims or disputes arising from your use of the Application. Start by notifying us of your dispute by sending a notice to the contact email address listed above.</p>\n          \n          <ol type=\"a\">\n            <li><strong>Informal Negotiations:</strong> Parties to a dispute concerning the Terms, the Privacy Policy, or the use of the Services will attempt to informally negotiate a potential settlement or resolution to the dispute;</li>\n            \n            <li><strong>Arbitration:</strong> In the event that informal negotiations are unsuccessful, the parties agree to follow the arbitration procedures set forth by the American Arbitration Association (AAA) to resolve the dispute.</li>\n            \n            <li><strong>Binding Arbitration:</strong> If for any reason arbitration is unsuccessful or unavailable to the parties, parties agree to submit to binding arbitration in the jurisdiction of the State of Washington. Each of us is responsible for paying our own filing, administrative and arbitrator fees. Judgment on the arbitration award may be entered in any court having jurisdiction thereof.</li>\n          </ol>\n        </section>\n\n        <section>\n          <h3>Entire Agreement</h3>\n          <p>These Terms constitute the entire and exclusive understanding and agreement between us and you. These Terms supersede and replace any and all prior oral or written understandings or agreements between us. If for any reason a court of competent jurisdiction finds any provision of these Terms invalid or unenforceable, that provision will be enforced to the maximum extent permissible and the other provisions of these Terms will remain in full force and effect.</p>\n          \n          <p>You may not assign or transfer these Terms, by operation of law or otherwise, without our prior written consent. Any attempt by you to assign or transfer these Terms, without such consent, will be null and of no effect.</p>\n          \n          <p>Any notices or other communications provided by us under these Terms, including those regarding modifications to these Terms, will be given by us (i) via email; or (ii) by posting to the Services. For notices made by email, the date of receipt will be deemed the date on which such notice is transmitted.</p>\n          \n          <p>Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. The waiver of any such right or provision will be effective only if in writing and signed by a duly authorized representative of us. Except as expressly set forth in these Terms, the exercise by either party of any of its remedies under these Terms will be without prejudice to its other remedies under these Terms or otherwise.</p>\n        </section>\n\n        <section>\n          <h3>Questions & Contact Information</h3>\n          <p>If you have any questions regarding these Terms, please contact us at support@gone.com</p>\n        </section>\n      </div>\n    </Modal>\n  );\n}\n","import { initializeApp } from 'firebase/app';\nimport { getFirestore } from 'firebase/firestore';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDEtOjh0x7nTwlFdJaQAvgg1_1dpKfiz9g\",\n  authDomain: \"pickup-436017.firebaseapp.com\",\n  projectId: \"pickup-436017\",\n  storageBucket: \"pickup-436017.appspot.com\",\n  appId: \"1:990800642935:web:9e965fd4d9c9cf50505772\",\n  measurementId: \"G-TGRV39M2JC\"\n};\n\nconst app = initializeApp(firebaseConfig);\nexport const db = getFirestore(app);\n","import * as React from 'react';\nimport { Modal } from '@/components/Modal';\nimport { cn } from '@/lib/utils';\n\ninterface PrivacyProps {\n  isVisible: boolean;\n  onClose: () => void;\n  className?: string;\n}\n\nexport default function Privacy({ \n  isVisible, \n  onClose,\n  className \n}: PrivacyProps) {\n  if (!isVisible) return null;\n\n  return (\n    <Modal onClose={onClose} className={cn(\"p-6\", className)}>\n      <div className=\"privacy-content\">\n        <h2>Privacy Policy</h2>\n\n        <section>\n          <p>Your privacy is important to us. At Gone Technologies Inc. d/b/ Its Gone Now (\"Gone\", \"we\", \"us\", or \"our\"), we have a few fundamental principles:</p>\n          <ol>\n            <li>We don't and won't ask you for personally identifying information unless we need it and you have the opportunity to review your options. To make this Privacy Policy easier to read, www.itsgonenow.com and our associated products and services are collectively referenced as \"Services\" throughout this policy.</li>\n            <li>We don't share your personally identifying information, with anyone, except as needed, to provide service support, to comply with the law, or to protect our rights.</li>\n            <li>This service does not require you to enter any information to view the website or the products and services. You do have the option to fill in the information to make a request to receive more information or a demo. This information is only used to connect with you about working with Gone. We do not share this information with anyone or use it for any other purposes. The limited information collected is governed by this policy.</li>\n            <li>If you are a customer of Gone, this Privacy Policy governs the limited personal information that you share in order to set up an account and access our tools, products, dashboard, and other services in accordance with our Terms of Service.</li>\n          </ol>\n          \n          <p>Please note, that this Privacy Policy does not apply to the privacy practices of third parties whose links may appear on or through the Services. We are not responsible for the content or privacy practices of third parties or other users. We recommend that you exercise caution before you voluntarily disclose personally identifiable information to other users, on publicly accessible or displayable parts of the Service, or through third-party links on third-party websites or platforms.</p>\n        </section>\n\n        <section>\n          <h3>I. What is Personal Information and What types of Personal Information do we collect?</h3>\n          <ol>\n            <li>For purposes of this policy, \"personal information\" is information about an individual that can be used to reasonably identify that individual.</li>\n            <li>We only collect limited personal information to respond to your queries, deliver our Services, provide support or as otherwise described in this policy. We limit our collection of data to first name, last name, address, phone number and email address in addition to the consumer data listed below.</li>\n          </ol>\n        </section>\n\n        <section>\n          <h3>II. INFORMATION COLLECTION AND USE</h3>\n          \n          <h4>1. Business Operation</h4>\n          <p>In general, we collect, use and disclose information for purposes connected with our business operations. This includes providing our products and services, enabling proper operation and functionality, improving our products and services, verifying addresses, coordinating vendors, managing support concerns, marketing purposes, and other related business purposes. You are not required to provide any personal information however, you will not receive the full value of our services without this information.</p>\n          \n          <h4>2. Email Addresses</h4>\n          <p>We do not and will not send spam, sell or rent your email address or any social media login account information to third parties. We do utilize third party marketing tools to support our marketing activities as described below. With your permission, we do coordinate with third party partners who are licensed and bonded to provide pick up services at your address. We do not disclose, sell, share, trade or give away a user's personal information to any third parties. We may email users directly to connect, updates, or other reasons related to your interest in our product or services.</p>\n          \n          <h4>3. Marketing</h4>\n          <p>We may contact you with marketing and promotional information (in accordance with your marketing preferences) about products and services that we offer and to send you information regarding us. We use _________ for this purpose and you can review their privacy policy here. See below \"Objections and Restrictions\" for information about how you can opt-out of receiving marketing communications from us at any time.</p>\n          \n          <h4>4. Logging Statistics</h4>\n          <p>Like most website operators, our servers automatically collect certain types of non-personally identifying, technical information, such as the browser type, language preference, referring site, and the date and time of each visitor request. This includes information such as:</p>\n          <ul>\n            <li>What website you came from to get here;</li>\n            <li>What portions of our website you access;</li>\n            <li>How long you stay for; and</li>\n            <li>What kind of device you're using</li>\n          </ul>\n          <p>We use this information to better understand how our visitors use our website and to maintain Services.</p>\n          \n          <h4>5. Location Information & IP Addresses</h4>\n          <p>We collect very limited personal data. If you fill out a form with your name and email address, we do link the IP address and device information to you. Additionally, we collect IP address and convert it to location for (1) security monitoring (2) supporting some features, such as IP whitelisting, country level location whitelisting, and (3) Delivering location based help and website details.</p>\n          \n          <h4>6. Locale Preferences and Device Information</h4>\n          <p>When you use our services or products, we may automatically collect certain information from your device, its software, and your activity using our services or products. This may include information you search for on our website, locale preferences, identification numbers associated with your devices, your mobile carrier, date and time stamps associated with transactions, metadata, your Internet Service Provider, files viewed on our site, operating system, and clickstream data.</p>\n\n          <h4>7. Data Aggregation</h4>\n          <p>In addition to the other uses described in this policy, you agree that we may extract and use information from the information you disclose for the purposes of aggregating data in a non-identifiable method. This aggregated data may be used internally to improve services or without limitation, to develop, analyze, combine, or publish the aggregated data for commercial purposes.</p>\n\n          <h4>8. Cookies</h4>\n          <p>Your use of certain of the services may result in the assignment and storage of session cookies by Gone and analytics tools to recognize your access privileges and generally track user preferences. A cookie is a text file that is placed on the hard disk of your computer or mobile device by a server. Session cookies expire when you end your session and close your browser interface. Cookies cannot be used to run programs or deliver viruses to your computer or mobile device. Cookies are uniquely assigned to you and can only be read by a server in the domain that issued the cookie to you. Visitors who do not wish to have cookies placed on their computers or mobile devices should deny Cookies by configuring their respective browsers to do so. If Cookies are denied, certain features of our services may not function properly.</p>\n\n          <h4>9. Social Media Widgets</h4>\n          <p>Our website includes social media features, such as the Facebook like button and widgets, such as the \"Share This\" and button for X. These features may collect your IP address and the page you are visiting on our site, and they may set a cookie to enable the feature to function properly. Social media features and widgets are either hosted by a third party or hosted directly on our site. Your interactions with these features are governed by the privacy policy of the company providing it.</p>\n\n          <h4>10. How We Share Your Information</h4>\n          <p>Gone takes all measures reasonably necessary to protect against the unauthorized access, use, alteration or destruction of potentially personally identifying information.</p>\n          <p>Gone discloses potential personally identifying information only on an as needed (or required) basis as follows:</p>\n          <ul>\n            <li>To our personnel that: (i) need to know that information in order to process it on our behalf or to provide the services; and (ii) that have expressly agreed not to disclose it to others. Note* Some of those employees, and contractors may be located outside of your home country; by using the services you consent to the transfer of such information to them.</li>\n            <li>As required by law such to comply with a subpoena or similar legal process. To the extent we are legally permitted to do so, we will take commercially reasonable steps to notify you if we are required to provide your personal information to third parties as part of a legal process.</li>\n            <li>When we believe in good faith that disclosure is necessary to protect our rights, protect your safety or the safety of others, investigate fraud, or respond to a written government request.</li>\n            <li>In the event of a merger, acquisition, or any form of sale of some or all of Gone's assets, we will ensure that the acquiring organization agrees to protect personal information in accordance with the commitments we have made in this Privacy Notice, and that the acquiring organization will provide notice before personal information, customer information, or business information becomes subject to a different privacy notice.</li>\n            <li>To any other third party with your prior consent to do so. We do not generally sell your personal information to third parties.</li>\n          </ul>\n        </section>\n\n        <section>\n          <h3>III. ACCESSING AND UPDATING YOUR PERSONAL INFORMATION; SECURITY</h3>\n          \n          <h4>1. Communications</h4>\n          <p>If you have provided an email with us for access and use of our services, we may occasionally send you an email to tell you about new features, solicit your feedback, or just keep you up to date with what's going on with Gone and our services. We primarily use our various product blogs and support documentation to communicate this type of information, so we expect to keep this type of email to a minimum.</p>\n          \n          <h4>2. Third-Party Services</h4>\n          <p>We use various third-party services to create the best experience for users, to deliver on certain logistics services, and for improving existing products and services. Some third party services use cookies or similar technologies to analyze trends, administer the website, track users' movements around the website, and to gather demographic information about our user base as a whole. You can control the use of cookies at the individual browser level, but if you choose to disable cookies, it may limit your use of certain features or functions on our website or service. We use Amazon Web Services to store information and host services. We use various third-party services that collect and analyze information about your use of our site. Among others, we use Google Analytics for website use and traffic analysis. We also use various services to ensure user success and improved relationship management.</p>\n          \n          <h4>3. Security, Data Storage & Retention</h4>\n          <p>To prevent unauthorized access, safeguard data accuracy, and maintain the appropriate use of information, we have put in place appropriate physical, technical, and administrative procedures to protect the personal information data you submit. We make every effort to ensure the integrity and security of our network and systems. However, since the Internet is not 100% secure and as new technology evolves and emerges, we cannot guarantee that our security measures will prevent third-party interferences from illegally obtaining or tampering with your personal information.</p>\n          <p>We encourage you to help us by also taking precautions to protect your personal data when you use the services. Change your account password often, using a combination of letters, numbers, and characters, and make sure you use a secure connection. We also recommend enabling two-factor authentication for signing into your account.</p>\n          <p>Gone will retain your personal information for as long as needed for the purposes described above and/or as required by law. A user may request access to certain data about themselves by emailing privacy@Gone.com</p>\n        </section>\n\n        <section>\n          <h3>IV. YOUR RIGHTS UNDER THE CCPA (EXTENDED TO ALL USERS)</h3>\n          <p>The California Consumer Privacy Act (CCPA) and some other state laws provide you with fundamental rights. Due to our commitment to privacy, we have extended those data subject rights to persons in all jurisdictions.</p>\n          \n          <ol type=\"A\">\n            <li>Right to be forgotten (\"Right to Erasure\") This right provides you with the ability to ask for the deletion of your data. This will generally apply to situations where a customer relationship has ended. It is important to note that this is not an absolute right and depends on our retention schedule and retention period in line with other applicable laws.</li>\n            <li>Right to know how we are processing your information (\"Right to Information\") This right provides that you may ask us for information about what personal data is being processed and the rationale for such processing. For example, you may ask for the list of processors with whom we share your personal data.</li>\n            <li>Right to view the information we have collected about you (\"Right to Access\"). This right provides you with the ability to get access to your personal data that is being processed. This request provides the you with the right to see or view your own personal data, as well as to request copies of the personal data.</li>\n            <li>Right to rectification. This right provides you with the ability to ask for modifications to your personal data in case you believe that this personal data is not up to date or not accurate.</li>\n            <li>Right to withdraw consent. This right provides you with the ability to withdraw a previously given consent for processing of your personal data for a purpose.</li>\n            <li>Right to object to processing your information (\"Right to object\"). This right allows you to object to certain types of data processing. These are:\n              <ul>\n                <li>Direct marketing</li>\n                <li>The processing of personal data for statistical purposes related to historical or scientific research</li>\n                <li>The processing of data for tasks in the public interest</li>\n                <li>The exercising of official authority invested in you</li>\n                <li>Objections to data processing in yours or a third party's legitimate interest</li>\n                <li>Objections to data processing based on your own beliefs and situations</li>\n              </ul>\n            </li>\n            <li>Right to data portability. This right provides you with the ability to ask for transfer of your personal data. As part of such request, you may ask for your personal data to be provided back to you in a machine-readable electronic format or, if technically feasible, transferred to another service provider.</li>\n            <li>Right to Limit Use and Disclosure of Sensitive Personal Information. You have the right, at any time, to direct us (as a business that collects sensitive personal information about you) to limit our use of your sensitive personal information to that use which is necessary to perform the services expected. If you would like to exercise any of the above rights, please contact our support team at support@Gone.com</li>\n          </ol>\n        </section>\n\n        <section>\n          <h3>V. ADDITIONAL TERMS; CHANGES AND CONTACT</h3>\n          \n          <h4>1. Privacy Of Minors</h4>\n          <p>We do not promote or offer the Services for use by anyone under the age of 18 (\"minors\"). Gone does not knowingly solicit or collect personal information from minors, and we will not knowingly link to any third-party website or platform, or host any customer sites that solicit or collect personal information from minors. If you believe that a minor has disclosed personal information to us or that we have linked to such a third-party or user website or platform, please contact us at privacy@Gone.com</p>\n          \n          <h4>2. Additional Information for International Users</h4>\n          <p>If you are visiting this website and/or accessing the Services from outside the United States, please be aware that you are sending information (including Personal Information) to the United States where Gone servers are located. This information may be transferred within the United States or back out of the United States to other countries outside of your country of residence, depending on the type of information and how its stored by us. These countries (including the United States) may not necessarily have data protection laws as comprehensive or protective as those in your country of residence, however, our collection, storage and use of your personal information will at all times be governed by this Privacy Policy. Notwithstanding the foregoing, this service is not available to international users.</p>\n          \n          <h4>3. Business Transfers</h4>\n          <p>If the ownership of Gone substantially changes, such that all of its assets were acquired, or merged into another entity, or in the unlikely event that Gone enters bankruptcy, you understand that any stored personally identifying, and non-personally identifying information and data will likely be one of the assets that is transferred or acquired by a third party. You acknowledge that such transfers may occur and that any acquirer or merging entity of Gone may continue to use your personal information as set forth in this policy.</p>\n          \n          <h4>4. Privacy Policy Changes</h4>\n          <p>We may update this Privacy Policy to reflect changes to our information practices. If we make any change in how we use your personal data we will notify you by email (specified upon registration), or we will notify you by means of a notice on this page prior to the change becoming effective. We encourage you to periodically review this page for the latest information on our privacy practices.</p>\n          \n          <h4>5. Contact Gone</h4>\n          <p>If you have any questions or suggestions regarding this Privacy Policy, please contact Gone via email at support@Gonedigital.com.</p>\n          \n          <h4>6. Contact appropriate authority</h4>\n          <p>Should you wish to report a complaint or if you feel that we have not addressed your concern in a satisfactory manner, you have the right to contact a regulatory body or data protection authority in relation to your complaint</p>\n        </section>\n      </div>\n    </Modal>\n  );\n};\n","'use client';\n\nimport React, { useState } from 'react';\nimport { SwipeCard } from './SwipeCard';\nimport { CustomButton } from './CustomButton';\nimport { Mail, Phone, Calendar, MapPin, X, Check, MessageCircle } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { MessageThread } from './MessageThread';\nimport { PickupRequest } from '@/types/PickupRequest';\nimport { PickupItem } from '@/types/PickupItem';\nimport { Message } from '@/types/Message';\n\ninterface PickupRequestManagerProps {\n  pickupRequests: Array<{\n    id: string;\n    items: Array<{\n      id: string;\n      name: string;\n      status: 'pending' | 'verified' | 'incorrect' | 'picked_up';\n      imageUrl: string;\n      description: string;\n      availableDates: Array<{\n        date: string;\n        requestCount: number;\n      }>;\n      location: string;\n      pickupPhoto: string;\n      pickupDate: Date;\n      pickupAddress: string;\n      customerName: string;\n      customerEmail: string;\n      customerPhone: string;\n      messages: Message[];\n      address: string;\n    }>;\n    messages: any[];\n    status: 'pending' | 'verified' | 'incorrect' | 'picked_up';\n    customerName: string;\n    customerEmail: string;\n    customerPhone: string;\n    address: string;\n    pickupPhoto: string;\n    pickupDate: Date;\n    pickupAddress: string;\n  }>;\n  onAcceptRequest: (id: string) => void;\n  onRejectRequest: (id: string) => void;\n  onUpdateStatus: (id: string, status: string) => void;\n  onSendMessage: (id: string, message: string) => void;\n  onMessageRead?: (requestId: string, messageId: string) => void;\n  className?: string;\n}\n\nexport const PickupRequestManager = ({\n  pickupRequests,\n  onAcceptRequest,\n  onRejectRequest,\n  onUpdateStatus,\n  onSendMessage,\n  onMessageRead,\n  className\n}: PickupRequestManagerProps) => {\n  const [currentRequestIndex, setCurrentRequestIndex] = useState(0);\n  const [items, setItems] = useState(pickupRequests[currentRequestIndex].items);\n  const [newMessage, setNewMessage] = useState('');\n  const [isMessagesExpanded, setIsMessagesExpanded] = useState(false);\n  \n  const unreadCount = pickupRequests[currentRequestIndex].messages.filter(msg => !msg.isRead).length;\n  const lastMessage = pickupRequests[currentRequestIndex].messages[pickupRequests[currentRequestIndex].messages.length - 1];\n  const lastMessageTime = lastMessage \n    ? new Intl.RelativeTimeFormat('en').format(\n        Math.ceil((lastMessage.timestamp.getTime() - Date.now()) / (1000 * 60 * 60 * 24)),\n        'days'\n      )\n    : null;\n\n  const handleSwipe = (direction: 'left' | 'right', item: any) => {\n    if (direction === 'right') {\n      onAcceptRequest(pickupRequests[currentRequestIndex].id);\n    } else {\n      onRejectRequest(pickupRequests[currentRequestIndex].id);\n    }\n    setItems(prevItems => prevItems.filter(i => i.id !== item.id));\n  };\n\n  const handleExpand = () => {\n    setIsMessagesExpanded(!isMessagesExpanded);\n    // Mark all messages as read when expanding\n    if (!isMessagesExpanded && onMessageRead) {\n      pickupRequests[currentRequestIndex].messages.forEach(msg => {\n        if (!msg.isRead) onMessageRead(pickupRequests[currentRequestIndex].id, msg.id);\n      });\n    }\n  };\n\n  const totalRequests = pickupRequests.length;\n\n  return (\n    <div className=\"max-w-4xl mx-auto space-y-8\">\n      {/* Request Navigation */}\n      <div className=\"flex justify-between items-center px-4\">\n        <CustomButton\n          onClick={() => setCurrentRequestIndex(prev => Math.max(0, prev - 1))}\n          disabled={currentRequestIndex === 0}\n          className=\"bg-[#4B7163] text-white px-4 py-2 rounded-lg\"\n        >\n          &lt;\n        </CustomButton>\n        \n        <h2 className=\"font-rockwell text-2xl text-[#4B7163]\">\n          {currentRequestIndex + 1} of {totalRequests}\n        </h2>\n        \n        <CustomButton\n          onClick={() => setCurrentRequestIndex(prev => Math.min(totalRequests - 1, prev + 1))}\n          disabled={currentRequestIndex === totalRequests - 1}\n          className=\"bg-[#4B7163] text-white px-4 py-2 rounded-lg\"\n        >\n          &gt;\n        </CustomButton>\n      </div>\n\n      {/* Swipeable Items Section */}\n      <div className=\"bg-white rounded-2xl border-2 border-[#4B7163] p-6\">\n        <h3 className=\"font-rockwell text-xl text-[#4B7163] mb-4\">\n          Items to Review ({pickupRequests[currentRequestIndex].items.length})\n        </h3>\n        \n        <div className=\"relative h-[500px]\">\n          {pickupRequests[currentRequestIndex].items.map((item, index) => (\n            <SwipeCard\n              key={item.id}\n              imageUrl={item.imageUrl}\n              alt={item.name || 'Pickup request item'}\n              isVisible={index === pickupRequests[currentRequestIndex].items.length - 1}\n              onSwipe={(direction) => handleSwipe(direction, item)}\n            >\n              <div className=\"space-y-4\">\n                <p className=\"font-sourceSans text-gray-600\">\n                  {item.description}\n                </p>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center gap-2 text-[#5A7C6F]\">\n                    <MapPin className=\"h-4 w-4\" />\n                    <span className=\"text-sm\">{item.location}</span>\n                  </div>\n                  <div className=\"flex items-center gap-2 text-[#5A7C6F]\">\n                    <Calendar className=\"h-4 w-4\" />\n                    <div className=\"text-sm\">\n                      Available: \n                      {item.availableDates.map((dateInfo, idx) => (\n                        <span key={dateInfo.date}>\n                          {idx > 0 && ', '}\n                          {dateInfo.date}\n                          <span className=\"text-[#6AB098] ml-1\">\n                            ({dateInfo.requestCount} request{dateInfo.requestCount !== 1 ? 's' : ''})\n                          </span>\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </SwipeCard>\n          ))}\n          \n          {/* Mobile Swipe Instructions */}\n          <div className=\"absolute bottom-0 left-0 right-0 flex justify-center gap-8 pb-4 text-sm text-gray-500 sm:hidden\">\n            <div className=\"flex items-center gap-1\">\n              <X className=\"h-4 w-4 text-red-500\" /> Swipe left to reject\n            </div>\n            <div className=\"flex items-center gap-1\">\n              <Check className=\"h-4 w-4 text-green-500\" /> Swipe right to accept\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Communication Section */}\n      <MessageThread\n        messages={pickupRequests[currentRequestIndex].messages}\n        onSendMessage={(message) => onSendMessage(pickupRequests[currentRequestIndex].id, message)}\n        onMessageRead={(messageId) => onMessageRead?.(pickupRequests[currentRequestIndex].id, messageId)}\n        className={className}\n      />\n    </div>\n  );\n};","'use client';\n\nimport React from 'react';\nimport { Tag } from './Tag';\nimport { CustomButton } from './CustomButton';\nimport { cn } from '@/lib/utils';\nimport { ShoppingCart } from 'lucide-react';\n\ninterface ProductAttribute {\n  label: string;\n  value: string;\n}\n\ninterface ProductCardProps {\n  imageUrl: string;\n  title: string;\n  category: string;\n  description: string;\n  price: number;\n  salePrice?: number;\n  attributes?: ProductAttribute[];\n  onAddToCart?: () => void;\n  className?: string;\n}\n\nexport const ProductCard = ({\n  imageUrl,\n  title,\n  category,\n  description,\n  price,\n  salePrice,\n  attributes,\n  onAddToCart,\n  className,\n}: ProductCardProps) => {\n  return (\n    <div className={cn(\n      'bg-white rounded-2xl border-2 border-[#4B7163] p-6',\n      'flex flex-col',\n      className\n    )}>\n      {/* Image Container */}\n      <div className=\"w-full h-[200px] rounded-xl overflow-hidden mb-6\">\n        <img \n          src={imageUrl} \n          alt={title}\n          className=\"w-full h-full object-cover\"\n        />\n      </div>\n\n      {/* Content Container */}\n      <div className=\"flex flex-col flex-grow\">\n        <div className=\"flex-grow space-y-4\">\n          {/* Category and Title Group */}\n          <div>\n            <span className=\"text-sm font-sourceSans text-[#5A7C6F] mb-1 block\">\n              {category}\n            </span>\n            <h3 className=\"font-rockwell text-2xl text-[#4B7163]\">\n              {title}\n            </h3>\n          </div>\n\n          {/* Description */}\n          <p className=\"font-sourceSans text-gray-600 text-base\">\n            {description}\n          </p>\n\n          {/* Attributes */}\n          <div className=\"flex flex-wrap gap-2\">\n            {attributes?.map((attr, index) => (\n              <Tag\n                key={index}\n                text={attr.label}\n                variant=\"secondary\"\n              />\n            ))}\n          </div>\n        </div>\n\n        {/* Price and Add to Cart */}\n        <div className=\"flex items-center justify-between pt-6 mt-6 border-t border-gray-100\">\n          <div className=\"flex items-baseline gap-1\">\n            <span className=\"font-rockwell text-3xl text-[#4B7163]\">\n              ${price.toFixed(2)}\n            </span>\n            <span className=\"font-sourceSans text-sm text-gray-500\">\n              USD\n            </span>\n          </div>\n          <CustomButton\n            onClick={onAddToCart}\n            className=\"flex items-center gap-2 px-6\"\n          >\n            <ShoppingCart className=\"h-4 w-4\" />\n            Add to Cart\n          </CustomButton>\n        </div>\n      </div>\n    </div>\n  );\n};","'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { CustomButton } from './CustomButton';\nimport { X } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface CartItem {\n  id: string;\n  name: string;\n  description: string;\n  price: number;\n  imageUrl: string;\n}\n\ninterface ShoppingCartProps {\n  items: CartItem[];\n  onRemoveItem: (itemId: string) => void;\n  onCheckout: () => void;\n  className?: string;\n}\n\nexport const ShoppingCart = ({\n  items: initialItems,\n  onRemoveItem,\n  onCheckout,\n  className,\n}: ShoppingCartProps) => {\n  const [items, setItems] = useState(initialItems);\n\n  useEffect(() => {\n    setItems(initialItems);\n  }, [initialItems]);\n\n  const subtotal = items.reduce((sum, item) => sum + item.price, 0);\n  const tax = subtotal * 0.0825; // 8.25% tax\n  const total = subtotal + tax;\n\n  return (\n    <div className={cn(\n      'bg-white rounded-2xl border-2 border-[#4B7163] p-6',\n      'flex flex-col',\n      className\n    )}>\n      {/* Header */}\n      <h2 className=\"font-rockwell text-2xl text-[#4B7163] mb-6\">\n        Shopping Cart ({items.length} {items.length === 1 ? 'item' : 'items'})\n      </h2>\n\n      {items.length === 0 ? (\n        <div className=\"text-center py-8 text-gray-500 font-sourceSans\">\n          Your cart is empty\n        </div>\n      ) : (\n        <>\n          {/* Cart Items */}\n          <div className=\"flex-grow space-y-6 mb-6\">\n            {items.map((item) => (\n              <div\n                key={item.id}\n                className=\"flex gap-4 pb-6 border-b border-gray-100 last:border-b-0\"\n              >\n                {/* Item Image */}\n                <div className=\"w-24 h-24 rounded-lg overflow-hidden flex-shrink-0\">\n                  <img\n                    src={item.imageUrl}\n                    alt={item.name}\n                    className=\"w-full h-full object-cover\"\n                  />\n                </div>\n\n                {/* Item Details */}\n                <div className=\"flex-grow min-w-0\">\n                  <div className=\"flex justify-between items-start gap-2\">\n                    <div>\n                      <h3 className=\"font-rockwell text-lg text-[#4B7163] mb-1\">\n                        {item.name}\n                      </h3>\n                      <p className=\"text-sm text-gray-600 font-sourceSans\">\n                        {item.description}\n                      </p>\n                    </div>\n                    <button\n                      onClick={() => onRemoveItem(item.id)}\n                      className=\"text-gray-400 hover:text-gray-600 transition-colors p-1\"\n                      aria-label={`Remove ${item.name} from cart`}\n                    >\n                      <X className=\"h-5 w-5\" />\n                    </button>\n                  </div>\n\n                  {/* Price */}\n                  <div className=\"flex justify-end items-center mt-4\">\n                    <span className=\"font-rockwell text-lg text-[#4B7163]\">\n                      ${item.price.toFixed(2)}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* Summary */}\n          <div className=\"bg-[#F8FAF9] rounded-xl p-4 space-y-3\">\n            <div className=\"flex justify-between font-sourceSans text-[#5A7C6F]\">\n              <span>Subtotal</span>\n              <span>${subtotal.toFixed(2)}</span>\n            </div>\n            <div className=\"flex justify-between font-sourceSans text-[#5A7C6F]\">\n              <span>Tax (8.25%)</span>\n              <span>${tax.toFixed(2)}</span>\n            </div>\n            <div className=\"border-t border-[#5A7C6F]/20 pt-3\">\n              <div className=\"flex justify-between font-rockwell text-xl text-[#4B7163]\">\n                <span>Total</span>\n                <span>${total.toFixed(2)}</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Checkout Button */}\n          <CustomButton\n            onClick={onCheckout}\n            className=\"w-full mt-6\"\n            variant=\"cta\"\n          >\n            Proceed to Checkout\n          </CustomButton>\n        </>\n      )}\n    </div>\n  );\n};","'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { SwipeCard } from './SwipeCard';\n\ninterface CardData {\n  id: string | number;\n  imageUrl: string;\n  alt: string;\n  content: React.ReactNode;\n}\n\ninterface SwipeCardDeckProps {\n  cards: CardData[];\n  onSwipeLeft?: (card: CardData) => void;\n  onSwipeRight?: (card: CardData) => void;\n  onEmpty?: () => void;\n}\n\nexport const SwipeCardDeck = ({ \n  cards, \n  onSwipeLeft, \n  onSwipeRight, \n  onEmpty \n}: SwipeCardDeckProps) => {\n  const [currentCards, setCurrentCards] = useState<CardData[]>(cards);\n  const [history, setHistory] = useState<{card: CardData, direction: 'left' | 'right'}[]>([]);\n\n  useEffect(() => {\n    if (currentCards.length === 0) {\n      onEmpty?.();\n    }\n  }, [currentCards, onEmpty]);\n\n  const handleSwipe = (direction: 'left' | 'right', card: CardData) => {\n    // Add to history\n    setHistory(prev => [...prev, { card, direction }]);\n    \n    // Remove the card from the deck\n    setCurrentCards(prev => prev.filter(c => c.id !== card.id));\n    \n    // Call the appropriate callback\n    if (direction === 'left') {\n      onSwipeLeft?.(card);\n    } else {\n      onSwipeRight?.(card);\n    }\n  };\n\n  const undoLastSwipe = () => {\n    if (history.length === 0) return;\n    \n    const lastAction = history[history.length - 1];\n    setCurrentCards(prev => [...prev, lastAction.card]);\n    setHistory(prev => prev.slice(0, -1));\n  };\n\n  return (\n    <div className=\"relative w-full max-w-[300px] mx-auto h-[400px]\">\n      {/* Cards */}\n      <div className=\"relative w-full h-full\">\n        {currentCards.map((card, index) => {\n          const isTop = index === currentCards.length - 1;\n          return (\n            <SwipeCard\n              key={card.id}\n              imageUrl={card.imageUrl}\n              alt={card.alt}\n              isVisible={index >= currentCards.length - 3} // Only render the top 3 cards\n              onSwipe={(direction) => handleSwipe(direction, card)}\n            >\n              {card.content}\n            </SwipeCard>\n          );\n        })}\n      </div>\n      \n      {/* Undo Button */}\n      {history.length > 0 && (\n        <button\n          onClick={undoLastSwipe}\n          className=\"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full mt-4 \n                     px-4 py-2 bg-gray-100 rounded-full text-sm font-medium text-gray-600\n                     hover:bg-gray-200 transition-colors\"\n        >\n          Undo\n        </button>\n      )}\n    </div>\n  );\n};\n","'use client';\n\nimport * as React from 'react';\nimport { cn } from '@/lib/utils';\nimport { motion } from 'framer-motion';\n\ntype ToggleVariant = 'primary' | 'cta' | 'secondary';\n\ninterface ToggleProps {\n  checked: boolean;\n  onChange: (checked: boolean) => void;\n  variant?: ToggleVariant;\n  disabled?: boolean;\n  className?: string;\n}\n\nconst variantStyles = {\n  primary: {\n    active: 'bg-[#6AB098] hover:bg-[#5A9F87]',\n  },\n  cta: {\n    active: 'bg-[#FFD200] hover:bg-[#E6BD00]',\n  },\n  secondary: {\n    active: 'bg-[#A9D2C4] hover:bg-[#98C1B3]',\n  },\n};\n\nexport const Toggle = ({ \n  checked, \n  onChange, \n  variant = 'primary', \n  disabled = false,\n  className \n}: ToggleProps) => {\n  const handleKeyDown = (event: React.KeyboardEvent) => {\n    if (event.key === 'Enter' || event.key === ' ') {\n      event.preventDefault();\n      if (!disabled) {\n        onChange(!checked);\n      }\n    }\n  };\n\n  return (\n    <motion.button\n      type=\"button\"\n      role=\"switch\"\n      aria-checked={checked}\n      onClick={() => !disabled && onChange(!checked)}\n      onKeyDown={handleKeyDown}\n      className={cn(\n        'relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full bg-[#F8FAF9]',\n        'transition-colors duration-200 ease-in-out',\n        'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2',\n        'border border-gray-200',\n        disabled ? 'opacity-50 cursor-not-allowed' : '',\n        className\n      )}\n      animate={checked ? \"checked\" : \"unchecked\"}\n      whileTap={disabled ? undefined : { scale: 0.95 }}\n    >\n      <motion.span\n        className={cn(\n          'pointer-events-none inline-block h-5 w-5 rounded-full shadow-lg ring-0',\n          'absolute top-[2px]',\n          disabled ? 'cursor-not-allowed bg-gray-400' : \n          checked ? variantStyles[variant].active : 'bg-gray-400 hover:bg-gray-500'\n        )}\n        animate={{\n          x: checked ? \"24px\" : \"2px\",\n        }}\n        transition={{\n          type: \"spring\",\n          stiffness: 500,\n          damping: 30\n        }}\n      />\n    </motion.button>\n  );\n};","'use client';\n\nimport React, { useState } from 'react';\nimport { PickupRequestForm } from './PickupRequestForm';\nimport { FormInput } from './FormInput';\nimport { Camera, Calendar, CheckCircle2 } from 'lucide-react';\nimport { ImageUpload } from './ImageUpload';\nimport { ProgressStep } from './Progress';\n\n// Extend the UploadedItem interface\ninterface PartnerUploadedItem {\n  id: string;\n  imageUrl: string;\n  description?: string;\n  quantity?: number;\n}\n\nexport const PartnerPickupRequestForm = (props: any) => {\n  const [uploadedItems, setUploadedItems] = useState<PartnerUploadedItem[]>([]);\n  const [selectedDate, setSelectedDate] = useState('');\n  const [selectedTime, setSelectedTime] = useState('');\n\n  const handlePhotoUpload = (photos: string[]) => {\n    const newItems = photos.map(photoUrl => ({\n      id: Math.random().toString(36).substr(2, 9),\n      imageUrl: photoUrl,\n      description: '',\n      quantity: 1,\n    }));\n    setUploadedItems(prev => [...prev, ...newItems]);\n  };\n\n  const handleItemDescription = (id: string, description: string) => {\n    setUploadedItems(items => \n      items.map(item => \n        item.id === id ? { ...item, description } : item\n      )\n    );\n  };\n\n  const handleQuantityChange = (id: string, quantity: string) => {\n    setUploadedItems(items => \n      items.map(item => \n        item.id === id ? { ...item, quantity: parseInt(quantity) || 1 } : item\n      )\n    );\n  };\n\n  // Pre-filled user data\n  const user = {\n    name: \"John Doe\",\n    address: \"123 Main St, Anytown, USA\",\n  };\n\n  // Define steps\n  const defaultSteps: ProgressStep[] = [\n    {\n      label: 'Item Photos',\n      description: 'Upload photos of items you plan to drop off',\n      icon: Camera\n    },\n    {\n      label: 'Drop-off Time',\n      description: 'Choose your preferred drop-off time',\n      icon: Calendar\n    }\n  ];\n\n  // Custom step renderer for the photo upload step\n  const renderCustomStep = (currentStep: number) => {\n    if (currentStep === 1) {\n      return (\n        <div className=\"space-y-6\">\n          <div className=\"bg-[#F8FAF9] rounded-xl p-6 border-l-4 border-[#4B7163]\">\n            <h3 className=\"font-rockwell text-lg text-[#4B7163] mb-2\">\n              Upload Photos of Your Items\n            </h3>\n            <p className=\"text-[#5A7C6F]\">\n              Take clear photos of each item you plan to drop off. This helps us prepare the right space and resources.\n            </p>\n          </div>\n\n          <div className=\"bg-[#F8FAF9] rounded-xl p-6\">\n            <ImageUpload\n              onUpload={(photos) => handlePhotoUpload(photos)}\n              maxFiles={50}\n            />\n          </div>\n\n          {uploadedItems.map((item) => (\n            <div key={item.id} className=\"flex gap-4 p-4 bg-[#F8FAF9] rounded-xl\">\n              <div className=\"w-32 h-32 rounded-lg overflow-hidden flex-shrink-0\">\n                <img \n                  src={item.imageUrl} \n                  alt=\"Item\" \n                  className=\"w-full h-full object-cover\"\n                />\n              </div>\n              <div className=\"flex-grow space-y-4\">\n                <FormInput\n                  label=\"Item Description\"\n                  placeholder=\"Describe the item's condition and any relevant details\"\n                  value={item.description || ''}\n                  onChange={(value) => handleItemDescription(item.id, value)}\n                />\n                <FormInput\n                  label=\"Quantity\"\n                  type=\"number\"\n                  min={1}\n                  value={item.quantity?.toString() || '1'}\n                  onChange={(value) => handleQuantityChange(item.id, value)}\n                />\n              </div>\n            </div>\n          ))}\n        </div>\n      );\n    }\n    return null;\n  };\n\n  // Drop-off scheduling step\n  const renderDetailsStep = (\n    uploadedItems: PartnerUploadedItem[],\n    handleItemDescription: (id: string, description: string) => void,\n    handleQuantityChange: (id: string, quantity: string) => void\n  ) => (\n    <div className=\"space-y-6\">\n      <div className=\"bg-[#F8FAF9] rounded-xl p-6 border-l-4 border-[#4B7163]\">\n        <h3 className=\"font-rockwell text-lg text-[#4B7163] mb-2\">\n          Schedule Your Drop-off\n        </h3>\n        <p className=\"text-[#5A7C6F]\">\n          Choose a convenient time to drop off your items.\n        </p>\n      </div>\n\n      <div className=\"mt-8 p-4 bg-[#F8FAF9] rounded-xl\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <FormInput\n            type=\"date\"\n            label=\"Drop-off Date\"\n            value={selectedDate}\n            min={new Date().toISOString().split('T')[0]}\n            onChange={(value: string) => setSelectedDate(value)}\n          />\n          <FormInput\n            type=\"time\"\n            label=\"Drop-off Time\"\n            value={selectedTime}\n            onChange={(value: string) => setSelectedTime(value)}\n          />\n        </div>\n        <p className=\"text-sm text-[#5A7C6F] mt-2\">\n          Drop-off hours: Mon-Fri, 9AM-5PM\n        </p>\n      </div>\n    </div>\n  );\n\n  return (\n    <PickupRequestForm\n      skipContactStep={true}\n      skipAddressStep={true}\n      skipConfirmationStep={true}\n      steps={defaultSteps}\n      renderCustomStep={renderCustomStep}\n      uploadedItems={uploadedItems}\n      setUploadedItems={setUploadedItems}\n      selectedDate={selectedDate}\n      selectedTime={selectedTime}\n      onDateSelect={setSelectedDate}\n      onTimeSelect={setSelectedTime}\n      {...props}\n      renderDetailsStep={renderDetailsStep}\n      validateStep={(step: number) => {\n        if (step === 1) {\n          return uploadedItems.length > 0 && \n                 uploadedItems.every(item => (item.quantity ?? 0) > 0);\n        }\n        if (step === 2) {\n          return selectedDate !== '' && selectedTime !== '';\n        }\n        return true;\n      }}\n      onSubmit={(data: any) => {\n        const itemsWithQuantities = data.items.map((item: PartnerUploadedItem) => ({\n          ...item,\n          quantity: item.quantity || 1\n        }));\n        \n        props.onSubmit({ \n          ...data, \n          items: itemsWithQuantities,\n          user,\n        });\n      }}\n    />\n  );\n};\n","'use client';\n\nimport React, { useState } from 'react';\nimport { PickupRequestForm } from './PickupRequestForm';\nimport { FormInput } from './FormInput';\nimport { CustomButton } from './CustomButton';\nimport { Upload, FolderUp, Calendar, CheckCircle2 } from 'lucide-react';\nimport { ImageUpload } from './ImageUpload';\nimport { ProgressStep } from './Progress';\nimport { addDoc, collection } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\n\ninterface PartnerUploadedItem {\n  id: string;\n  imageUrl: string;\n  description?: string;\n  quantity?: number;\n}\n\nexport const BulkPartnerPickupRequestForm = (props: any) => {\n  const [uploadMethod, setUploadMethod] = useState<'bulk' | 'individual' | null>(null);\n  const [spreadsheet, setSpreadsheet] = useState<File | null>(null);\n  const [bulkPhotos, setBulkPhotos] = useState<FileList | null>(null);\n  const [dropOffDate, setDropOffDate] = useState('');\n  const [dropOffTime, setDropOffTime] = useState('');\n\n  // Custom steps for partner form\n  const steps: ProgressStep[] = [\n    {\n      label: 'Upload Files',\n      description: 'Upload your inventory spreadsheet',\n      icon: FolderUp\n    },\n    {\n      label: 'Drop-off Time',\n      description: 'Choose your preferred drop-off time',\n      icon: Calendar\n    }\n  ];\n\n  const handleSpreadsheetUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files) {\n      setSpreadsheet(event.target.files[0]);\n    }\n  };\n\n  const handleBulkPhotoUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files) {\n      setBulkPhotos(event.target.files);\n    }\n  };\n\n  const handleSubmit = async (data: any): Promise<{ id: string }> => {\n    const formData = {\n      ...data,\n      uploadMethod,\n      spreadsheet,\n      bulkPhotos,\n      dropOffDate,\n      dropOffTime\n    };\n    console.log('Form submitted:', formData);\n    \n    const docRef = await addDoc(collection(db, 'pickupRequests'), formData);\n    return { id: docRef.id };\n  };\n\n  // Custom render function for both steps\n  const renderCustomStep = (currentStep: number) => {\n    if (currentStep === 1) {\n      return (\n        <div className=\"space-y-6\">\n          {!uploadMethod ? (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div \n                className=\"p-6 bg-[#F8FAF9] rounded-xl hover:bg-[#E9EFED] cursor-pointer transition-colors\"\n                onClick={() => setUploadMethod('bulk')}\n              >\n                <div className=\"flex flex-col items-center text-center space-y-4\">\n                  <FolderUp className=\"w-12 h-12 text-[#4B7163]\" />\n                  <h3 className=\"text-lg font-semibold\">Bulk Directory Upload</h3>\n                  <p className=\"text-sm text-gray-600\">\n                    Upload a spreadsheet and multiple photos from a directory\n                  </p>\n                </div>\n              </div>\n\n              <div \n                className=\"p-6 bg-[#F8FAF9] rounded-xl hover:bg-[#E9EFED] cursor-pointer transition-colors\"\n                onClick={() => setUploadMethod('individual')}\n              >\n                <div className=\"flex flex-col items-center text-center space-y-4\">\n                  <Upload className=\"w-12 h-12 text-[#4B7163]\" />\n                  <h3 className=\"text-lg font-semibold\">Individual Upload</h3>\n                  <p className=\"text-sm text-gray-600\">\n                    Upload photos and add descriptions one by one\n                  </p>\n                </div>\n              </div>\n            </div>\n          ) : uploadMethod === 'bulk' ? (\n            <div className=\"space-y-6\">\n              <div className=\"p-6 bg-[#F8FAF9] rounded-xl\">\n                <h3 className=\"text-lg font-semibold mb-4\">Upload Spreadsheet</h3>\n                <input\n                  type=\"file\"\n                  accept=\".xls,.xlsx,.csv\"\n                  onChange={handleSpreadsheetUpload}\n                  className=\"w-full\"\n                />\n                {spreadsheet && (\n                  <p className=\"text-sm text-gray-500 mt-2\">\n                    Uploaded: {spreadsheet.name}\n                  </p>\n                )}\n              </div>\n\n              <div className=\"p-6 bg-[#F8FAF9] rounded-xl\">\n                <h3 className=\"text-lg font-semibold mb-4\">Upload Photos</h3>\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  multiple\n                  onChange={handleBulkPhotoUpload}\n                  className=\"w-full\"\n                />\n                {bulkPhotos && (\n                  <p className=\"text-sm text-gray-500 mt-2\">\n                    {bulkPhotos.length} photos selected\n                  </p>\n                )}\n              </div>\n\n              <CustomButton\n                variant=\"secondary\"\n                onClick={() => setUploadMethod(null)}\n                className=\"mt-4\"\n              >\n                Change Upload Method\n              </CustomButton>\n            </div>\n          ) : (\n            <div className=\"space-y-6\">\n              <ImageUpload\n                onUpload={(photos) => {\n                  console.log('Individual photos uploaded:', photos);\n                }}\n                maxFiles={10}\n              />\n              \n              <CustomButton\n                variant=\"secondary\"\n                onClick={() => setUploadMethod(null)}\n                className=\"mt-4\"\n              >\n                Change Upload Method\n              </CustomButton>\n            </div>\n          )}\n        </div>\n      );\n    } else if (currentStep === 2) {\n      return (\n        <div className=\"space-y-6\">\n          <div className=\"bg-[#F8FAF9] rounded-xl p-4\">\n            <h3 className=\"font-rockwell text-lg text-[#4B7163] mb-4\">\n              Schedule Drop-off\n            </h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <FormInput\n                type=\"date\"\n                label=\"Drop-off Date\"\n                value={dropOffDate}\n                min={new Date().toISOString().split('T')[0]}\n                onChange={setDropOffDate}\n              />\n              <FormInput\n                type=\"time\"\n                label=\"Drop-off Time\"\n                value={dropOffTime}\n                onChange={setDropOffTime}\n              />\n            </div>\n            <p className=\"text-sm text-[#5A7C6F] mt-2\">\n              Please select a date and time during our business hours (Mon-Fri, 9AM-5PM)\n            </p>\n          </div>\n        </div>\n      );\n    } else if (currentStep === 3) {\n      return (\n        <div className=\"space-y-6\">\n          <div className=\"bg-[#F8FAF9] rounded-xl p-6 text-center\">\n            <CheckCircle2 className=\"w-16 h-16 text-[#4B7163] mx-auto mb-4\" />\n            <h3 className=\"font-rockwell text-2xl text-[#4B7163] mb-4\">\n              Thank You for Your Request!\n            </h3>\n            <p className=\"text-[#5A7C6F] mb-6\">\n              We'll review your request and get back to you shortly.\n              Thank you for being a sustainable partner!\n            </p>\n          </div>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <PickupRequestForm\n      onSubmit={handleSubmit}\n      skipConfirmationStep={true}\n      selectedDate={dropOffDate}\n      selectedTime={dropOffTime}\n      onDateSelect={setDropOffDate}\n      onTimeSelect={setDropOffTime}\n      steps={steps}\n      renderDetailsStep={() => null} // Override the default first step\n      renderCustomStep={renderCustomStep} // Add custom step rendering\n    />\n  );\n}; ","'use client';\n\nimport React, { useState } from 'react';\nimport { Calendar, Clock, Truck, Package, MapPin } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { FormInput } from '@/components/FormInput';\nimport { CustomButton } from '@/components/CustomButton';\n\ninterface TimeSlotDetails {\n  id: string;\n  customerName: string;\n  address: string;\n  items: Array<{\n    id: string;\n    name: string;\n    imageUrl: string;\n    description: string;\n  }>;\n}\n\ninterface TimeSlot {\n  time: string;\n  availableDrivers: number;\n  pickupCount: number;\n  dropoffCount: number;\n  pickups: TimeSlotDetails[];\n  dropoffs: TimeSlotDetails[];\n}\n\nexport interface DayDetails {\n  date: string;\n  timeSlots: TimeSlot[];\n  totalPickups: number;\n  totalDropoffs: number;\n  availableDrivers: number;\n}\n\ninterface LogisticsCalendarProps {\n  onDateSelect: (date: string) => void;\n  onTimeSelect: (time: string) => void;\n  selectedDate?: string;\n  selectedTime?: string;\n  className?: string;\n  calendarData?: DayDetails[];\n}\n\nexport const LogisticsCalendar = ({\n  onDateSelect,\n  onTimeSelect,\n  selectedDate,\n  selectedTime,\n  className,\n  calendarData = []\n}: LogisticsCalendarProps) => {\n  const dayDetails = calendarData;\n  const availableDates = dayDetails.map(d => d.date);\n  const [showDetails, setShowDetails] = useState(false);\n\n  const selectedTimeSlot = selectedDate && selectedTime ? \n    dayDetails.find(d => d.date === selectedDate)?.timeSlots.find(t => t.time === selectedTime)\n    : null;\n\n  const handleTimeSelect = (time: string) => {\n    onTimeSelect(time);\n    setShowDetails(true);\n  };\n\n  return (\n    <div className={cn(\"bg-white rounded-xl border-2 border-[#4B7163] p-6\", className)}>\n      <div className=\"space-y-6\">\n        {!showDetails ? (\n          <>\n            {/* Calendar Section */}\n            <div>\n              <h3 className=\"font-rockwell text-xl text-[#4B7163] mb-4 flex items-center gap-2\">\n                <Calendar className=\"w-5 h-5\" />\n                Select Date\n              </h3>\n              <div className=\"relative\">\n                <FormInput\n                  type=\"date\"\n                  label=\"Date\"\n                  value={selectedDate || ''}\n                  min={new Date().toISOString().split('T')[0]}\n                  onChange={(value: string) => {\n                    if (availableDates.includes(value)) {\n                      onDateSelect(value);\n                    }\n                  }}\n                  className={cn(\n                    \"w-full\",\n                    dayDetails.some(d => d.date === selectedDate) && \"border-[#4B7163] bg-[#F8FAF9]\"\n                  )}\n                  list=\"available-dates\"\n                />\n                <datalist id=\"available-dates\">\n                  {availableDates.map(date => (\n                    <option key={date} value={date} />\n                  ))}\n                </datalist>\n                {!availableDates.includes(selectedDate || '') && selectedDate && (\n                  <p className=\"text-sm text-red-500 mt-1\">No available times for this date</p>\n                )}\n              </div>\n            </div>\n\n            {/* Time Slots Section */}\n            {selectedDate && dayDetails.find(d => d.date === selectedDate) && (\n              <div>\n                <h3 className=\"font-rockwell text-xl text-[#4B7163] mb-4 flex items-center gap-2\">\n                  <Clock className=\"w-5 h-5\" />\n                  Available Times\n                </h3>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  {dayDetails.find(d => d.date === selectedDate)?.timeSlots\n                    .sort((a, b) => a.time.localeCompare(b.time))  // Sort times chronologically\n                    .map((slot) => (\n                      <button\n                        key={slot.time}\n                        onClick={() => handleTimeSelect(slot.time)}\n                        className={cn(\n                          \"p-4 rounded-lg border-2 text-left transition-colors h-full\", // Added h-full\n                          selectedTime === slot.time\n                            ? \"border-[#4B7163] bg-[#4B7163] text-white\"\n                            : \"border-[#4B7163]/20 hover:border-[#4B7163]\"\n                        )}\n                      >\n                        <div className=\"flex flex-col h-full justify-between\">  {/* Structured layout */}\n                          <div className=\"mb-3\">\n                            <div className=\"text-lg font-semibold mb-1\">{slot.time}</div>\n                            <div className=\"text-sm opacity-75\">\n                              {slot.availableDrivers} drivers available\n                            </div>\n                          </div>\n                          <div className=\"flex justify-between text-sm\">\n                            <div className=\"flex flex-col items-center\" title=\"Number of pickups\">\n                              <Truck className=\"w-5 h-5 mb-1\" />\n                              <div className=\"text-lg font-bold\">\n                                {slot.pickupCount}\n                              </div>\n                            </div>\n                            <div className=\"flex flex-col items-center\" title=\"Number of drop-offs\">\n                              <Package className=\"w-5 h-5 mb-1\" />\n                              <div className=\"text-lg font-bold\">\n                                {slot.dropoffCount}\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </button>\n                    ))}\n                </div>\n\n                {/* Daily Summary */}\n                <div className=\"mt-6 p-4 bg-[#F8FAF9] rounded-lg\">\n                  <h4 className=\"font-semibold text-[#4B7163] mb-2\">Daily Summary</h4>\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div>Total Pickups: {dayDetails[0].totalPickups}</div>\n                    <div>Total Drop-offs: {dayDetails[0].totalDropoffs}</div>\n                    <div>Available Drivers: {dayDetails[0].availableDrivers}</div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </>\n        ) : (\n          <div className=\"space-y-6\">\n            <div className=\"flex items-center justify-between\">\n              <h3 className=\"font-rockwell text-xl text-[#4B7163] flex items-center gap-2\">\n                <Clock className=\"w-5 h-5\" />\n                {selectedDate} at {selectedTime}\n              </h3>\n              <CustomButton\n                variant=\"secondary\"\n                onClick={() => setShowDetails(false)}\n                className=\"flex items-center gap-2\"\n              >\n                <Calendar className=\"w-4 h-4\" />\n                Back to Calendar\n              </CustomButton>\n            </div>\n\n            <div className=\"space-y-6\">\n              {/* Pickups Section */}\n              <div className=\"bg-[#F8FAF9] p-4 rounded-lg\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <Truck className=\"w-5 h-5 text-[#4B7163]\" />\n                    <h4 className=\"font-semibold text-[#4B7163]\">\n                      Pickups ({selectedTimeSlot?.pickupCount})\n                    </h4>\n                  </div>\n                </div>\n                <div className=\"space-y-4\">\n                  {selectedTimeSlot?.pickups.map((pickup) => (\n                    <div key={pickup.id} className=\"border-b border-[#4B7163]/20 pb-4\">\n                      <div className=\"flex justify-between mb-2\">\n                        <span className=\"font-semibold\">{pickup.customerName}</span>\n                      </div>\n                      <div className=\"flex items-center gap-2 text-sm text-[#5A7C6F] mb-2\">\n                        <MapPin className=\"w-4 h-4\" />\n                        {pickup.address}\n                      </div>\n                      <div className=\"flex gap-2 overflow-x-auto pb-2\">\n                        {pickup.items.map((item) => (\n                          <img\n                            key={item.id}\n                            src={item.imageUrl}\n                            alt={item.name}\n                            className=\"w-16 h-16 object-cover rounded\"\n                            title={item.description}\n                          />\n                        ))}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Drop-offs Section */}\n              <div className=\"bg-[#F8FAF9] p-4 rounded-lg\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <Package className=\"w-5 h-5 text-[#4B7163]\" />\n                    <h4 className=\"font-semibold text-[#4B7163]\">\n                      Drop-offs ({selectedTimeSlot?.dropoffCount})\n                    </h4>\n                  </div>\n                </div>\n                <div className=\"space-y-4\">\n                  {selectedTimeSlot?.dropoffs.map((dropoff) => (\n                    <div key={dropoff.id} className=\"border-b border-[#4B7163]/20 pb-4\">\n                      <div className=\"flex justify-between mb-2\">\n                        <span className=\"font-semibold\">{dropoff.customerName}</span>\n                      </div>\n                      <div className=\"flex items-center gap-2 text-sm text-[#5A7C6F] mb-2\">\n                        <MapPin className=\"w-4 h-4\" />\n                        {dropoff.address}\n                      </div>\n                      <div className=\"flex gap-2 overflow-x-auto pb-2\">\n                        {dropoff.items.map((item) => (\n                          <img\n                            key={item.id}\n                            src={item.imageUrl}\n                            alt={item.name}\n                            className=\"w-16 h-16 object-cover rounded\"\n                            title={item.description}\n                          />\n                        ))}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};","import { PickupRequest } from '@/types/PickupRequest';\nimport { Card } from '@/components/Card';\n\ninterface PickupListProps {\n  pickups: PickupRequest[];\n  onSelectPickup: (pickup: PickupRequest) => void;\n}\n\nexport const PickupList = ({ pickups, onSelectPickup }: PickupListProps) => {\n  return (\n    <div className=\"flex flex-col gap-4\">\n      {pickups.map((pickup) => (\n        <Card \n          key={pickup.id}\n          imageUrl={pickup.pickupPhoto}\n          alt={`Pickup ${pickup.id}`}\n          onClick={() => onSelectPickup(pickup)}\n          className=\"cursor-pointer hover:shadow-lg transition-shadow\"\n        >\n          <div className=\"p-4\">\n            <h3 className=\"font-rockwell text-lg text-[#4B7163]\">\n              Pickup #{pickup.id}\n            </h3>\n            <p className=\"text-sm text-gray-600 mt-2\">\n              Status: {pickup.status}\n            </p>\n          </div>\n        </Card>\n      ))}\n    </div>\n  );\n}; ","'use client';\n\nimport React from 'react';\nimport { CustomButton } from './CustomButton';\nimport { ArrowRight } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface ProcessingItem {\n  id: string;\n  productId: string;\n  pickupPhoto: string;\n  pickupDescription: string;\n  receivedDate: Date;\n  customerName: string;\n}\n\ninterface ProcessingQueueProps {\n  items: ProcessingItem[];\n  onSelectItem: (itemId: string) => void;\n  className?: string;\n}\n\nexport const ProcessingQueue = ({\n  items,\n  onSelectItem,\n  className,\n}: ProcessingQueueProps) => {\n  return (\n    <div className={cn(\n      'bg-white rounded-2xl border-2 border-[#4B7163] p-6',\n      'flex flex-col',\n      className\n    )}>\n      <h2 className=\"font-rockwell text-2xl text-[#4B7163] mb-6\">\n        Items Awaiting Processing ({items.length} {items.length === 1 ? 'item' : 'items'})\n      </h2>\n\n      {items.length === 0 ? (\n        <div className=\"text-center py-8 text-gray-500 font-sourceSans\">\n          No items awaiting processing\n        </div>\n      ) : (\n        <div className=\"flex-grow space-y-6\">\n          {items.map((item) => (\n            <div\n              key={item.id}\n              className=\"flex gap-4 pb-6 border-b border-gray-100 last:border-b-0\"\n            >\n              <div className=\"w-24 h-24 rounded-lg overflow-hidden flex-shrink-0\">\n                <img\n                  src={item.pickupPhoto}\n                  alt={`Item ${item.productId}`}\n                  className=\"w-full h-full object-cover\"\n                />\n              </div>\n\n              <div className=\"flex-grow min-w-0\">\n                <div className=\"flex justify-between items-start gap-2\">\n                  <div>\n                    <h3 className=\"font-rockwell text-lg text-[#4B7163] mb-1\">\n                      Product ID: {item.productId}\n                    </h3>\n                    <p className=\"text-sm text-gray-600 font-sourceSans\">\n                      {item.pickupDescription}\n                    </p>\n                  </div>\n                  <CustomButton\n                    onClick={() => onSelectItem(item.id)}\n                    variant=\"secondary\"\n                    className=\"flex items-center gap-2\"\n                  >\n                    Process <ArrowRight className=\"h-4 w-4\" />\n                  </CustomButton>\n                </div>\n\n                <div className=\"flex justify-between items-center mt-4\">\n                  <span className=\"text-sm text-gray-500\">\n                    From: {item.customerName}\n                  </span>\n                  <span className=\"text-sm text-gray-500\">\n                    Received: {new Date(item.receivedDate).toLocaleDateString()}\n                  </span>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}; ","'use client';\n\nimport React, { useState } from 'react';\nimport { CustomButton } from './CustomButton';\nimport { Camera, Calendar, MapPin, Check, X, MessageCircle, ChevronRight } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { MessageThread } from './MessageThread';\nimport { AcceptedRequest } from '@/types/AcceptedRequest';\nimport { AcceptedPickupItem } from '@/types/PickupItem';\nimport { FormDropdown } from './FormDropdown';\nimport { SwipeCard } from './SwipeCard';\nimport { MapModal } from './MapModal';\n\ninterface AcceptedRequestManagerProps {\n  requests: AcceptedRequest[];\n  onUpdateItemStatus: (requestId: string, itemId: string, status: AcceptedPickupItem['status']) => void;\n  onAddPhoto: (requestId: string, itemId: string, photo: File, note?: string) => void;\n  onReschedule: (requestId: string, newDate: string) => void;\n  onCompletePickup: (requestId: string) => void;\n  onSendMessage: (requestId: string, message: string) => void;\n  onMessageRead?: (requestId: string, messageId: string) => void;\n  availableDates: string[];\n  className?: string;\n}\n\nexport const DriverPickupWorkflow = ({\n  requests = [],\n  onUpdateItemStatus,\n  onAddPhoto,\n  onReschedule,\n  onCompletePickup,\n  onSendMessage,\n  onMessageRead,\n  availableDates = [],\n  className\n}: AcceptedRequestManagerProps) => {\n  const [selectedRequest, setSelectedRequest] = useState<AcceptedRequest | null>(null);\n  const [selectedDate, setSelectedDate] = useState<string | null>(null);\n  const [isMessagesExpanded, setIsMessagesExpanded] = useState(false);\n  const [isMapModalOpen, setIsMapModalOpen] = useState(false);\n\n  // Sort requests by pickup date\n  const filteredRequests = (requests || [])\n    .sort((a, b) => {\n      const dateA = a.pickupDate ? new Date(a.pickupDate).getTime() : 0;\n      const dateB = b.pickupDate ? new Date(b.pickupDate).getTime() : 0;\n      return dateA - dateB;\n    })\n    .filter(request => !selectedDate || request.pickupDate?.toISOString().split('T')[0] === selectedDate);\n\n  if (!selectedRequest) {\n    return (\n      <div className={cn(\n        'bg-white rounded-2xl border-2 border-[#4B7163] p-6',\n        'flex flex-col',\n        className\n      )}>\n        <h2 className=\"font-rockwell text-2xl text-[#4B7163] mb-6\">\n          Pickups ({filteredRequests.length})\n        </h2>\n\n        <div className=\"mb-4\">\n          <FormDropdown\n            label=\"Filter by Date\"\n            value={selectedDate || ''}\n            onChange={(value) => setSelectedDate(value || null)}\n            options={[\n              { value: '', label: 'All Dates' },\n              ...(availableDates || []).map(date => ({\n                value: date,\n                label: new Date(date).toLocaleDateString()\n              }))\n            ]}\n          />\n        </div>\n\n        <div className=\"space-y-4\">\n          {filteredRequests.map((request) => (\n            <div\n              key={request.id}\n              onClick={() => setSelectedRequest(request)}\n              className=\"flex items-center gap-4 p-4 rounded-xl bg-[#F8FAF9] hover:bg-[#F0F4F2] cursor-pointer transition-colors\"\n            >\n              <div className=\"flex-grow\">\n                <h3 className=\"font-rockwell text-lg text-[#4B7163]\">\n                  {request.customerName}\n                </h3>\n                <div className=\"flex items-center gap-2 text-sm text-[#5A7C6F] mt-1\">\n                  <MapPin className=\"h-4 w-4\" />\n                  <span>{request.address}</span>\n                </div>\n                <div className=\"flex items-center gap-2 text-sm text-[#5A7C6F] mt-1\">\n                  <Calendar className=\"h-4 w-4\" />\n                  <span>{request.pickupDate ? new Date(request.pickupDate).toLocaleDateString() : 'No date set'}</span>\n                </div>\n              </div>\n              <ChevronRight className=\"h-6 w-6 text-[#5A7C6F]\" />\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn(\"max-w-4xl mx-auto\", className)}>\n      <CustomButton\n        variant=\"secondary\"\n        onClick={() => setSelectedRequest(null)}\n        className=\"mb-4\"\n      >\n        ← Back to List\n      </CustomButton>\n\n      <div className=\"bg-white rounded-2xl border-2 border-[#4B7163] p-6 space-y-6\">\n        <h2 className=\"font-rockwell text-2xl text-[#4B7163] mb-4\">\n          Pickup Details\n        </h2>\n\n        <div className=\"mb-6\">\n          <h3 className=\"font-rockwell text-lg text-[#4B7163] mb-2\">Customer Information</h3>\n          <div className=\"bg-[#F8FAF9] p-4 rounded-xl\">\n            <p className=\"text-[#5A7C6F] mb-2\"><strong>Name:</strong> {selectedRequest.customerName}</p>\n            <p className=\"text-[#5A7C6F] mb-2\"><strong>Contact:</strong> {selectedRequest.customerEmail || selectedRequest.customerPhone}</p>\n            <div \n              className=\"flex items-center gap-2 text-[#5A7C6F] cursor-pointer hover:text-[#4B7163] transition-colors\"\n              onClick={() => setIsMapModalOpen(true)}\n            >\n              <MapPin className=\"h-4 w-4\" />\n              <p className=\"underline\">{selectedRequest.address}</p>\n            </div>\n            <div className=\"flex items-center gap-2 text-[#5A7C6F] mt-2\">\n              <Calendar className=\"h-4 w-4\" />\n              <p>{new Date(selectedRequest.pickupDate || '').toLocaleDateString()}</p>\n            </div>\n          </div>\n        </div>\n\n        {isMapModalOpen && (\n          <MapModal\n            address={selectedRequest.address}\n            onClose={() => setIsMapModalOpen(false)}\n          />\n        )}\n\n        <div className=\"flex flex-col gap-4\">\n          <h3 className=\"font-rockwell text-lg text-[#4B7163] mb-2\">Items</h3>\n          <div className=\"grid grid-cols-1 gap-8 mb-4\">\n            {selectedRequest.items.map((item) => (\n              <div \n                className=\"aspect-[3/4] w-full relative\"\n                key={item.id}\n              >\n                <div className=\"absolute inset-0 -mx-8\">\n                  <div className=\"relative h-full mx-8\">\n                    <SwipeCard\n                      imageUrl={item.verificationPhotos?.[0]?.imageUrl || item.imageUrl || ''}\n                      alt={item.name}\n                      onSwipe={(direction) => {\n                        onUpdateItemStatus(\n                          selectedRequest.id,\n                          item.id,\n                          direction === 'right' ? 'verified' : 'incorrect'\n                        );\n                      }}\n                    >\n                      <div className=\"bg-[#F8FAF9] p-4 rounded-xl h-full overflow-y-auto\">\n                        <h4 className=\"font-semibold text-[#4B7163] mb-2\">{item.name}</h4>\n                        <p className=\"text-sm text-[#5A7C6F] mb-2\">{item.description}</p>\n                        <div className=\"flex items-center gap-2\">\n                          <span className={cn(\n                            \"px-2 py-1 rounded-full text-xs\",\n                            item.status === 'verified' && \"bg-green-100 text-green-800\",\n                            item.status === 'incorrect' && \"bg-red-100 text-red-800\",\n                            item.status === 'pending' && \"bg-yellow-100 text-yellow-800\"\n                          )}>\n                            {item.status.charAt(0).toUpperCase() + item.status.slice(1)}\n                          </span>\n                        </div>\n                      </div>\n                    </SwipeCard>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n          \n          {/* Swipe Instructions */}\n          <div className=\"flex justify-center gap-8 text-sm text-gray-500 mt-2\">\n            <div className=\"flex items-center gap-1\">\n              <X className=\"h-4 w-4 text-red-500\" /> Swipe left if not picking up item\n            </div>\n            <div className=\"flex items-center gap-1\">\n              <Check className=\"h-4 w-4 text-green-500\" /> Swipe right if you have picked up the item\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mt-6\">\n          <MessageThread\n            messages={selectedRequest.messages}\n            onSendMessage={(message) => onSendMessage(selectedRequest.id, message)}\n            onMessageRead={(messageId) => onMessageRead?.(selectedRequest.id, messageId)}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}; ","'use client';\n\nimport React, { useState } from 'react';\nimport { Package, FileSpreadsheet, Plus, Minus, Search } from 'lucide-react';\nimport { CustomButton } from './CustomButton';\nimport { cn } from '@/lib/utils';\nimport { MessageThread } from './MessageThread';\n\ninterface DropoffItem {\n  id: string;\n  name: string;\n  description: string;\n  quantity: number;\n  condition: string;\n  category: string;\n  imageUrl: string;\n  estimatedValue: number;\n}\n\ninterface DropoffRequest {\n  id: string;\n  partnerName: string;\n  partnerEmail: string;\n  partnerPhone: string;\n  scheduledDate: string;\n  status: 'pending' | 'approved' | 'rejected' | 'completed';\n  items: DropoffItem[];\n  messages: Array<{\n    id: string;\n    content: string;\n    timestamp: Date;\n    isRead: boolean;\n    sender: 'user' | 'admin';\n  }>;\n}\n\ninterface DropoffRequestManagerProps {\n  dropoffRequests: DropoffRequest[];\n  onApproveRequest: (id: string) => void;\n  onRejectRequest: (id: string) => void;\n  onUpdateStatus: (id: string, status: string) => void;\n  onSendMessage: (id: string, message: string) => void;\n  onUpdateQuantity: (requestId: string, itemId: string, quantity: number) => void;\n  className?: string;\n}\n\nexport const DropoffRequestManager = ({\n  dropoffRequests,\n  onApproveRequest,\n  onRejectRequest,\n  onUpdateStatus,\n  onSendMessage,\n  onUpdateQuantity,\n  className\n}: DropoffRequestManagerProps) => {\n  const [currentRequestIndex, setCurrentRequestIndex] = useState(0);\n  const [sortField, setSortField] = useState<keyof DropoffItem>('name');\n  const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('asc');\n\n  const currentRequest = dropoffRequests[currentRequestIndex];\n\n  const sortedItems = [...(currentRequest?.items || [])].sort((a, b) => {\n    if (sortDirection === 'asc') {\n      return a[sortField] > b[sortField] ? 1 : -1;\n    }\n    return a[sortField] < b[sortField] ? 1 : -1;\n  });\n\n  return (\n    <div className={cn(\"space-y-6\", className)}>\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-2xl font-rockwell text-[#4B7163]\">\n          Partner Drop-off Requests\n        </h2>\n        <div className=\"flex gap-2\">\n          <CustomButton\n            onClick={() => setCurrentRequestIndex(prev => Math.max(0, prev - 1))}\n            disabled={currentRequestIndex === 0}\n          >\n            Previous\n          </CustomButton>\n          <CustomButton\n            onClick={() => setCurrentRequestIndex(prev => Math.min(dropoffRequests.length - 1, prev + 1))}\n            disabled={currentRequestIndex === dropoffRequests.length - 1}\n          >\n            Next\n          </CustomButton>\n        </div>\n      </div>\n\n      {/* Partner Info */}\n      <div className=\"bg-[#F8FAF9] p-4 rounded-lg\">\n        <h3 className=\"font-semibold text-[#4B7163] mb-2\">Partner Information</h3>\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div>\n            <p className=\"text-sm text-gray-600\">Name</p>\n            <p className=\"font-medium\">{currentRequest.partnerName}</p>\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-600\">Email</p>\n            <p className=\"font-medium\">{currentRequest.partnerEmail}</p>\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-600\">Phone</p>\n            <p className=\"font-medium\">{currentRequest.partnerPhone}</p>\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-600\">Scheduled Date</p>\n            <p className=\"font-medium\">{currentRequest.scheduledDate}</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Items List */}\n      <div className=\"bg-white rounded-lg border-2 border-[#4B7163] overflow-hidden\">\n        <div className=\"p-4 border-b border-[#4B7163]\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h3 className=\"font-semibold text-[#4B7163] flex items-center gap-2\">\n              <Package className=\"w-5 h-5\" />\n              Items ({currentRequest?.items.length})\n            </h3>\n            <div className=\"flex gap-2\">\n              <CustomButton\n                variant=\"secondary\"\n                onClick={() => window.open('/path-to-spreadsheet')}\n                className=\"flex items-center gap-2\"\n              >\n                <FileSpreadsheet className=\"w-4 h-4\" />\n                Export\n              </CustomButton>\n            </div>\n          </div>\n\n          {/* Spreadsheet-like table */}\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-[#F8FAF9]\">\n                <tr>\n                  <th className=\"p-2 text-left\">Image</th>\n                  <th className=\"p-2 text-left\">Name</th>\n                  <th className=\"p-2 text-left\">Description</th>\n                  <th className=\"p-2 text-left\">Category</th>\n                  <th className=\"p-2 text-left\">Condition</th>\n                  <th className=\"p-2 text-right\">Est. Value</th>\n                  <th className=\"p-2 text-center\">Quantity</th>\n                </tr>\n              </thead>\n              <tbody>\n                {sortedItems.map((item) => (\n                  <tr key={item.id} className=\"border-t border-gray-200\">\n                    <td className=\"p-2\">\n                      <img \n                        src={item.imageUrl} \n                        alt={item.name}\n                        className=\"w-16 h-16 object-cover rounded\"\n                      />\n                    </td>\n                    <td className=\"p-2\">{item.name}</td>\n                    <td className=\"p-2\">{item.description}</td>\n                    <td className=\"p-2\">{item.category}</td>\n                    <td className=\"p-2\">{item.condition}</td>\n                    <td className=\"p-2 text-right\">${item.estimatedValue}</td>\n                    <td className=\"p-2\">\n                      <div className=\"flex items-center justify-center gap-2\">\n                        <button\n                          onClick={() => onUpdateQuantity(currentRequest.id, item.id, item.quantity - 1)}\n                          disabled={item.quantity <= 1}\n                          className=\"p-1 hover:bg-gray-100 rounded\"\n                        >\n                          <Minus className=\"w-4 h-4\" />\n                        </button>\n                        <span className=\"w-8 text-center\">{item.quantity}</span>\n                        <button\n                          onClick={() => onUpdateQuantity(currentRequest.id, item.id, item.quantity + 1)}\n                          className=\"p-1 hover:bg-gray-100 rounded\"\n                        >\n                          <Plus className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n\n      {/* Communication */}\n      <MessageThread\n        messages={currentRequest.messages}\n        onSendMessage={(message) => onSendMessage(currentRequest.id, message)}\n      />\n    </div>\n  );\n}; ","'use client';\n\nimport React, { useState } from 'react';\nimport { ProcessingQueue } from './ProcessingQueue';\nimport { ListingWorkflow } from './ListingWorkflow';\n\ninterface ProcessingItem {\n  id: string;\n  productId: string;\n  pickupPhoto: string;\n  pickupDescription: string;\n  receivedDate: Date;\n  customerName: string;\n  status?: 'in_inventory' | 'ready_for_sale';\n}\n\ninterface InventoryProcessingManagerProps {\n  items: ProcessingItem[];\n  onUpdateDetails: (itemId: string, details: any) => void;\n  onUpdateStatus: (itemId: string, status: 'ready_for_sale') => void;\n  onSaveDraft: (itemId: string, details: any) => void;\n  className?: string;\n}\n\nexport const InventoryProcessingManager = ({\n  items,\n  onUpdateDetails,\n  onUpdateStatus,\n  onSaveDraft,\n  className\n}: InventoryProcessingManagerProps) => {\n  const [selectedItemId, setSelectedItemId] = useState<string | null>(null);\n\n  const handleSelectItem = (itemId: string) => {\n    setSelectedItemId(itemId);\n  };\n\n  const handleBack = () => {\n    setSelectedItemId(null);\n  };\n\n  if (selectedItemId) {\n    const processingItems = items.map(item => ({\n      ...item,\n      status: item.status || 'in_inventory'\n    }));\n\n    return (\n      <div className={className}>\n        <button \n          onClick={handleBack}\n          className=\"mb-4 text-[#4B7163] hover:text-[#3A5A4F] font-sourceSans\"\n        >\n          ← Back to Queue\n        </button>\n        <ListingWorkflow\n          items={processingItems.filter(item => item.id === selectedItemId)}\n          onUpdateDetails={onUpdateDetails}\n          onUpdateStatus={onUpdateStatus}\n          onSaveDraft={onSaveDraft}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <ProcessingQueue\n      items={items}\n      onSelectItem={handleSelectItem}\n      className={className}\n    />\n  );\n}; ","'use client';\n\nimport React from 'react';\nimport { FormInput } from './FormInput';\nimport { Search, Filter } from 'lucide-react';\nimport { CustomButton } from './CustomButton';\nimport { cn } from '@/lib/utils';\n\ninterface SearchInputProps {\n  value: string;\n  onChange: (value: string) => void;\n  onSearch?: () => void;\n  onFilter?: () => void;\n  placeholder?: string;\n  className?: string;\n}\n\nexport const SearchInput = React.forwardRef<HTMLInputElement, SearchInputProps>(\n  ({ value, onChange, onSearch, onFilter, placeholder = \"Search...\", className }, ref) => {\n    return (\n      <div className=\"flex gap-2 items-end\">\n        <div className=\"flex-1 relative\">\n          <FormInput\n            ref={ref}\n            label=\"Search\"\n            value={value}\n            onChange={onChange}\n            placeholder={placeholder}\n            className={cn(\"pl-10\", className)}\n          />\n          <Search \n            className=\"absolute left-3 top-[34px] w-4 h-4 text-[#5A7C6F]/60\" \n            aria-hidden=\"true\"\n          />\n        </div>\n        <CustomButton\n          variant=\"secondary\"\n          onClick={onFilter}\n          className=\"flex items-center gap-2 h-[42px] mt-6\"\n        >\n          <Filter className=\"w-4 h-4\" />\n          Filter\n        </CustomButton>\n        <CustomButton\n          variant=\"primary\"\n          onClick={onSearch}\n          className=\"flex items-center gap-2 h-[42px] mt-6\"\n        >\n          <Search className=\"w-4 h-4\" />\n          Search\n        </CustomButton>\n      </div>\n    );\n  }\n);\n\nSearchInput.displayName = 'SearchInput'; ","'use client';\n\nimport React from 'react';\nimport NextImage from 'next/image';\nimport { Menu } from 'lucide-react';\nimport { Button } from \"./button\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetTrigger,\n} from \"@/components/sheet\";\n\nexport type MenuItem = {\n  label: string;\n  href: string;\n};\n\ninterface HeaderProps {\n  menuItems: MenuItem[];\n  logo?: {\n    src: string;\n    alt: string;\n    width?: number;\n    height?: number;\n    href: string;\n  };\n}\n\nexport const Header: React.FC<HeaderProps> = ({ menuItems, logo }) => {\n  return (\n    <header className=\"sticky top-0 z-50 w-full bg-[#4B7163] text-white shadow-lg\">\n      <div className=\"w-full max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"h-16 flex items-center justify-between\">\n          {/* Logo with Link */}\n          <div className=\"flex shrink-0 items-center\">\n            {logo && (\n              <a href={logo.href} className=\"flex items-center cursor-pointer\">\n                <NextImage\n                  src={logo.src}\n                  alt={logo.alt}\n                  width={logo.width || 300}\n                  height={logo.height || 75}\n                  className=\"h-16 w-auto\"\n                  priority\n                />\n              </a>\n            )}\n          </div>\n\n          {/* Mobile Menu */}\n          <div className=\"flex md:hidden\">\n            <Sheet>\n              <SheetTrigger asChild>\n                <Button \n                  variant=\"ghost\" \n                  size=\"icon\" \n                  className=\"text-white hover:bg-[#5a8575]\"\n                >\n                  <Menu className=\"h-6 w-6\" />\n                </Button>\n              </SheetTrigger>\n              <SheetContent \n                side=\"right\" \n                className=\"w-[80%] sm:w-[400px] bg-[#4B7163] border-l-white/20\"\n              >\n                <nav className=\"flex flex-col space-y-4 mt-8\">\n                  {menuItems.map((item) => (\n                    <a \n                      key={item.label} \n                      href={item.href} \n                      className=\"text-white text-lg hover:text-white/80 transition-colors p-2\"\n                    >\n                      {item.label}\n                    </a>\n                  ))}\n                </nav>\n              </SheetContent>\n            </Sheet>\n          </div>\n\n          {/* Desktop Menu */}\n          <nav className=\"hidden md:flex items-center space-x-8\">\n            {menuItems.map((item) => (\n              <a \n                key={item.label} \n                href={item.href} \n                className=\"text-sm font-medium hover:text-gray-300 transition-colors\"\n              >\n                {item.label}\n              </a>\n            ))}\n          </nav>\n        </div>\n      </div>\n    </header>\n  );\n}; ","\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","interface FooterProps {\n  copyrightText: string;\n  additionalContent?: React.ReactNode;\n}\n\nexport const Footer = ({ copyrightText, additionalContent }: FooterProps) => {\n  return (\n    <footer className=\"w-full bg-[#4B7163] text-white py-6 mt-auto\">\n      <div className=\"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8\">\n        <p className=\"text-center\">{copyrightText}</p>\n        {additionalContent && <div className=\"mt-4\">{additionalContent}</div>}\n      </div>\n    </footer>\n  );\n}; ","'use client';\n\nimport { cn } from '@/lib/utils';\n\ninterface PageProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const Page = ({ children, className }: PageProps) => (\n  <div className={cn(\"min-h-screen flex flex-col\", className)}>\n    {children}\n  </div>\n);\n"]}